/*!
 * /*
 *  * The MIT License (MIT)
 *  *
 *  * Copyright (c) 2016-2019 Dan "Ducky" Little
 *  *
 *  * Permission is hereby granted, free of charge, to any person obtaining a copy
 *  * of this software and associated documentation files (the "Software"), to deal
 *  * in the Software without restriction, including without limitation the rights
 *  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 *  * copies of the Software, and to permit persons to whom the Software is
 *  * furnished to do so, subject to the following conditions:
 *  *
 *  * The above copyright notice and this permission notice shall be included in all
 *  * copies or substantial portions of the Software.
 *  *
 *  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 *  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 *  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 *  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 *  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 *  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 *  * SOFTWARE.
 *  * /
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.gm3=e():t.gm3=e()}(window,(function(){return function(t){function e(e){for(var n,i,o=e[0],a=e[1],s=0,l=[];s<o.length;s++)i=o[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(u&&u(e);l.length;)l.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=o);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=function(t){return i.p+""+t+".geomoose.min.js"}(t);var u=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var s=0;s<o.length;s++)e(o[s]);var u=a;return i(i.s=385)}([function(t,e,n){"use strict";n.r(e),n.d(e,"PJD_3PARAM",(function(){return r})),n.d(e,"PJD_7PARAM",(function(){return i})),n.d(e,"PJD_WGS84",(function(){return o})),n.d(e,"PJD_NODATUM",(function(){return a})),n.d(e,"SEC_TO_RAD",(function(){return s})),n.d(e,"HALF_PI",(function(){return u})),n.d(e,"SIXTH",(function(){return l})),n.d(e,"RA4",(function(){return c})),n.d(e,"RA6",(function(){return f})),n.d(e,"EPSLN",(function(){return h})),n.d(e,"D2R",(function(){return p})),n.d(e,"R2D",(function(){return d})),n.d(e,"FORTPI",(function(){return g})),n.d(e,"TWO_PI",(function(){return y})),n.d(e,"SPI",(function(){return m}));var r=1,i=2,o=4,a=5,s=484813681109536e-20,u=Math.PI/2,l=.16666666666666666,c=.04722222222222222,f=.022156084656084655,h=1e-10,p=.017453292519943295,d=57.29577951308232,g=Math.PI/4,y=2*Math.PI,m=3.14159265359},function(t,e,n){var r=n(10),i=n(52),o=n(38),a=n(39),s=n(53),u=function(t,e,n){var l,c,f,h,p=t&u.F,d=t&u.G,g=t&u.S,y=t&u.P,m=t&u.B,v=d?r:g?r[e]||(r[e]={}):(r[e]||{}).prototype,_=d?i:i[e]||(i[e]={}),b=_.prototype||(_.prototype={});for(l in d&&(n=e),n)f=((c=!p&&v&&void 0!==v[l])?v:n)[l],h=m&&c?s(f,r):y&&"function"==typeof f?s(Function.call,f):f,v&&a(v,l,f,t&u.U),_[l]!=f&&o(_,l,h),y&&b[l]!=f&&(b[l]=f)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){"use strict";t.exports=n(598)},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(70);e.default=function(t){return Math.abs(t)<=r.SPI?t:t-Object(i.a)(t)*r.TWO_PI}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.boundingExtent=function(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)h(e,t[n]);return e},e.buffer=function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},e.clone=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},e.closestSquaredDistanceXY=function(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i},e.containsCoordinate=function(t,e){return s(t,e[0],e[1])},e.containsExtent=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},e.containsXY=s,e.coordinateRelationship=u,e.createEmpty=l,e.createOrUpdate=c,e.createOrUpdateEmpty=f,e.createOrUpdateFromCoordinate=function(t,e){var n=t[0],r=t[1];return c(n,r,n,r,e)},e.createOrUpdateFromCoordinates=function(t,e){return p(f(e),t)},e.createOrUpdateFromFlatCoordinates=function(t,e,n,r,i){return d(f(i),t,e,n,r)},e.createOrUpdateFromRings=function(t,e){return g(f(e),t)},e.equals=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},e.approximatelyEquals=function(t,e,n){return Math.abs(t[0]-e[0])<n&&Math.abs(t[2]-e[2])<n&&Math.abs(t[1]-e[1])<n&&Math.abs(t[3]-e[3])<n},e.extend=function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},e.extendCoordinate=h,e.extendCoordinates=p,e.extendFlatCoordinates=d,e.extendRings=g,e.extendXY=y,e.forEachCorner=function(t,e){var n;return(n=e(v(t)))?n:(n=e(_(t)))?n:(n=e(E(t)))?n:!!(n=e(S(t)))&&n},e.getArea=m,e.getBottomLeft=v,e.getBottomRight=_,e.getCenter=b,e.getCorner=function(t,e){var n;return e===i.default.BOTTOM_LEFT?n=v(t):e===i.default.BOTTOM_RIGHT?n=_(t):e===i.default.TOP_LEFT?n=S(t):e===i.default.TOP_RIGHT?n=E(t):(0,r.assert)(!1,13),n},e.getEnlargedArea=function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)},e.getForViewAndSize=function(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=o*s,f=o*u,h=a*s,p=a*u,d=t[0],g=t[1],y=d-l+p,m=d-l-p,v=d+l-p,_=d+l+p,b=g-f-h,w=g-f+h,x=g+f+h,S=g+f-h;return c(Math.min(y,m,v,_),Math.min(b,w,x,S),Math.max(y,m,v,_),Math.max(b,w,x,S),i)},e.getHeight=w,e.getIntersectionArea=function(t,e){return m(x(t,e))},e.getIntersection=x,e.getMargin=function(t){return O(t)+w(t)},e.getSize=function(t){return[t[2]-t[0],t[3]-t[1]]},e.getTopLeft=S,e.getTopRight=E,e.getWidth=O,e.intersects=P,e.isEmpty=C,e.returnOrUpdate=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},e.scaleFromCenter=function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},e.intersectsSegment=function(t,e,n){var r=!1,i=u(t,e),a=u(t,n);if(i===o.default.INTERSECTING||a===o.default.INTERSECTING)r=!0;else{var s=t[0],l=t[1],c=t[2],f=t[3],h=e[0],p=e[1],d=n[0],g=n[1],y=(g-p)/(d-h),m=void 0,v=void 0;a&o.default.ABOVE&&!(i&o.default.ABOVE)&&(r=(m=d-(g-f)/y)>=s&&m<=c),r||!(a&o.default.RIGHT)||i&o.default.RIGHT||(r=(v=g-(d-c)*y)>=l&&v<=f),r||!(a&o.default.BELOW)||i&o.default.BELOW||(r=(m=d-(g-l)/y)>=s&&m<=c),r||!(a&o.default.LEFT)||i&o.default.LEFT||(r=(v=g-(d-s)*y)>=l&&v<=f)}return r},e.applyTransform=function(t,e,n,r){var i=[];if(r>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<r;++s)i.push(t[0]+o*s/r,t[1],t[2],t[1]+a*s/r,t[2]-o*s/r,t[3],t[0],t[3]-a*s/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var u=[],l=[],f=(s=0,i.length);s<f;s+=2)u.push(i[s]),l.push(i[s+1]);return function(t,e,n){return c(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(u,l,n)},e.wrapX=function(t,e){var n=e.getExtent(),r=b(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=O(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t};var r=n(18),i=a(n(294)),o=a(n(295));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function u(t,e){var n=t[0],r=t[1],i=t[2],a=t[3],s=e[0],u=e[1],l=o.default.UNKNOWN;return s<n?l|=o.default.LEFT:s>i&&(l|=o.default.RIGHT),u<r?l|=o.default.BELOW:u>a&&(l|=o.default.ABOVE),l===o.default.UNKNOWN&&(l=o.default.INTERSECTING),l}function l(){return[1/0,1/0,-1/0,-1/0]}function c(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function f(t){return c(1/0,1/0,-1/0,-1/0,t)}function h(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function p(t,e){for(var n=0,r=e.length;n<r;++n)h(t,e[n]);return t}function d(t,e,n,r,i){for(;n<r;n+=i)y(t,e[n],e[n+1]);return t}function g(t,e){for(var n=0,r=e.length;n<r;++n)p(t,e[n]);return t}function y(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function m(t){var e=0;return C(t)||(e=O(t)*w(t)),e}function v(t){return[t[0],t[1]]}function _(t){return[t[2],t[1]]}function b(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function w(t){return t[3]-t[1]}function x(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return P(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):f(r),r}function S(t){return[t[0],t[3]]}function E(t){return[t[2],t[3]]}function O(t){return t[2]-t[0]}function P(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function C(t){return t[2]<t[0]||t[3]<t[1]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Projection=e.METERS_PER_UNIT=void 0,e.cloneTransform=d,e.identityTransform=g,e.addProjection=y,e.addProjections=m,e.get=v,e.getPointResolution=function(t,e,n,i){var o,a=(t=v(t)).getPointResolutionFunc();if(a)o=a(e,n),i&&i!==t.getUnits()&&(s=t.getMetersPerUnit())&&(o=o*s/l.METERS_PER_UNIT[i]);else if(t.getUnits()==c.default.DEGREES&&!i||i==c.default.DEGREES)o=e;else{var s,u=x(t,v("EPSG:4326")),f=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];f=u(f,f,2),o=((0,r.getDistance)(f.slice(0,2),f.slice(2,4))+(0,r.getDistance)(f.slice(4,6),f.slice(6,8)))/2,void 0!==(s=i?l.METERS_PER_UNIT[i]:t.getMetersPerUnit())&&(o/=s)}return o},e.addEquivalentProjections=_,e.addEquivalentTransforms=b,e.clearAllProjections=function(){(0,h.clear)(),(0,f.clear)()},e.createProjection=function(t,e){return t?"string"==typeof t?v(t):t:v(e)},e.createTransformFromCoordinateTransform=w,e.addCoordinateTransforms=function(t,e,n,r){var i=v(t),o=v(e);(0,f.add)(i,o,w(n)),(0,f.add)(o,i,w(r))},e.fromLonLat=function(t,e){return E(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")},e.toLonLat=function(t,e){var n=E(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=(0,o.modulo)(r+180,360)-180),n},e.equivalent=function(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:x(t,e)===d&&n},e.getTransformFromProjections=x,e.getTransform=S,e.transform=E,e.transformExtent=O,e.transformWithProjections=function(t,e,n){return x(e,n)(t)},e.setUserProjection=C,e.clearUserProjection=function(){P=null},e.getUserProjection=function(){return P},e.useGeographic=function(){C("EPSG:4326")},e.toUserCoordinate=function(t,e){return P?E(t,e,P):t},e.fromUserCoordinate=function(t,e){return P?E(t,P,e):t},e.toUserExtent=function(t,e){return P?O(t,e,P):t},e.fromUserExtent=function(t,e){return P?O(t,P,e):t},e.addCommon=T;var r=n(292),i=n(4),o=n(19),a=n(594),s=n(595),u=p(n(141)),l=n(57),c=p(l),f=n(296),h=n(596);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function g(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function y(t){(0,h.add)(t.getCode(),t),(0,f.add)(t,t,d)}function m(t){t.forEach(y)}function v(t){return"string"==typeof t?(0,h.get)(t):t||null}function _(t){m(t),t.forEach((function(e){t.forEach((function(t){e!==t&&(0,f.add)(e,t,d)}))}))}function b(t,e,n,r){t.forEach((function(t){e.forEach((function(e){(0,f.add)(t,e,n),(0,f.add)(e,t,r)}))}))}function w(t){return function(e,n,r){for(var i=e.length,o=void 0!==r?r:2,a=void 0!==n?n:new Array(i),s=0;s<i;s+=o){var u=t([e[s],e[s+1]]);a[s]=u[0],a[s+1]=u[1];for(var l=o-1;l>=2;--l)a[s+l]=e[s+l]}return a}}function x(t,e){var n=t.getCode(),r=e.getCode(),i=(0,f.get)(n,r);return i||(i=g),i}function S(t,e){return x(v(t),v(e))}function E(t,e,n){return S(e,n)(t,void 0,t.length)}function O(t,e,n,r){var o=S(e,n);return(0,i.applyTransform)(t,o,void 0,r)}e.METERS_PER_UNIT=l.METERS_PER_UNIT,e.Projection=u.default;var P=null;function C(t){P=v(t)}function T(){_(a.PROJECTIONS),_(s.PROJECTIONS),b(s.PROJECTIONS,a.PROJECTIONS,a.fromEPSG4326,a.toEPSG4326)}T()},function(t,e,n){var r=n(15);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=n(602)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.r(e);var i=n(2),o=n.n(i),a=n(7),s=n.n(a),u=s.a.shape({trySubscribe:s.a.func.isRequired,tryUnsubscribe:s.a.func.isRequired,notifyNestedSubs:s.a.func.isRequired,isSubscribed:s.a.func.isRequired}),l=s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired});function c(t){var e;void 0===t&&(t="store");var n=t+"Subscription",o=function(e){r(a,e);var o=a.prototype;function a(n,r){var i;return(i=e.call(this,n,r)||this)[t]=n.store,i}return o.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.render=function(){return i.Children.only(this.props.children)},a}(i.Component);return o.propTypes={store:l.isRequired,children:s.a.element.isRequired},o.childContextTypes=((e={})[t]=l.isRequired,e[n]=u,e),o}o.a.forwardRef;var f=c(),h=n(49);function p(){return(p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}var g=n(377),y=n.n(g),m=n(188),v=n.n(m),_=n(252),b=null,w={notify:function(){}},x=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=w}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var t=[],e=[];return{clear:function(){e=b,t=b},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==b&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=w)},t}(),S=void 0!==o.a.forwardRef,E=0,O={};function P(){}function C(t,e){var n,o;void 0===e&&(e={});var a=e,s=a.getDisplayName,c=void 0===s?function(t){return"ConnectAdvanced("+t+")"}:s,f=a.methodName,g=void 0===f?"connectAdvanced":f,m=a.renderCountProp,b=void 0===m?void 0:m,w=a.shouldHandleStateChanges,C=void 0===w||w,T=a.storeKey,N=void 0===T?"store":T,I=a.withRef,M=void 0!==I&&I,A=d(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),L=N+"Subscription",R=E++,k=((n={})[N]=l,n[L]=u,n),F=((o={})[L]=u,o);return function(e){v()(Object(_.isValidElementType)(e),"You must pass a component to the function returned by "+g+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=c(n),a=p({},A,{getDisplayName:c,methodName:g,renderCountProp:b,shouldHandleStateChanges:C,storeKey:N,withRef:M,displayName:o,wrappedComponentName:n,WrappedComponent:e}),s=function(n){function s(t,e){var r;return(r=n.call(this,t,e)||this).version=R,r.state={},r.renderCount=0,r.store=t[N]||e[N],r.propsMode=Boolean(t[N]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(h.a)(Object(h.a)(r))),v()(r.store,'Could not find "'+N+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+N+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}r(s,n);var u=s.prototype;return u.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return(t={})[L]=e||this.context[L],t},u.componentDidMount=function(){C&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(t){this.selector.run(t)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=P,this.store=null,this.selector.run=P,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return v()(M,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+g+"() call."),this.wrappedInstance},u.setWrappedInstance=function(t){this.wrappedInstance=t},u.initSelector=function(){var e=t(this.store.dispatch,a);this.selector=function(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}(e,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(C){var t=(this.propsMode?this.props:this.context)[L];this.subscription=new x(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(O)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(t){if(!(M||b||this.propsMode&&this.subscription))return t;var e=p({},t);return M&&(e.ref=this.setWrappedInstance),b&&(e[b]=this.renderCount++),this.propsMode&&this.subscription&&(e[L]=this.subscription),e},u.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(i.createElement)(e,this.addExtraProps(t.props))},s}(i.Component);return S&&(s.prototype.UNSAFE_componentWillReceiveProps=s.prototype.componentWillReceiveProps,delete s.prototype.componentWillReceiveProps),s.WrappedComponent=e,s.displayName=o,s.childContextTypes=F,s.contextTypes=k,s.propTypes=k,y()(s,e)}}var T=Object.prototype.hasOwnProperty;function N(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function I(t,e){if(N(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!T.call(e,n[i])||!N(t[n[i]],e[n[i]]))return!1;return!0}var M=n(253);function A(t){return function(e,n){var r=t(e,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function L(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function R(t,e){return function(e,n){n.displayName;var r=function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)};return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=L(t);var i=r(e,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=L(i),i=r(e,n)),i},r}}var k=[function(t){return"function"==typeof t?R(t):void 0},function(t){return t?void 0:A((function(t){return{dispatch:t}}))},function(t){return t&&"object"==typeof t?A((function(e){return Object(M.bindActionCreators)(t,e)})):void 0}],F=[function(t){return"function"==typeof t?R(t):void 0},function(t){return t?void 0:A((function(){return{}}))}];function j(t,e,n){return p({},n,t,e)}var D=[function(t){return"function"==typeof t?function(t){return function(e,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(t):void 0},function(t){return t?void 0:function(){return j}}];function U(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function G(t,e,n,r,i){var o,a,s,u,l,c=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function d(i,p){var d=!f(p,a),g=!c(i,o);return o=i,a=p,d&&g?(s=t(o,a),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):d?(t.dependsOnOwnProps&&(s=t(o,a)),e.dependsOnOwnProps&&(u=e(r,a)),l=n(s,u,a)):g?function(){var e=t(o,a),r=!h(e,s);return s=e,r&&(l=n(s,u,a)),l}():l}return function(i,c){return p?d(i,c):function(i,c){return s=t(o=i,a=c),u=e(r,a),l=n(s,u,a),p=!0,l}(i,c)}}function z(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=d(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,o),s=r(t,o),u=i(t,o);return(o.pure?G:U)(a,s,u,t,o)}function B(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(t,e){return t===e}var V=function(t){var e={},n=e.connectHOC,r=void 0===n?C:n,i=e.mapStateToPropsFactories,o=void 0===i?F:i,a=e.mapDispatchToPropsFactories,s=void 0===a?k:a,u=e.mergePropsFactories,l=void 0===u?D:u,c=e.selectorFactory,f=void 0===c?z:c;return function(t,e,n,i){void 0===i&&(i={});var a=i,u=a.pure,c=void 0===u||u,h=a.areStatesEqual,g=void 0===h?q:h,y=a.areOwnPropsEqual,m=void 0===y?I:y,v=a.areStatePropsEqual,_=void 0===v?I:v,b=a.areMergedPropsEqual,w=void 0===b?I:b,x=d(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=B(t,o,"mapStateToProps"),E=B(e,s,"mapDispatchToProps"),O=B(n,l,"mergeProps");return r(f,p({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:S,initMapDispatchToProps:E,initMergeProps:O,pure:c,areStatesEqual:g,areOwnPropsEqual:m,areStatePropsEqual:_,areMergedPropsEqual:w},x))}}();n.d(e,"Provider",(function(){return f})),n.d(e,"createProvider",(function(){return c})),n.d(e,"connectAdvanced",(function(){return C})),n.d(e,"connect",(function(){return V}))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.abstract=function(){return function(){throw new Error("Unimplemented abstract method.")}()},e.getUid=function(t){return t.ol_uid||(t.ol_uid=String(++r))};var r=0;e.VERSION="6.3.1"},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(t){for(var e in t)delete t[e]},e.isEmpty=function(t){var e;for(e in t)return!1;return!e},e.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n},e.getValues="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e}},function(t,e,n){"use strict";function r(t,e){return t>e?1:t<e?-1:0}Object.defineProperty(e,"__esModule",{value:!0}),e.binarySearch=function(t,e,n){for(var i,o,a=n||r,s=0,u=t.length,l=!1;s<u;)(o=+a(t[i=s+(u-s>>1)],e))<0?s=i+1:(u=i,l=!o);return l?s:~s},e.numberSafeCompareFunction=r,e.includes=function(t,e){return t.indexOf(e)>=0},e.linearFindNearest=function(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1},e.reverseSubArray=function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},e.extend=function(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]},e.remove=function(t,e){var n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r},e.find=function(t,e){for(var n,r=t.length>>>0,i=0;i<r;i++)if(e(n=t[i],i,t))return n;return null},e.equals=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},e.stableSort=function(t,e){var n,r=t.length,i=Array(t.length);for(n=0;n<r;n++)i[n]={index:n,value:t[n]};for(i.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),n=0;n<t.length;n++)t[n]=i[n].value},e.findIndex=function(t,e){var n;return t.every((function(r,i){return n=i,!e(r,i,t)}))?-1:n},e.isSorted=function(t,e,n){var i=e||r;return t.every((function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)}))}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSquareBuffer=e.FORMAT_OPTIONS=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.parseBoolean=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==t)return e;var n=""+t;return!!n.match(/true/i)||("1"===n||!!n.match(/on/i))},e.getXmlTextContents=u,e.getTagContents=function(t,e,n){for(var r=[],i=t.getElementsByTagName(e),o=0,a=i.length;o<a;o++){var s=u(i[o]);if(!0!==n)return s;r.push(s)}return r},e.objectsDiffer=function t(e,n,i){var o=Object.keys(e),a=Object.keys(n),s=!0,u=!1,l=void 0;try{for(var c,f=o[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;switch(r(n[h])){case"undefined":return!0;case"string":case"number":if(e[h]!==n[h])return!0;break;case"object":if(null==n[h]&&null!=e[h])return!0;if(!0===i&&t(e[h],n[h],!0))return!0;break;default:return!0}}}catch(t){u=!0,l=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}var p=!0,d=!1,g=void 0;try{for(var y,m=a[Symbol.iterator]();!(p=(y=m.next()).done);p=!0){var v=y.value;if(o.indexOf(v)<0)return!0}}catch(t){d=!0,g=t}finally{try{!p&&m.return&&m.return()}finally{if(d)throw g}}return!1},e.getMapSourceName=function(t){return null===t?"":t.split("/")[0]},e.getLayerName=function(t){if(null===t)return"";var e=t.split("/");return e.shift(),e.join("/")},e.formatUrlParameters=l,e.featureMatch=h,e.filterFeatures=p,e.matchFeatures=function(t,e){return null==e||!1===e?t:p(t,e,!1)},e.changeFeatures=function(t,e,n,r){var i=[],o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;if(h(c,e)){var f=Object.assign({},c);n&&(f.properties=Object.assign({},c.properties,n)),r&&(f.geometry=Object.assign({},r)),i.push(f)}else i.push(c)}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}return i},e.getVersion=function(){return"3.7.1-beta"},e.getFeaturesExtent=function(t){var e=[null,null,null,null],n=function(t,e){return null===t||e<t?e:t},r=function(t,e){return null===t||e>t?e:t},i=function(t,i){e[0]=n(e[0],t),e[1]=n(e[1],i),e[2]=r(e[2],t),e[3]=r(e[3],i)};if(t.features){var o=!0,a=!1,s=void 0;try{for(var u,l=t.features[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value.geometry;if("Point"===c.type)i(c.coordinates[0],c.coordinates[1]);else if("LineString"===c.type){var f=!0,h=!1,p=void 0;try{for(var d,g=c.coordinates[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var y=d.value;i(y[0],y[1])}}catch(t){h=!0,p=t}finally{try{!f&&g.return&&g.return()}finally{if(h)throw p}}}else if("Polygon"===c.type||"MultiLineString"===c.type){var m=!0,v=!1,_=void 0;try{for(var b,w=c.coordinates[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var x=b.value,S=!0,E=!1,O=void 0;try{for(var P,C=x[Symbol.iterator]();!(S=(P=C.next()).done);S=!0){var T=P.value;i(T[0],T[1])}}catch(t){E=!0,O=t}finally{try{!S&&C.return&&C.return()}finally{if(E)throw O}}}}catch(t){v=!0,_=t}finally{try{!m&&w.return&&w.return()}finally{if(v)throw _}}}}}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}}return e},e.configureProjections=function(t){for(var e=1;e<=60;e++)for(var n=["north","south"],r=0;r<n.length;r++){var i=n[r],o="EPSG:"+(32600+e+("north"===i?0:100)),a="UTM"+e+("north"===i?"N":"S"),s="+proj=utm +zone="+e+" +"+i+"+datum=WGS84 +units=m +no_defs";t.defs(o,s),t.defs(a,t.defs(o))}},e.addProjDef=function(t,e,n){t.defs(e,n)},e.getUtmZone=function(t){return"UTM"+(Math.floor(t[0]/6+30)+1)+(t[1]>0?"N":"S")},e.geomToJson=function(t){return d.writeGeometryObject(t)},e.jsonToGeom=function(t){return d.readGeometry(t)},e.featureToJson=function(t){return d.writeFeatureObject(t)},e.jsonToFeature=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.readFeature(t,e)},e.convertLength=y,e.convertArea=m,e.metersLengthToUnits=function(t,e){return y(t,"m",e)},e.metersAreaToUnits=function(t,e){return m(t,"m",e)},e.isLayerOn=v,e.getZValue=_,e.getLayersByZOrder=function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=t[a.value];u&&void 0===u.children&&v(e,u)&&n.push({zIndex:_(e,u),layer:u})}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n.sort((function(t,e){return t.zIndex>e.zIndex?-1:1})),n},e.xhr=function(t){return(0,i.default)(t)},e.transformProperties=b,e.transformFeatures=function(t,e){if("object"!==(void 0===t?"undefined":r(t)))return e;var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;u.properties=b(t,u.properties)}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return e},e.requEstimator=function(t){return l(t).length},e.projectFeatures=function(t,e,n){var r=d.readFeatures({type:"FeatureCollection",features:t},{dataProjection:e,featureProjection:n});return d.writeFeaturesObject(r).features},e.jsonEquals=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},e.getExtentForQuery=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,n=null;for(var r in t){var i=t[r];if(i.length>0){null===n&&(n=i[0].properties.boundedBy.slice());for(var o=1,a=i.length;o<a;o++){var s=i[o].properties.boundedBy;n[0]=Math.min(n[0],s[0]),n[1]=Math.min(n[1],s[1]),n[2]=Math.max(n[2],s[2]),n[3]=Math.max(n[3],s[3])}}}if(null!==n){if(n[2]-n[0]<e){var u=(n[0]+n[2])/2;n[0]=u-e,n[2]=u+e}if(n[3]-n[1]<e){var l=(n[1]+n[3])/2;n[1]=l-e,n[3]=l+e}}return n},e.getScale=function(t,e){return t*(e?e.getMetersPerUnit():1)*39.37*(25.4/.28)},e.joinUrl=function(t,e){var n=t;return"?"!==t.substring(t.length-1)&&(n+="?"),n+l(e)};var i=s(n(217)),o=s(n(114)),a=n(174);function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return t.firstChild?t.firstChild.nodeValue:t.text?t.text:t.textContent?t.textContent:""}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];for(var r in t)if(e.indexOf(r)<=0){var i=encodeURIComponent(t[r]);n.push(r+"="+i)}return n.join("&")}function c(t,e){return e.indexOf(t)>=0}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!==e&&null!==n?e<t&&t<n:null===e?t<n:null!==n||e<t}function h(t,e){var n="any"!==e.match;for(var r in e){var i=e[r],o=t.properties[r],a=!1;switch(i.type){case"range":a=f(o,i.min,i.max);break;case"list":a=c(o,i.value);break;case"equals":a=i.value===o;break;default:a=Array.isArray(i)?c(o,i):i===o}if(a&&!n)return!0;if(!a&&n)return!1}return!!n}function p(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],i=function(){return!0};if(null!=e&&(i=(0,a.featureFilter)(["all"].concat(e)).filter),t)for(var o=0,s=t.length;o<s;o++){var u=t[o];n!==i({zoom:15},u)&&r.push(u)}return r}e.FORMAT_OPTIONS={pipes:{localize:function(t){return t.toLocaleString()},json:function(t){return JSON.stringify(t)}}};var d=new o.default,g={ft:.3048,yd:.9144,mi:1609.347,in:.0254,m:1,km:1e3,ch:20.11684,a:63.63,h:100};function y(t,e,n){return t*g[e]/g[n]}function m(t,e,n){return t*Math.pow(g[e],2)/Math.pow(g[n],2)}function v(t,e){if(!t)return!1;for(var n=!0,r=0,i=e.src.length;r<i;r++){var o=e.src[r];if(!t[o.mapSourceName])return!1;for(var a=t[o.mapSourceName],s=0,u=a.layers.length;s<u;s++){var l=a.layers[s];l.name===o.layerName&&(n=n&&l.on)}}return n}function _(t,e){return t[e.src[0].mapSourceName].zIndex}function b(t,e){var n=Object.assign({},e);for(var r in t){var i=e[r];switch(t[r]){case"string":i=""+i;break;case"number":i=parseFloat(i)}n[r]=i}return n}e.getSquareBuffer=function(t,e){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[t[0]-e,t[1]-e],[t[0]-e,t[1]+e],[t[0]+e,t[1]+e],[t[0]+e,t[1]-e],[t[0]-e,t[1]-e]]]}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new r.default(e)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(293))},function(t,e,n){"use strict";function r(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},e.squaredSegmentDistance=function(t,e,n,i,o,a){var s=o-n,u=a-i;if(0!==s||0!==u){var l=((t-n)*s+(e-i)*u)/(s*s+u*u);l>1?(n=o,i=a):l>0&&(n+=s*l,i+=u*l)}return r(t,e,n,i)},e.squaredDistance=r,e.solveLinearSystem=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var f=new Array(e),h=e-1;h>=0;h--){f[h]=t[h][e]/t[h][h];for(var p=h-1;p>=0;p--)t[p][e]-=t[p][h]*f[h]}return f},e.toDegrees=function(t){return 180*t/Math.PI},e.toRadians=function(t){return t*Math.PI/180},e.modulo=function(t,e){var n=t%e;return n*e<0?n+e:n},e.lerp=function(t,e,n){return t+n*(e-t)},e.cosh="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2}},function(t,e,n){var r=n(136)("wks"),i=n(104),o=n(10).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(55),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){"use strict";n.r(e);var r=n(97),i=n.n(r),o=n(69),a=n.n(o),s=n(155),u=n.n(s),l=n(2),c=n.n(l),f=n(378),h=n.n(f),p=n(379),d=n.n(p),g=n(380),y=n.n(g);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _,b,w={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},x=c.a.createContext();function S(){return b}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w=v({},w,{},t)}function O(){return w}var P=function(){function t(){d()(this,t),this.usedNamespaces={}}return y()(t,[{key:"addUsedNamespaces",value:function(t){var e=this;t.forEach((function(t){e.usedNamespaces[t]||(e.usedNamespaces[t]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function C(t){_=t}function T(){return _}var N={type:"3rdParty",init:function(t){E(t.options.react),C(t)}};function I(t){return function(e){return new Promise((function(n){var r=M();t.getInitialProps?t.getInitialProps(e).then((function(t){n(v({},t,{},r))})):n(r)}))}}function M(){var t=T(),e=t.reportNamespaces?t.reportNamespaces.getUsedNamespaces():[],n={},r={};return t.languages.forEach((function(n){r[n]={},e.forEach((function(e){r[n][e]=t.getResourceBundle(n,e)||{}}))})),n.initialI18nStore=r,n.initialLanguage=t.language,n}function A(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var L={};function R(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&L[e[0]]||("string"==typeof e[0]&&(L[e[0]]=new Date),A.apply(void 0,e))}function k(t,e,n){t.loadNamespaces(e,(function(){t.isInitialized?n():t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}))}function F(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t){return t&&(t.children||t.props&&t.props.children)}function G(t){return t?t&&t.children?t.children:t.props&&t.props.children:[]}function z(t){return Array.isArray(t)?t:[t]}function B(t,e,n,r,i){if(""===e)return[];var o=r.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(o.join("|")).test(e);if(!t&&!a)return[e];var s={};!function t(e){z(e).forEach((function(e){"string"!=typeof e&&(U(e)?t(G(e)):"object"!==u()(e)||c.a.isValidElement(e)||Object.assign(s,e))}))}(t);var l=n.services.interpolator.interpolate(e,D({},s,{},i),n.language);return G(function t(e,n){var i=z(e);return z(n).reduce((function(e,n,s){var l=n.children&&n.children[0]&&n.children[0].content;if("tag"===n.type){var f=i[parseInt(n.name,10)]||{},h=c.a.isValidElement(f);if("string"==typeof f)e.push(f);else if(U(f)){var p=G(f),d=t(p,n.children),g=function(t){return"[object Array]"===Object.prototype.toString.call(t)&&t.every((function(t){return c.a.isValidElement(t)}))}(p)&&0===d.length?p:d;f.dummy&&(f.children=g),e.push(c.a.cloneElement(f,D({},f.props,{key:s}),g))}else if(a&&"object"===u()(f)&&f.dummy&&!h){var y=t(i,n.children);e.push(c.a.cloneElement(f,D({},f.props,{key:s}),y))}else if(Number.isNaN(parseFloat(n.name)))if(r.transSupportBasicHtmlNodes&&o.indexOf(n.name)>-1)if(n.voidElement)e.push(c.a.createElement(n.name,{key:"".concat(n.name,"-").concat(s)}));else{var m=t(i,n.children);e.push(c.a.createElement(n.name,{key:"".concat(n.name,"-").concat(s)},m))}else if(n.voidElement)e.push("<".concat(n.name," />"));else{var v=t(i,n.children);e.push("<".concat(n.name,">").concat(v,"</").concat(n.name,">"))}else if("object"!==u()(f)||h)1===n.children.length&&l?e.push(c.a.cloneElement(f,D({},f.props,{key:s}),l)):e.push(c.a.cloneElement(f,D({},f.props,{key:s})));else{var _=n.children[0]?l:null;_&&e.push(_)}}else"text"===n.type&&e.push(n.content);return e}),[])}([{dummy:!0,children:t}],h.a.parse("<0>".concat(l,"</0>")))[0])}function q(t){var e=t.children,n=t.count,r=t.parent,o=t.i18nKey,a=t.tOptions,s=t.values,f=t.defaults,h=t.components,p=t.ns,d=t.i18n,g=t.t,y=i()(t,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]),m=Object(l.useContext)(x),v=S()&&m||{},_=v.i18n,b=v.defaultNS,w=d||_||T();if(!w)return R("You will need pass in an i18next instance by using i18nextReactModule"),e;var E=g||w.t.bind(w)||function(t){return t},P=D({},O(),{},w.options&&w.options.react),C=void 0!==r?r:P.defaultTransParent,N=p||E.ns||b||w.options&&w.options.defaultNS;N="string"==typeof N?[N]:N||["translation"];var I=f||function t(e,n,r,i){if(!n)return"";var o=e,a=z(n),s=i.transKeepBasicHtmlNodesFor||[];return a.forEach((function(e,n){var r="".concat(n);if("string"==typeof e)o="".concat(o).concat(e);else if(U(e)){var a=s.indexOf(e.type)>-1&&1===Object.keys(e.props).length&&"string"==typeof U(e)?e.type:r;o=e.props&&e.props.i18nIsDynamicList?"".concat(o,"<").concat(a,"></").concat(a,">"):"".concat(o,"<").concat(a,">").concat(t("",G(e),n+1,i),"</").concat(a,">")}else if(c.a.isValidElement(e))o=s.indexOf(e.type)>-1&&0===Object.keys(e.props).length?"".concat(o,"<").concat(e.type,"/>"):"".concat(o,"<").concat(r,"></").concat(r,">");else if("object"===u()(e)){var l=D({},e),f=l.format;delete l.format;var h=Object.keys(l);f&&1===h.length?o="".concat(o,"{{").concat(h[0],", ").concat(f,"}}"):1===h.length?o="".concat(o,"{{").concat(h[0],"}}"):A("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else A("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),o}("",e,0,P)||P.transEmptyNodeValue||o,M=P.hashTransKey,L=o||(M?M(I):I),k=D({},a,{count:n},s,{},s?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},{defaultValue:I,ns:N}),F=L?E(L,k):I;return C?c.a.createElement(C,y,B(h||e,F,w,P,k)):B(h||e,F,w,P,k)}var V=n(134),Y=n.n(V);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,r=Object(l.useContext)(x),i=S()&&r||{},o=i.i18n,s=i.defaultNS,u=n||o||T();if(u&&!u.reportNamespaces&&(u.reportNamespaces=new P),!u){R("You will need pass in an i18next instance by using initReactI18next");var c=function(t){return Array.isArray(t)?t[t.length-1]:t},f=[c,{},!1];return f.t=c,f.i18n={},f.ready=!1,f}var h=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},O(),{},u.options.react,{},e),p=h.useSuspense,d=t||s||u.options&&u.options.defaultNS;d="string"==typeof d?[d]:d||["translation"],u.reportNamespaces.addUsedNamespaces&&u.reportNamespaces.addUsedNamespaces(d);var g=(u.isInitialized||u.initializedStoreOnce)&&d.every((function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return R("i18n.languages were undefined or empty",e.languages),!0;var r=e.languages[0],i=!!e.options&&e.options.fallbackLng,o=e.languages[e.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)||!e.hasResourceBundle(r,t)&&e.services.backendConnector.backend&&(!a(r,t)||i&&!a(o,t)))}(t,u,h)}));function y(){return{t:u.getFixedT(null,"fallback"===h.nsMode?d:d[0])}}var m=Object(l.useState)(y()),v=Y()(m,2),_=v[0],b=v[1],w=Object(l.useRef)(!0);Object(l.useEffect)((function(){var t=h.bindI18n,e=h.bindI18nStore;function n(){w.current&&b(y())}return w.current=!0,g||p||k(u,d,(function(){w.current&&b(y())})),t&&u&&u.on(t,n),e&&u&&u.store.on(e,n),function(){w.current=!1,t&&u&&t.split(" ").forEach((function(t){return u.off(t,n)})),e&&u&&e.split(" ").forEach((function(t){return u.store.off(t,n)}))}}),[d.join()]);var E=[_.t,u,g];if(E.t=_.t,E.i18n=u,E.ready=g,g)return E;if(!g&&!p)return E;throw new Promise((function(t){k(u,d,(function(){w.current&&b(y()),t()}))}))}function X(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var o=r.forwardedRef,s=i()(r,["forwardedRef"]),u=W(t,s),l=Y()(u,3),f=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s,{t:l[0],i18n:l[1],tReady:l[2]});return e.withRef&&o?f.ref=o:!e.withRef&&o&&(f.forwardedRef=o),c.a.createElement(n,f)}return r.displayName="withI18nextTranslation(".concat(F(n),")"),r.WrappedComponent=n,e.withRef?c.a.forwardRef((function(t,e){return c.a.createElement(r,Object.assign({},t,{forwardedRef:e}))})):r}}function Z(t){var e=t.ns,n=t.children,r=W(e,i()(t,["ns","children"])),o=Y()(r,3),a=o[0],s=o[1],u=o[2];return n(a,{i18n:s,lng:s.language},u)}function J(t){var e=t.i18n,n=t.defaultNS,r=t.children;return b=!0,c.a.createElement(x.Provider,{value:{i18n:e,defaultNS:n}},r)}function Q(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).i18n,r=Object(l.useContext)(x),i=(S()&&r||{}).i18n,o=n||i||T();o.options&&o.options.isClone||(t&&!o.initializedStoreOnce&&(o.services.resourceStore.data=t,o.options.ns=Object.values(t).reduce((function(t,e){return Object.keys(e).forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t}),o.options.ns),o.initializedStoreOnce=!0,o.isInitialized=!0),e&&!o.initializedLanguageOnce&&(o.changeLanguage(e),o.initializedLanguageOnce=!0))}function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tt(){return function(t){function e(e){var n=e.initialI18nStore,r=e.initialLanguage,o=i()(e,["initialI18nStore","initialLanguage"]);return Q(n,r),c.a.createElement(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(n,!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},o))}return e.getInitialProps=I(t),e.displayName="withI18nextSSR(".concat(F(t),")"),e.WrappedComponent=t,e}}n.d(e,"Trans",(function(){return q})),n.d(e,"useTranslation",(function(){return W})),n.d(e,"withTranslation",(function(){return K})),n.d(e,"Translation",(function(){return Z})),n.d(e,"I18nextProvider",(function(){return J})),n.d(e,"withSSR",(function(){return tt})),n.d(e,"useSSR",(function(){return Q})),n.d(e,"I18nContext",(function(){return x})),n.d(e,"initReactI18next",(function(){return N})),n.d(e,"setDefaults",(function(){return E})),n.d(e,"getDefaults",(function(){return O})),n.d(e,"setI18n",(function(){return C})),n.d(e,"getI18n",(function(){return T})),n.d(e,"composeInitialProps",(function(){return I})),n.d(e,"getInitialProps",(function(){return M}))},function(t,e,n){t.exports=!n(12)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listen=void 0,e.listenOnce=function(t,e,n,r){return i(t,e,n,r,!0)},e.unlistenByKey=function(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),(0,r.clear)(t))};var r=n(13);function i(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}e.listen=i},function(t,e,n){var r=n(6),i=n(256),o=n(61),a=Object.defineProperty;e.f=n(23)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(62);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=f,e.addLayer=h,e.favoriteLayer=function(t,e,n){return{type:o.MAPSOURCE.LAYER_FAVORITE,mapSourceName:t,layerName:e,favorite:n}},e.addFromXml=function(t,e){var n={name:t.getAttribute("name"),urls:u.getTagContents(t,"url",!0),type:t.getAttribute("type"),label:t.getAttribute("title"),opacity:t.getAttribute("opacity"),zIndex:t.getAttribute("z-index"),queryable:u.parseBoolean(t.getAttribute("queryable"),!0),printable:u.parseBoolean(t.getAttribute("printable"),!0),refresh:null,layers:[],transforms:{},params:{},config:{},properties:[],idProperty:"_uuid"};n.zIndex&&(n.zIndex=parseInt(n.zIndex,10)),n.opacity=parseFloat(n.opacity),isNaN(n.opacity)&&(n.opacity=1);var r=t.getAttribute("server-type");r&&(n.serverType=r),"mapserver"===n.type?Object.assign(n,function(t,e){return d(t,e,"wms")}(t,e)):"mapserver-wfs"===n.type&&Object.assign(n,function(t,e){var n=d(t,e,"wfs");return n.wgs84Hack=!0,n}(t,e)),["refresh","minresolution","maxresolution"].forEach((function(e){var r=t.getAttribute(e);r&&(n[e]=parseFloat(r))}));for(var i=t.getElementsByTagName("transform"),o=0,a=i.length;o<a;o++){var s=i[o];n.transforms[s.getAttribute("attribute")]=s.getAttribute("function")}Object.assign(n.params,{},p(t)),Object.assign(n.config,{},p(t,"config")),n.config["id-property"]&&(n.idProperty=n.config["id-property"],delete n.config["id-property"]),Object.assign(n.properties,function(t){var e=[],n=t.getElementsByTagName("properties")[0];if(n)for(var r=n.getElementsByTagName("property"),i=["name","label","type","default","min","max","step"],o=0,a=r.length;o<a;o++){for(var s=r[o],u={},l=0,c=i.length;l<c;l++){var f=i[l],h=s.getAttribute(f);null!=h&&(u[f]=s.getAttribute(f))}e.push(u)}return e}(t));for(var l=[],c=t.getElementsByTagName("layer"),g=0,y=c.length;g<y;g++){var m=c[g],v=m.getAttribute("title"),_={name:m.getAttribute("name"),on:u.parseBoolean(m.getAttribute("status")),favorite:u.parseBoolean(m.getAttribute("favorite")),selectable:u.parseBoolean(m.getAttribute("selectable")),label:v||n.label,templates:{},legend:null,attribution:null,style:null,queryAs:m.getAttribute("query-as")},b=m.getElementsByTagName("legend");b.length>0&&(_.legend={type:b[0].getAttribute("type"),contents:u.getXmlTextContents(b[0])});var w=m.getElementsByTagName("attribution");w.length>0&&(_.attribution=u.getXmlTextContents(w[0]));for(var x=m.getElementsByTagName("template"),S=0,E=x.length;S<E;S++){var O,P=x[S],C=P.getAttribute("name"),T=P.getAttribute("src"),N=P.getAttribute("alias"),I=u.parseBoolean(P.getAttribute("auto"));O=N?{type:"alias",alias:N}:T?{type:"remote",src:T}:I?{type:"auto"}:{type:"local",contents:u.getXmlTextContents(P)},_.templates[C]=O}var M=u.getTagContents(m,"style",!1);if(M&&M.length>0)try{_.style=JSON.parse(M)}catch(t){console.error("There was an error parsing the style for: ",n.name),console.error("Error details",t)}var A=u.getTagContents(m,"filter",!1);if(A&&A.length>0)try{_.filter=JSON.parse(A)}catch(t){console.error("There was an error parsing the filter for: ",n.name),console.error("Error details",t)}_.queryAs&&(_.queryAs=_.queryAs.split(":")),l.push(h(n.name,_))}return[f(n)].concat(l)},e.remove=function(t){return{type:o.MAPSOURCE.REMOVE,path:t}},e.getLayer=g,e.getLayerByPath=function(t,e){var n=e.split("/");return g(t,{mapSourceName:n[0],layerName:n[1]})},e.getVisibility=function(t,e){return!0===g(t,e).on},e.isFavoriteLayer=function(t,e){return!0===g(t,e).favorite},e.getActiveMapSources=function(t){var e=[],n=!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]);for(var r in t)y(t[r])&&(n||t[r].printable)&&e.push(r);return e},e.getLayerFromPath=m,e.matchLayers=_,e.getVisibleLayers=function(t){return _(t,v)},e.getLayerFromSources=b,e.getQueryableLayers=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],void 0===e.requireVisible||e.requireVisible),r=function(t,r,i){var o=!0;if(e&&e.withTemplate){var a=e.withTemplate;"string"==typeof a&&(a=[a]),a=a.map((function(t){return 0===t.indexOf("@")?t.slice(1):t}));var s=void 0===e.anyTemplate||!0===e.anyTemplate?function(t,e){return t||e}:function(t,e){return t&&e},u=i.templates;if(o=!1,u)for(var l=0,c=a.length;l<c;l++){o=s(o,void 0!==u[a[l]])}}return o&&function(t){if(!1===t.queryable)return!1;switch(t.type){case"wms":case"wfs":case"ags-vector":case"geojson":case"vector":return!0;default:return!1}}(t)&&(!n||v(t,r))},i=[];for(var o in t)for(var a=t[o],s=0,u=a.layers.length;s<u;s++){var l=a.layers[s],c=!1;if(l.queryAs)for(var f=0,h=l.queryAs.length;f<h;f++){var p=l.queryAs[f].split("/"),d=b(t,p[0],p[1]);r(a,l,d)&&(i.push(l.queryAs[f]),c=!0)}!c&&r(a,l,l)&&i.push(o+"/"+l.name)}return i},e.getSelectableLayers=function(t){return _(t,(function(t,e){return function(t,e){switch(t.type){case"wfs":case"vector":case"ags-vector":return!0===e.selectable;default:return!1}}(t,e)&&v(t,e)}))},e.setRefresh=function(t,e){return{type:o.MAPSOURCE.REFRESH,mapSourceName:t,refresh:e}},e.addFeatures=w,e.clearFeatures=x,e.removeFeatures=function(t,e){return{type:o.MAPSOURCE.REMOVE_FEATURES,mapSourceName:t,filter:e}},e.removeFeature=function(t,e){return function(n,i){var s=m(i().mapSources,t),l=u.getMapSourceName(t),c=l;s&&s.queryAs&&s.queryAs.length>0&&(c=u.getMapSourceName(s.queryAs[0]));var f=i().mapSources[c];if(f){var h=f.idProperty,p=e.id||(e.properties||{})[h];if("vector"===f.type)return n({type:o.MAPSOURCE.REMOVE_FEATURE,mapSourceName:c,id:p}),new Promise((function(t){return t()}));if("wfs"===f.type){var d=(0,r.get)("EPSG:3857"),g=[P(e)],y=(0,a.wfsDeleteFeatures)(f,d,g);return fetch(f.urls[0]+"",{method:"POST",body:y}).then((function(t){return t.text()})).then((function(t){n(O(l))}))}console.error(f.type+" sources do not support saving.")}}},e.modifyFeatureGeometry=S,e.changeFeatures=E,e.getOrderedMapSources=function(t){var e=[];for(var n in t)y(t[n])&&e.push(n);return e.sort((function(t,e){return t.zIndex<e.zIndex?-1:1}))},e.setMapSourceZIndex=function(t,e){return{type:o.MAPSOURCE.SET_Z,mapSourceName:t,zIndex:e}},e.setOpacity=function(t,e){return{type:o.MAPSOURCE.SET_OPACITY,mapSourceName:t,opacity:e}},e.setLayerTemplate=function(t,e,n,r){return{type:o.MAPSOURCE.SET_TEMPLATE,mapSourceName:t,layerName:e,name:n,template:r}},e.setLayerVisibility=function(t,e,n){return function(r,a){var u=a().map;r({type:o.MAPSOURCE.LAYER_VIS,layerName:e,mapSourceName:t,on:n});var l=t+"/"+e;u.activeSource!==l&&u.editPath!==l||(r((0,i.changeTool)(null)),r(x(s.EDIT_LAYER_NAME)))}},e.reloadSource=O,e.saveFeature=function(t,e){return function(n,i){var o=m(i().mapSources,t),s=u.getMapSourceName(t),l=s;o&&o.queryAs&&o.queryAs.length>0&&(l=u.getMapSourceName(o.queryAs[0]));var c=i().mapSources[l];if(c){var f=c.idProperty,h=e.id||(e.properties||{})[f];if("vector"===c.type)if(h){n(S(l,h,e.geometry,f));var p={};p[f]=h,n(E(l,p,e.properties))}else n(w(l,[e]));else if("wfs"===c.type){var d=(0,r.get)("EPSG:3857"),g=[P(e)],y=(0,a.wfsSaveFeatures)(c,d,g,!h);fetch(c.urls[0]+"",{method:"POST",body:y}).then((function(t){return t.text()})).then((function(t){n(O(s))}))}else console.error(c.type+" sources do not support saving.")}}};var r=n(5),i=n(37),o=n(28),a=n(305),s=n(90),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),l=1e5,c={opacity:1};function f(t){"number"!=typeof t.zIndex&&(t.zIndex=l,l--);var e=Object.assign({},c,t);return{type:o.MAPSOURCE.ADD,mapSource:e}}function h(t,e){return{type:o.MAPSOURCE.ADD_LAYER,mapSourceName:t,layer:e}}function p(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"param",n={},r=t.getElementsByTagName(e),i=0,o=r.length;i<o;i++){var a=r[i];n[a.getAttribute("name")]=a.getAttribute("value")}return n}function d(t,e,n){var r=u.getTagContents(t,"url",!0),i=u.getTagContents(t,"file",!0)[0];return 0===r.length&&(r=[e.mapserver_url]),{type:n,serverType:"mapserver",urls:r,params:{MAP:e.mapfile_root+i}}}function g(t,e){var n=t[e.mapSourceName],r=!0,i=!1,o=void 0;try{for(var a,s=n.layers[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.name===e.layerName)return u}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}if(null==e.layerName)return n;throw console.error("Cannot find layer",e.mapSourceName,e.layerName),new Error("Cannot find layer "+e.mapSourceName+"/"+e.layerName)}function y(t){if(t.layers){var e=!0,n=!1,r=void 0;try{for(var i,o=t.layers[Symbol.iterator]();!(e=(i=o.next()).done);e=!0)if(i.value.on)return!0}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}return!1}function m(t,e){return g(t,{mapSourceName:u.getMapSourceName(e),layerName:u.getLayerName(e)})}function v(t,e){return!0===e.on}function _(t,e){var n=[];for(var r in t)for(var i=t[r].layers,o=0,a=i.length;o<a;o++)e(t[r],i[o])&&n.push(r+"/"+i[o].name);return n}function b(t,e,n){if(t[e])for(var r=t[e],i=0,o=r.layers.length;i<o;i++)if(r.layers[i].name===n)return r.layers[i];return null}function w(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:o.MAPSOURCE.ADD_FEATURES,mapSourceName:t,features:e,copy:n}}function x(t){return{type:o.MAPSOURCE.CLEAR_FEATURES,mapSourceName:t}}function S(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"uuid";return{type:o.MAPSOURCE.MODIFY_GEOMETRY,mapSourceName:t,id:e,geometry:n,idProp:r}}function E(t,e,n){return{type:o.MAPSOURCE.CHANGE_FEATURES,mapSourceName:t,filter:e,properties:n}}function O(t){return{type:o.MAPSOURCE.RELOAD,mapSourceName:t}}var P=function(t){var e=Object.assign({},t.properties);return delete e.boundedBy,Object.assign({},t,{properties:e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAPSOURCE={ADD:"MAPSOURCE_ADD",REMOVE:"MAPSOURCE_RM",MOVE:"MAPSOURCE_MV",ADD_LAYER:"MAPSOURCE_ADD_LAYER",LAYER_VIS:"MAPSOURCE_LAYER_VIS",LAYER_FAVORITE:"MAPSOURCE_LAYER_FAVORITE",REFRESH:"MAPSOURCE_REFRESH",SET_Z:"MAPSOURCE_SET_Z",SET_OPACITY:"MAPSOURCE_OPACITY",SET_TEMPLATE:"MAPSOURCE_SET_TEMPLATE",ADD_FEATURES:"MAPSOURCE_ADD_FEATURES",REMOVE_FEATURE:"MAPSOURCE_REMOVE_FEATURE",REMOVE_FEATURES:"MAPSOURCE_REMOVE_FEATURES",CLEAR_FEATURES:"MAPSOURCE_CLEAR_FEATURES",MODIFY_GEOMETRY:"MAPSOURCE_MODIFY_GEOMETRY",CHANGE_FEATURES:"MAPSOURCE_CHANGE_FEATURES",RELOAD:"MAPSOURCE_RELOAD_FEATURES"},e.CATALOG={ADD_LAYER:"CATALOG_ADD_LAYER",ADD_GROUP:"CATALOG_ADD_GROUP",ADD_CHILD:"CATALOG_ADD_CHILD",REMOVE_LAYER:"CATALOG_RM_LAYER",REMOVE_GROUP:"CATALOG_RM_GROUP",GROUP_VIS:"CATALOG_GROUP_VIS",FAVORITE:"CATALOG_FAVORITE",REFRESH:"CATALOG_REFRESH",LEGEND_VIS:"CATALOG_LEGEND_VIS"},e.MAP={MOVE:"MAP_MOVE",CURSOR:"MAP_CURSOR",CHANGE_TOOL:"MAP_CHANGE_TOOL",ADD_SELECTION_FEATURE:"MAP_ADD_SELECTION_FEATURE",CLEAR_SELECTION_FEATURES:"MAP_CLEAR_SELECTION_FEATURES",BUFFER_SELECTION_FEATURES:"MAP_BUFFER_SELECTION_FEATURES",QUERY_NEW:"MAP_QUERY_NEW",QUERY_PROGRESS:"MAP_QUERY_PROGRESS",QUERY_START:"MAP_QUERY_START",QUERY_FINISHED:"MAP_QUERY_FINISHED",QUERY_RESULTS:"MAP_QUERY_RESULTS",QUERY_REMOVE:"MAP_QUERY_REMOVE",QUERY_RESULTS_REMOVE:"MAP_QUERY_FEATURES_REMOVE",QUERY_RENDERED_RESULTS:"MAP_QUERY_RENDERED_RESULTS",SKETCH_GEOMETRY:"MAP_SKETCH_GEOMETRY",ZOOM_TO_EXTENT:"MAP_ZOOM_TO_EXTENT",ADD_FILTER:"MAP_ADD_FILTER",REMOVE_FILTER:"MAP_REMOVE_FILTER",SET_EDIT_PATH:"MAP_SET_EDIT_PATH"},e.TOOLBAR={ADD:"TOOLBAR_ADD",REMOVE:"TOOLBAR_REMOVE"},e.QUERY={START:"QUERY_START",RESULTS:"QUERY_RESULTS",EMPTY:"QUERY_EMPTY",ADD:"QUERY_ADD_ITEM",REMOVE:"QUERY_REMOVE_ITEM"},e.SERVICE={START:"SERVICE_START",FINISH:"SERVICE_FINISH",SHOW_FORM:"SERVICE_SHOW_FORM"},e.UI={HINT:"UI_HINT",CLEAR_HINT:"UI_CLEAR_HINT",RUN_ACTION:"UI_RUN_ACTION",CLEAR_ACTION:"UI_CLEAR_ACTION",SHOW_MODAL:"UI_SHOW_MODAL"},e.PRINT={FINISHED:"PRINT_DONE",REQUEST:"PRINT_REQUEST",IMAGE:"PRINT_IMAGE"},e.CONFIG={SET:"GM3_CONFIG_SET"},e.EDITOR={START_EDIT:"GM3_EDITOR_START_EDIT",FINISH_EDIT:"GM3_EDITOR_FINISH_EDIT",REMOVE:"GM3_EDITOR_REMOVE"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRUE=function(){return!0},e.FALSE=function(){return!1},e.VOID=function(){},e.memoizeOne=function(t){var e,n,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&(0,r.equals)(a,n)||(o=!0,i=this,n=a,e=t.apply(this,arguments)),e}};var r=n(14)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectEvent=void 0,e.getChangeEventType=p;var r=n(11),i=u(n(127)),o=u(n(218)),a=u(n(31)),s=n(13);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return l(e,t),e}(a.default);e.ObjectEvent=c;var f=function(t){function e(e){var n=t.call(this)||this;return(0,r.getUid)(n),n.values_={},void 0!==e&&n.setProperties(e),n}return l(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return(0,s.assign)({},this.values_)},e.prototype.notify=function(t,e){var n;n=p(t),this.dispatchEvent(new c(n,t,e)),n=i.default.PROPERTYCHANGE,this.dispatchEvent(new c(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.default),h={};function p(t){return h.hasOwnProperty(t)?h[t]:h[t]="change:"+t}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stopPropagation=function(t){t.stopPropagation()},e.preventDefault=function(t){t.preventDefault()};var r=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasContext2D=function(t,e,n){var i=n&&n.length?n.shift():r.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")},e.outerWidth=function(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))},e.outerHeight=function(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))},e.replaceNode=function(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)},e.removeNode=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},e.removeChildren=function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},e.replaceChildren=function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}};var r=n(82)},function(t,e,n){"use strict";n.r(e),e.default=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circular=function(t,e,n,i){for(var a=n||32,s=[],u=0;u<a;++u)(0,r.extend)(s,(0,c.offset)(t,e,2*Math.PI*u/a,i));return s.push(s[0],s[1]),new S(s,o.default.XY,[s.length])},e.fromExtent=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=[e,n,e,i,r,i,r,n,e,n];return new S(a,o.default.XY,[a.length])},e.fromCircle=function(t,e,n){for(var r=e||32,i=t.getStride(),o=t.getLayout(),a=t.getCenter(),s=i*(r+1),u=new Array(s),l=0;l<s;l+=i){u[l]=0,u[l+1]=0;for(var c=2;c<i;c++)u[l+c]=a[c]}var f=[u.length],h=new S(u,o,f);return E(h,a,t.getRadius(),n),h},e.makeRegular=E;var r=n(14),i=n(4),o=w(n(46)),a=w(n(17)),s=w(n(221)),u=w(n(47)),l=w(n(76)),c=n(292),f=n(222),h=n(142),p=n(172),d=n(77),g=n(116),y=n(223),m=n(171),v=n(173),_=n(129),b=n(19);function w(t){return t&&t.__esModule?t:{default:t}}var x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return x(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,h.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return(0,p.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return(0,f.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,v.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,i.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,y.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new u.default(this.getFlatInteriorPoint(),o.default.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var u=n[o],l=new s.default(e.slice(i,u),t);r.push(l),i=u}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,v.linearRingsAreOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,v.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=(0,_.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,o.default.XY,r)},e.prototype.getType=function(){return a.default.POLYGON},e.prototype.intersectsExtent=function(t){return(0,m.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(l.default);function E(t,e,n,r){for(var i=t.getFlatCoordinates(),o=t.getStride(),a=i.length/o-1,s=r||0,u=0;u<=a;++u){var l=u*o,c=s+2*(0,b.modulo)(u,a)*Math.PI/a;i[l]=e[0]+n*Math.cos(c),i[l+1]=e[1]+n*Math.sin(c)}t.changed()}e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(){return[1,0,0,1,0,0]},e.reset=function(t){return a(t,1,0,0,1,0,0)},e.multiply=o,e.set=a,e.setFromArray=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},e.apply=function(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e},e.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e);return o(t,a(i,n,r,-r,n,0,0))},e.scale=function(t,e,n){return o(t,a(i,e,0,0,n,0,0))},e.makeScale=function(t,e,n){return a(t,e,0,0,n,0,0)},e.translate=function(t,e,n){return o(t,a(i,1,0,0,1,e,n))},e.compose=s,e.composeCssTransform=function(t,e,n,r,i,o,a){return c(s([1,0,0,1,0,0],t,e,n,r,i,o,a))},e.invert=function(t){return u(t,t)},e.makeInverse=u,e.determinant=l,e.toString=c;var r=n(18),i=new Array(6);function o(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],l=e[1],c=e[2],f=e[3],h=e[4],p=e[5];return t[0]=n*u+i*l,t[1]=r*u+o*l,t[2]=n*c+i*f,t[3]=r*c+o*f,t[4]=n*h+i*p+a,t[5]=r*h+o*p+s,t}function a(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function s(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t}function u(t,e){var n=l(e);(0,r.assert)(0!==n,32);var i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],c=e[5];return t[0]=s/n,t[1]=-o/n,t[2]=-a/n,t[3]=i/n,t[4]=(a*c-s*u)/n,t[5]=-(i*c-o*u)/n,t}function l(t){return t[0]*t[3]-t[1]*t[2]}function c(t){return"matrix("+t.join(", ")+")"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.move=function(t,e){return{type:r.MAP.MOVE,center:t,zoom:e}},e.cursor=function(t){return{type:r.MAP.CURSOR,coords:t}},e.changeTool=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:r.MAP.CHANGE_TOOL,tool:t,src:e}},e.createQuery=function(t,e,n,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return{type:r.MAP.QUERY_NEW,query:{service:t,selection:e,fields:n,layers:i,runOptions:a},singleQuery:o}},e.startQuery=function(t){return{type:r.MAP.QUERY_START,id:t}},e.finishQuery=function(t){return{type:r.MAP.QUERY_FINISHED,id:t}},e.queryProgress=function(t){return{type:r.MAP.QUERY_PROGRESS,id:t}},e.resultsForQuery=function(t,e,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return{type:r.MAP.QUERY_RESULTS,id:t,layer:e,failed:n,features:i,messageText:o}},e.renderedResultsForQuery=function(t,e,n){return{type:r.MAP.QUERY_RENDERED_RESULTS,id:t,target:e,data:n}},e.addSelectionFeature=function(t){return{type:r.MAP.ADD_SELECTION_FEATURE,feature:t}},e.zoomToExtent=function(t,e){return{type:r.MAP.ZOOM_TO_EXTENT,extent:t,projection:e}},e.removeQuery=function(t){return{type:r.MAP.QUERY_REMOVE,id:t}},e.removeQueryResults=function(t,e){return{type:r.MAP.QUERY_RESULTS_REMOVE,id:t,filter:e}},e.clearSelectionFeatures=function(){return{type:r.MAP.CLEAR_SELECTION_FEATURES}},e.updateSketchGeometry=function(t){return{type:r.MAP.SKETCH_GEOMETRY,geometry:t}},e.addFilter=function(t,e){return{type:r.MAP.ADD_FILTER,id:t,filter:e}},e.removeFilter=function(t,e){return{type:r.MAP.REMOVE_FILTER,id:t,field:e}},e.setView=function(t){return Object.assign({type:r.MAP.MOVE},t)},e.setSelectionBuffer=function(t,e){return{type:r.MAP.BUFFER_SELECTION_FEATURES,distance:t,units:e}},e.setEditPath=function(t){return{type:r.MAP.SET_EDIT_PATH,editPath:t}};var r=n(28)},function(t,e,n){var r=n(25),i=n(103);t.exports=n(23)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(10),i=n(38),o=n(42),a=n(104)("src"),s=n(389),u=(""+s).split("toString");n(52).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var r=n(1),i=n(12),o=n(62),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.primaryAction=e.penOnly=e.touchOnly=e.mouseOnly=e.targetNotEditable=e.shiftKeyOnly=e.platformModifierKeyOnly=e.noModifierKeys=e.doubleClick=e.singleClick=e.pointerMove=e.never=e.mouseActionButton=e.click=e.always=e.focus=e.altShiftKeysOnly=e.altKeyOnly=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(94)),i=n(18),o=n(29),a=n(82);e.altKeyOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},e.altShiftKeysOnly=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},e.focus=function(t){return t.target.getTargetElement()===document.activeElement},e.always=o.TRUE,e.click=function(t){return t.type==r.default.CLICK},e.mouseActionButton=function(t){var e=t.originalEvent;return 0==e.button&&!(a.WEBKIT&&a.MAC&&e.ctrlKey)},e.never=o.FALSE,e.pointerMove=function(t){return"pointermove"==t.type},e.singleClick=function(t){return t.type==r.default.SINGLECLICK},e.doubleClick=function(t){return t.type==r.default.DBLCLICK},e.noModifierKeys=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},e.platformModifierKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&(a.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey},e.shiftKeyOnly=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},e.targetNotEditable=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},e.mouseOnly=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),"mouse"==e.pointerType},e.touchOnly=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),"touch"===e.pointerType},e.penOnly=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),"pen"===e.pointerType},e.primaryAction=function(t){var e=t.pointerEvent;return(0,i.assert)(void 0!==e,56),e.isPrimary&&0===e.button}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(137),i=n(62);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(138),i=n(103),o=n(43),a=n(61),s=n(42),u=n(256),l=Object.getOwnPropertyDescriptor;e.f=n(23)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(42),i=n(26),o=n(191)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=u(n(17)),o=u(n(76)),a=n(77),s=n(19);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return l(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=(0,s.squaredDistance)(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,u=0;u<a;++u)n[u]=i[u];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,r.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return i.default.POINT},e.prototype.intersectsExtent=function(t){return(0,r.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.centroid=function(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]};var r=a(n(94)),i=a(n(95)),o=n(13);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return s(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==r.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==r.default.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==r.default.POINTERDOWN){var i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==r.default.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===r.default.POINTERDOWN||e===r.default.POINTERDRAG||e===r.default.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==r.default.POINTERUP?delete this.trackedPointers_[n]:t.type==r.default.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=(0,o.getValues)(this.trackedPointers_)}},e}(i.default);e.default=u},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(34);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i=e.METERS_PER_UNIT={};i[r.DEGREES]=2*Math.PI*6370997/360,i[r.FEET]=.3048,i[r.METERS]=1,i[r.USFEET]=1200/3937,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.measureTextHeight=e.registerFont=e.textHeights=e.labelCache=e.checkedFonts=e.defaultLineWidth=e.defaultPadding=e.defaultTextBaseline=e.defaultTextAlign=e.defaultStrokeStyle=e.defaultMiterLimit=e.defaultLineJoin=e.defaultLineDashOffset=e.defaultLineDash=e.defaultLineCap=e.defaultFillStyle=e.defaultFont=void 0,e.measureTextWidth=y,e.measureAndCacheTextWidth=function(t,e,n){if(e in n)return n[e];var r=y(t,e);return n[e]=r,r},e.measureTextWidths=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=y(t,e[o]);i=Math.max(i,a),n.push(a)}return i},e.rotateAtOffset=function(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))},e.drawImageOrLabel=function(t,e,n,r,i,o,a,s,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c,c),function(t,e){for(var n=t.contextInstructions,r=0,i=n.length;r<i;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}(r,t)):t.drawImage(r,i,o,a,s,u,l,a*c,s*c),t.restore()},e.createTransformString=function(t){return u.WORKER_OFFSCREEN_CANVAS?(0,l.toString)(t):(m||(m=(0,i.createCanvasContext2D)(1,1).canvas),m.style.transform=(0,l.toString)(t),m.style.transform)};var r=n(59),i=n(32),o=n(13),a=c(n(30)),s=c(n(128)),u=n(82),l=n(36);function c(t){return t&&t.__esModule?t:{default:t}}e.defaultFont="10px sans-serif",e.defaultFillStyle="#000",e.defaultLineCap="round",e.defaultLineDash=[],e.defaultLineDashOffset=0,e.defaultLineJoin="round",e.defaultMiterLimit=10,e.defaultStrokeStyle="#000",e.defaultTextAlign="center",e.defaultTextBaseline="middle",e.defaultPadding=[0,0,0,0],e.defaultLineWidth=1;var f=e.checkedFonts=new a.default;(e.labelCache=new s.default).setSize=function(){console.warn("labelCache is deprecated.")};var h,p=null,d=e.textHeights={};function g(t,e){return p||(p=(0,i.createCanvasContext2D)(1,1)),t!=h&&(p.font=t,h=p.font),p.measureText(e)}function y(t,e){return g(t,e).width}e.registerFont=function(){var t,e,n=100,i="32px ",a=["monospace","serif"],s=a.length,u="wmytzilWMYTZIL@#/&?$%10";function l(t,n,r){for(var o=!0,l=0;l<s;++l){var c=a[l];if(e=y(t+" "+n+" "+i+c,u),r!=c){var f=y(t+" "+n+" "+i+r+","+c,u);o=o&&f!=e}}return!!o}function c(){for(var e=!0,r=f.getKeys(),i=0,a=r.length;i<a;++i){var s=r[i];f.get(s)<n&&(l.apply(this,s.split("\n"))?((0,o.clear)(d),p=null,h=void 0,f.set(s,n)):(f.set(s,f.get(s)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var i=(0,r.getFontParameters)(e);if(i)for(var o=i.families,a=0,s=o.length;a<s;++a){var u=o[a],h=i.style+"\n"+i.weight+"\n"+u;void 0===f.get(h)&&(f.set(h,n,!0),l(i.style,i.weight,u)||(f.set(h,0,!0),void 0===t&&(t=setInterval(c,32))))}}}(),e.measureTextHeight=function(){var t,e=d;return function(n){var i=e[n];if(null==i)if(u.WORKER_OFFSCREEN_CANVAS){var o=(0,r.getFontParameters)(n),a=g(n,"g"),s=isNaN(Number(o.lineHeight))?1.2:Number(o.lineHeight);d[n]=s*(a.actualBoundingBoxAscent+a.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=t.offsetHeight,e[n]=i,document.body.removeChild(t);return i}}();var m=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLASS_HIDDEN="ol-hidden",e.CLASS_SELECTABLE="ol-selectable",e.CLASS_UNSELECTABLE="ol-unselectable",e.CLASS_UNSUPPORTED="ol-unsupported",e.CLASS_CONTROL="ol-control",e.CLASS_COLLAPSED="ol-collapsed";var r=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),i=["style","variant","weight","size","lineHeight","family"];e.getFontParameters=function(t){var e=t.match(r);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},o=0,a=i.length;o<a;++o){var s=e[o+1];void 0!==s&&(n[i[o]]=s)}return n.families=n.family.split(/,\s?/),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,n){var r=n(15);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(1),i=n(52),o=n(12);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(t,e,n){var r=n(53),i=n(137),o=n(26),a=n(21),s=n(207);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,f=6==t,h=5==t||f,p=e||s;return function(e,s,d){for(var g,y,m=o(e),v=i(m),_=r(s,d,3),b=a(v.length),w=0,x=n?p(e,b):u?p(e,0):void 0;b>w;w++)if((h||w in v)&&(y=_(g=v[w],w,m),t))if(n)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return w;case 2:x.push(g)}else if(c)return!1;return f?-1:l||c?c:x}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=y(n(46)),a=y(n(17)),s=y(n(76)),u=n(142),l=n(77),c=n(116),f=n(220),h=n(171),p=n(302),d=n(301),g=n(129);function y(t){return t&&t.__esModule?t:{default:t}}var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return m(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return(0,d.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM)return null;var n=void 0!==e&&e;return(0,f.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return(0,f.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return(0,p.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,g.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.default.XY)},e.prototype.getType=function(){return a.default.LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,h.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CollectionEvent=void 0;var r=s(n(293)),i=s(n(120)),o=s(n(30)),a=s(n(31));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l="length",c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return u(e,t),e}(a.default);e.CollectionEvent=c;var f=function(t){function e(e,n){var r=t.call(this)||this,i=n||{};if(r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return u(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(i.default.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(i.default.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(i.default.REMOVE,r,t)),this.dispatchEvent(new c(i.default.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r.default(58)},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add=function(t,e){return t[0]+=+e[0],t[1]+=+e[1],t},e.closestOnCircle=function(t,e){var n=e.getRadius(),r=e.getCenter(),i=r[0],o=r[1],a=t[0]-i,s=t[1]-o;0===a&&0===s&&(a=1);var u=Math.sqrt(a*a+s*s);return[i+n*a/u,o+n*s/u]},e.closestOnSegment=a,e.createStringXY=function(t){return function(e){return c(e,t)}},e.degreesToStringHDMS=s,e.format=u,e.equals=function(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n},e.rotate=function(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,o=t[1]*n+t[0]*r;return t[0]=i,t[1]=o,t},e.scale=function(t,e){return t[0]*=e,t[1]*=e,t},e.squaredDistance=l,e.distance=function(t,e){return Math.sqrt(l(t,e))},e.squaredDistanceToSegment=function(t,e){return l(t,a(t,e))},e.toStringHDMS=function(t,e){return t?s("NS",t[1],e)+" "+s("EW",t[0],e):""},e.toStringXY=c,e.wrapX=function(t,e){var n=e.getExtent();if(e.canWrapX()&&(t[0]<n[0]||t[0]>=n[2])){var r=(0,o.getWidth)(n),i=Math.floor((t[0]-n[0])/r);t[0]-=i*r}return t};var r=n(19),i=n(225),o=n(4);function a(t,e){var n,r,i=t[0],o=t[1],a=e[0],s=e[1],u=a[0],l=a[1],c=s[0],f=s[1],h=c-u,p=f-l,d=0===h&&0===p?0:(h*(i-u)+p*(o-l))/(h*h+p*p||0);return d<=0?(n=u,r=l):d>=1?(n=c,r=f):(n=u+d*h,r=l+d*p),[n,r]}function s(t,e,n){var o=(0,r.modulo)(e+180,360)-180,a=Math.abs(3600*o),s=n||0,u=Math.pow(10,s),l=Math.floor(a/3600),c=Math.floor((a-3600*l)/60),f=a-3600*l-60*c;return(f=Math.ceil(f*u)/u)>=60&&(f=0,c+=1),c>=60&&(c=0,l+=1),l+" "+(0,i.padNumber)(c,2)+" "+(0,i.padNumber)(f,2,s)+""+(0==o?"":" "+t.charAt(o<0?1:0))}function u(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function l(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function c(t,e){return u(t,"{x}, {y}",e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=u(n(181)),o=u(n(30)),a=n(32),s=n(24);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render_=e.render?e.render:r.VOID,e.target&&n.setTarget(e.target),n}return l(e,t),e.prototype.disposeInternal=function(){(0,a.removeNode)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,a.removeNode)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,s.unlistenByKey)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.VOID&&this.listenerKeys.push((0,s.listen)(t,i.default.POSTRENDER,this.render,this)),t.render())},e.prototype.render=function(t){this.render_.call(this,t)},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.default);e.default=c},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";e.a=function(t){return t<0?-1:1}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(70);e.default=function(t){return Math.abs(t)<r.HALF_PI?t:t-Object(i.a)(t)*Math.PI}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";if(n(23)){var r=n(85),i=n(10),o=n(12),a=n(1),s=n(166),u=n(215),l=n(53),c=n(110),f=n(103),h=n(38),p=n(112),d=n(55),g=n(21),y=n(284),m=n(106),v=n(61),_=n(42),b=n(124),w=n(15),x=n(26),S=n(204),E=n(107),O=n(45),P=n(108).f,C=n(206),T=n(104),N=n(20),I=n(64),M=n(156),A=n(140),L=n(209),R=n(126),k=n(161),F=n(109),j=n(208),D=n(273),U=n(25),G=n(44),z=U.f,B=G.f,q=i.RangeError,V=i.TypeError,Y=i.Uint8Array,H=Array.prototype,W=u.ArrayBuffer,X=u.DataView,K=I(0),Z=I(2),J=I(3),Q=I(4),$=I(5),tt=I(6),et=M(!0),nt=M(!1),rt=L.values,it=L.keys,ot=L.entries,at=H.lastIndexOf,st=H.reduce,ut=H.reduceRight,lt=H.join,ct=H.sort,ft=H.slice,ht=H.toString,pt=H.toLocaleString,dt=N("iterator"),gt=N("toStringTag"),yt=T("typed_constructor"),mt=T("def_constructor"),vt=s.CONSTR,_t=s.TYPED,bt=s.VIEW,wt=I(1,(function(t,e){return Pt(A(t,t[mt]),e)})),xt=o((function(){return 1===new Y(new Uint16Array([1]).buffer)[0]})),St=!!Y&&!!Y.prototype.set&&o((function(){new Y(1).set({})})),Et=function(t,e){var n=d(t);if(n<0||n%e)throw q("Wrong offset!");return n},Ot=function(t){if(w(t)&&_t in t)return t;throw V(t+" is not a typed array!")},Pt=function(t,e){if(!(w(t)&&yt in t))throw V("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return Tt(A(t,t[mt]),e)},Tt=function(t,e){for(var n=0,r=e.length,i=Pt(t,r);r>n;)i[n]=e[n++];return i},Nt=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},It=function(t){var e,n,r,i,o,a,s=x(t),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,h=C(s);if(null!=h&&!S(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),e=0,n=g(s.length),i=Pt(this,n);n>e;e++)i[e]=f?c(s[e],e):s[e];return i},Mt=function(){for(var t=0,e=arguments.length,n=Pt(this,e);e>t;)n[t]=arguments[t++];return n},At=!!Y&&o((function(){pt.call(new Y(1))})),Lt=function(){return pt.apply(At?ft.call(Ot(this)):Ot(this),arguments)},Rt={copyWithin:function(t,e){return D.call(Ot(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Ot(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return j.apply(Ot(this),arguments)},filter:function(t){return Ct(this,Z(Ot(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return $(Ot(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Ot(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ot(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return lt.apply(Ot(this),arguments)},lastIndexOf:function(t){return at.apply(Ot(this),arguments)},map:function(t){return wt(Ot(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Ot(this),arguments)},reduceRight:function(t){return ut.apply(Ot(this),arguments)},reverse:function(){for(var t,e=Ot(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return J(Ot(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Ot(this),t)},subarray:function(t,e){var n=Ot(this),r=n.length,i=m(t,r);return new(A(n,n[mt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:m(e,r))-i))}},kt=function(t,e){return Ct(this,ft.call(Ot(this),t,e))},Ft=function(t){Ot(this);var e=Et(arguments[1],1),n=this.length,r=x(t),i=g(r.length),o=0;if(i+e>n)throw q("Wrong length!");for(;o<i;)this[e+o]=r[o++]},jt={entries:function(){return ot.call(Ot(this))},keys:function(){return it.call(Ot(this))},values:function(){return rt.call(Ot(this))}},Dt=function(t,e){return w(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Dt(t,e=v(e,!0))?f(2,t[e]):B(t,e)},Gt=function(t,e,n){return!(Dt(t,e=v(e,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};vt||(G.f=Ut,U.f=Gt),a(a.S+a.F*!vt,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Gt}),o((function(){ht.call({})}))&&(ht=pt=function(){return lt.call(this)});var zt=p({},Rt);p(zt,jt),h(zt,dt,jt.values),p(zt,{slice:kt,set:Ft,constructor:function(){},toString:ht,toLocaleString:Lt}),Nt(zt,"buffer","b"),Nt(zt,"byteOffset","o"),Nt(zt,"byteLength","l"),Nt(zt,"length","e"),z(zt,gt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,u){var l=t+((u=!!u)?"Clamped":"")+"Array",f="get"+t,p="set"+t,d=i[l],m=d||{},v=d&&O(d),_=!d||!s.ABV,x={},S=d&&d.prototype,C=function(t,n){z(t,n,{get:function(){return function(t,n){var r=t._d;return r.v[f](n*e+r.o,xt)}(this,n)},set:function(t){return function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*e+i.o,r,xt)}(this,n,t)},enumerable:!0})};_?(d=n((function(t,n,r,i){c(t,d,l,"_d");var o,a,s,u,f=0,p=0;if(w(n)){if(!(n instanceof W||"ArrayBuffer"==(u=b(n))||"SharedArrayBuffer"==u))return _t in n?Tt(d,n):It.call(d,n);o=n,p=Et(r,e);var m=n.byteLength;if(void 0===i){if(m%e)throw q("Wrong length!");if((a=m-p)<0)throw q("Wrong length!")}else if((a=g(i)*e)+p>m)throw q("Wrong length!");s=a/e}else s=y(n),o=new W(a=s*e);for(h(t,"_d",{b:o,o:p,l:a,e:s,v:new X(o)});f<s;)C(t,f++)})),S=d.prototype=E(zt),h(S,"constructor",d)):o((function(){d(1)}))&&o((function(){new d(-1)}))&&k((function(t){new d,new d(null),new d(1.5),new d(t)}),!0)||(d=n((function(t,n,r,i){var o;return c(t,d,l),w(n)?n instanceof W||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new m(n,Et(r,e),i):void 0!==r?new m(n,Et(r,e)):new m(n):_t in n?Tt(d,n):It.call(d,n):new m(y(n))})),K(v!==Function.prototype?P(m).concat(P(v)):P(m),(function(t){t in d||h(d,t,m[t])})),d.prototype=S,r||(S.constructor=d));var T=S[dt],N=!!T&&("values"==T.name||null==T.name),I=jt.values;h(d,yt,!0),h(S,_t,l),h(S,bt,!0),h(S,mt,d),(u?new d(1)[gt]==l:gt in S)||z(S,gt,{get:function(){return l}}),x[l]=d,a(a.G+a.W+a.F*(d!=m),x),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){m.of.call(d,1)})),l,{from:It,of:Mt}),"BYTES_PER_ELEMENT"in S||h(S,"BYTES_PER_ELEMENT",e),a(a.P,l,Rt),F(l),a(a.P+a.F*St,l,{set:Ft}),a(a.P+a.F*!N,l,jt),r||S.toString==ht||(S.toString=ht),a(a.P+a.F*o((function(){new d(1).slice()})),l,{slice:kt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),l,{toLocaleString:Lt}),R[l]=N?T:I,r||N||h(S,dt,I)}}else t.exports=function(){}},function(t,e,n){var r=n(279),i=n(1),o=n(136)("metadata"),a=o.store||(o.store=new(n(282))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o};t.exports={store:a,map:s,has:function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},get:function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,n,r){s(n,r,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach((function(t,e){r.push(e)})),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformGeometryWithOptions=function(t,e,n){var r,i=n?(0,o.get)(n.featureProjection):null,a=n?(0,o.get)(n.dataProjection):null;if(r=i&&a&&!(0,o.equivalent)(i,a)?(e?t.clone():t).transform(e?i:a,e?a:i):t,e&&n&&void 0!==n.decimals){var s=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return r},e.transformExtentWithOptions=function(t,e){var n=e?(0,o.get)(e.featureProjection):null,r=e?(0,o.get)(e.dataProjection):null;return n&&r&&!(0,o.equivalent)(n,r)?(0,o.transformExtent)(t,r,n):t};var r=n(13),i=n(11),o=n(5),a=function(t){return t&&t.__esModule?t:{default:t}}(n(57)),s=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?(0,o.get)(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===a.default.TILE_PIXELS&&(r=(0,o.get)(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return(0,r.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,i.abstract)()},t.prototype.readFeature=function(t,e){return(0,i.abstract)()},t.prototype.readFeatures=function(t,e){return(0,i.abstract)()},t.prototype.readGeometry=function(t,e){return(0,i.abstract)()},t.prototype.readProjection=function(t){return(0,i.abstract)()},t.prototype.writeFeature=function(t,e){return(0,i.abstract)()},t.prototype.writeFeatures=function(t,e){return(0,i.abstract)()},t.prototype.writeGeometry=function(t,e){return(0,i.abstract)()},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStrideForLayout=f,e.transformGeom2D=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return(0,s.transform2D)(r,0,r.length,i,e,n)}return null};var r=n(11),i=n(4),o=u(n(300)),a=u(n(46)),s=n(115);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(){var e=t.call(this)||this;return e.layout=a.default.XY,e.stride=2,e.flatCoordinates=null,e}return l(e,t),e.prototype.computeExtent=function(t){return(0,i.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,r.abstract)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=f(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,r.abstract)()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=f(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=a.default.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=a.default.XY:3==t?e=a.default.XYZ:4==t&&(e=a.default.XYZM),e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();(0,s.rotate)(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var o=n;o||(o=(0,i.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var u=this.getStride();(0,s.scale)(a,0,a.length,u,t,r,o,a),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();(0,s.translate)(n,0,n.length,r,t,e,n),this.changed()}},e}(o.default);function f(t){var e;return t==a.default.XY?e=2:t==a.default.XYZ||t==a.default.XYM?e=3:t==a.default.XYZM&&(e=4),e}e.default=c},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function i(t,e,n,i,o){for(var a=o||[],s=0,u=0,l=n.length;u<l;++u){var c=r(t,e,n[u],i);a[s++]=c,e=c}return a.length=s,a}Object.defineProperty(e,"__esModule",{value:!0}),e.deflateCoordinate=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e},e.deflateCoordinates=r,e.deflateCoordinatesArray=i,e.deflateMultiCoordinatesArray=function(t,e,n,r,o){for(var a=o||[],s=0,u=0,l=n.length;u<l;++u){var c=i(t,e,n[u],r,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OBJECT_PROPERTY_NODE_FACTORY=e.XML_SCHEMA_INSTANCE_URI=void 0,e.createElementNS=i,e.getAllTextContent=function(t,e){return o(t,e,[]).join("")},e.getAllTextContent_=o,e.isDocument=function(t){return"documentElement"in t},e.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)||""},e.parse=function(t){return(new DOMParser).parseFromString(t,"application/xml")},e.makeArrayExtender=function(t,e){return function(n,i){var o=t.call(void 0!==e?e:this,n,i);if(void 0!==o){var a=i[i.length-1];(0,r.extend)(a,o)}}},e.makeArrayPusher=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}},e.makeReplacer=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},e.makeObjectPropertyPusher=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==e?e:r.localName,u=void 0;s in a?u=a[s]:(u=[],a[s]=u),u.push(o)}}},e.makeObjectPropertySetter=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}},e.makeChildAppender=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i),i[i.length-1].node.appendChild(n)}},e.makeArraySerializer=function(t,e){var n,r;return function(e,i,o){if(void 0===n){n={};var s={};s[e.localName]=t,n[e.namespaceURI]=s,r=a(e.localName)}u(n,r,i,o)}},e.makeSimpleNodeFactory=a,e.makeSequence=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},e.makeStructureNS=function(t,e,n){var r,i,o=void 0!==n?n:{};for(r=0,i=t.length;r<i;++r)o[t[r]]=e;return o},e.parseNode=s,e.pushParseAndPop=function(t,e,n,r,i){return r.push(t),s(e,n,r,i),r.pop()},e.serialize=u,e.pushSerializeAndPop=function(t,e,n,r,i,o,a){return i.push(t),u(e,n,r,i,o,a),i.pop()},e.registerXMLSerializer=function(t){l=t},e.getXMLSerializer=function(){return void 0===l&&"undefined"!=typeof XMLSerializer&&(l=new XMLSerializer),l},e.registerDocument=function(t){c=t},e.getDocument=f;var r=n(14);function i(t,e){return f().createElementNS(t,e)}function o(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{var r=void 0;for(r=t.firstChild;r;r=r.nextSibling)o(r,e,n)}return n}function a(t,e){var n=t;return function(t,r,o){var a=r[r.length-1].node,s=n;return void 0===s&&(s=o),i(void 0!==e?e:a.namespaceURI,s)}}function s(t,e,n,r){var i;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(r,i,n)}}}function u(t,e,n,r,i,o){for(var a,s,u=(void 0!==i?i:n).length,l=0;l<u;++l)void 0!==(a=n[l])&&void 0!==(s=e.call(void 0!==o?o:this,a,r,void 0!==i?i[l]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,r)}e.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance",e.OBJECT_PROPERTY_NODE_FACTORY=a();var l=void 0,c=void 0;function f(){return void 0===c&&"undefined"!=typeof document&&(c=document.implementation.createDocument("","",null)),c}},function(t,e,n){var r=n(628),i=n(629),o=i;o.v1=r,o.v4=i,t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(22),a=function(t){var e=t.title,n=(0,o.useTranslation)().t;return i.default.createElement("h5",null,n(e))},s=function(t){var e=t.option,n=t.onClick,r=(0,o.useTranslation)().t;return i.default.createElement("div",{className:"button-parent"},i.default.createElement("button",{onClick:function(){n()}},r(e.label)))},u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderBody=n.renderBody.bind(n),n.renderFooter=n.renderFooter.bind(n),n.state={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"getTitle",value:function(){return this.props.title}},{key:"renderBody",value:function(){return this.props.children?this.props.children:this.props.message}},{key:"renderOption",value:function(t){var e=this;return i.default.createElement(s,{key:t.value,option:t,onClick:function(){e.close(t.value)}})}},{key:"getFooterClass",value:function(t){return"modal-footer "+{1:"one",2:"two",3:"three"}[t]}},{key:"getOptions",value:function(){return this.props.options}},{key:"renderFooter",value:function(){var t=this.getOptions(),e=this.getFooterClass(t.length),n=[],r=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;n.push(this.renderOption(l))}}catch(t){o=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return i.default.createElement("div",{className:e},n)}},{key:"close",value:function(t){this.props.onClose&&this.props.onClose(t)}},{key:"render",value:function(){return!!this.props.open&&i.default.createElement("div",{className:"modal-blocker"},i.default.createElement("div",{className:"modal-frame"},i.default.createElement("div",{className:"modal-title"},i.default.createElement(a,{title:this.getTitle()})),i.default.createElement("div",{className:"modal-body",style:this.BodyProps&&this.BodyProps.style},this.renderBody()),this.renderFooter()))}}]),e}();u.defaultProps={open:!1},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tool=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(22);(e.Tool=function(t){var e=t.tip,n=t.iconClass,o=t.onClick,a=t.children,s=t.active,u=(0,i.useTranslation)().t;return r.default.createElement(r.default.Fragment,null,r.default.createElement("i",{className:(s?"active icon ":"icon ")+n,onClick:o,title:u(e)}),a)}).defaultProps={onClick:function(){},iconClass:"",tip:"",active:!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"";e.FIREFOX=-1!==r.indexOf("firefox"),e.SAFARI=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom"),e.WEBKIT=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge"),e.MAC=-1!==r.indexOf("macintosh"),e.DEVICE_PIXEL_RATIO="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,e.WORKER_OFFSCREEN_CANVAS="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,e.IMAGE_DECODE="undefined"!=typeof Image&&Image.prototype.decode,e.PASSIVE_EVENT_LISTENERS=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.toFunction=function(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else(0,i.assert)("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e},e.createDefaultStyle=function(t,e){if(!f){var n=new s.default({color:"rgba(255,255,255,0.4)"}),r=new u.default({color:"#3399CC",width:1.25});f=[new c({image:new a.default({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return f},e.createEditingStyle=function(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[o.default.POLYGON]=[new c({fill:new s.default({color:[255,255,255,.5]})})],t[o.default.MULTI_POLYGON]=t[o.default.POLYGON],t[o.default.LINE_STRING]=[new c({stroke:new u.default({color:e,width:5})}),new c({stroke:new u.default({color:n,width:3})})],t[o.default.MULTI_LINE_STRING]=t[o.default.LINE_STRING],t[o.default.CIRCLE]=t[o.default.POLYGON].concat(t[o.default.LINE_STRING]),t[o.default.POINT]=[new c({image:new a.default({radius:6,fill:new s.default({color:n}),stroke:new u.default({color:e,width:1.5})}),zIndex:1/0})],t[o.default.MULTI_POINT]=t[o.default.POINT],t[o.default.GEOMETRY_COLLECTION]=t[o.default.POLYGON].concat(t[o.default.LINE_STRING],t[o.default.POINT]),t};var i=n(18),o=l(n(17)),a=l(n(233)),s=l(n(131)),u=l(n(148));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=h,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===(void 0===e?"undefined":r(e))&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=h,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),f=null;function h(t){return t.getGeometry()}e.default=c},function(t,e,n){"use strict";function r(t,e,n){return t+"/"+e+"/"+n}Object.defineProperty(e,"__esModule",{value:!0}),e.createOrUpdate=function(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]},e.getKeyZXY=r,e.getKey=function(t){return r(t[0],t[1],t[2])},e.fromKey=function(t){return t.split("/").map(Number)},e.hash=function(t){return(t[1]<<t[0])+t[2]},e.withinExtentAndZ=function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}},function(t,e){t.exports=!1},function(t,e,n){var r=n(104)("meta"),i=n(15),o=n(42),a=n(25).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(12)((function(){return u(Object.preventExtensions({}))})),c=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&f.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e,n){var r=n(20)("unscopables"),i=Array.prototype;null==i[r]&&n(38)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createStyleFunction=f;var r=n(18),i=n(24),o=u(n(8)),a=n(30),s=u(a);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener((0,a.getChangeEventType)(n.geometryName_),n.handleGeometryChanged_),e)if("function"==typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var i=e;n.setProperties(i)}return n}return l(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,i.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,i.listen)(t,o.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?f(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener((0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener((0,a.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(s.default);function f(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,r.assert)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=f(n(17)),a=f(n(47)),s=f(n(76)),u=n(77),l=n(116),c=n(19);function f(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return h(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){if(r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,a=this.stride,s=0,u=o.length;s<u;s+=a){var l=(0,c.squaredDistance)(t,e,o[s],o[s+1]);if(l<r){r=l;for(var f=0;f<a;++f)n[f]=o[s+f];n.length=a}}return r},e.prototype.getCoordinates=function(){return(0,l.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new a.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var s=new a.default(t.slice(i,i+n),e);r.push(s)}return r},e.prototype.getType=function(){return o.default.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,o=e.length;r<o;r+=n){var a=e[r],s=e[r+1];if((0,i.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HIGHLIGHT_STYLE={"circle-radius":4,"circle-color":"#ffff00","circle-stroke-color":"#ffff00","line-color":"#ffff00","line-width":4,"fill-color":"#ffff00","fill-opacity":.25,"line-opacity":.25},e.HIGHLIGHT_HOT_STYLE={"circle-radius":4,"circle-color":"#ff0000","circle-stroke-color":"#ff0000","line-color":"#ff0000","line-width":4,"fill-color":"#ff0000","fill-opacity":.5,"line-opacity":.5},e.SELECTION_STYLE={"circle-radius":4,"circle-color":"#8470ff","circle-stroke-color":"#8470ff","line-color":"#fc8d59","line-width":6,"line-opacity":.8,"fill-color":"#91bfdb","fill-opacity":.25},e.EDIT_STYLE={"circle-radius":10,"circle-color":"#d53e4f","circle-stroke-color":"#d53e4f","line-color":"#d53e4f","line-width":6,"line-opacity":.8,"fill-color":"#d53e4f33","fill-opacity":.25},e.EDIT_LAYER_NAME="edit-temp"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";function r(t){return Math.pow(t,3)}function i(t){return 3*t*t-2*t*t*t}Object.defineProperty(e,"__esModule",{value:!0}),e.easeIn=r,e.easeOut=function(t){return 1-r(1-t)},e.inAndOut=i,e.linear=function(t){return t},e.upAndDown=function(t){return t<.5?i(2*t):1-i(2*(t-.5))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(8));e.default={SINGLECLICK:"singleclick",CLICK:r.default.CLICK,DBLCLICK:r.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pan=function(t,e,n){var r=t.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:i.linear,center:t.getConstrainedCenter(o)})}},e.zoomByDelta=function(t,e,n,r){var o=t.getZoom();if(void 0!==o){var a=t.getConstrainedZoom(o+e),s=t.getResolutionForZoom(a);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:s,anchor:n,duration:void 0!==r?r:250,easing:i.easeOut})}};var r=a(n(30)),i=n(93),o=a(n(245));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return s(e,t),e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getForProjection=function(t){var e=t.getDefaultTileGrid();return e||(e=p(t),t.setDefaultTileGrid(e)),e},e.wrapX=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),a=d(n);if((0,o.containsCoordinate)(a,i))return e;var s=(0,o.getWidth)(a),u=Math.ceil((a[0]-i[0])/s);return i[0]+=s*u,t.getTileCoordForCoordAndZ(i,r)},e.createForExtent=f,e.createXYZ=function(t){var e=t||{},n=e.extent||(0,s.get)("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:h(n,e.maxZoom,e.tileSize,e.maxResolution)};return new l.default(r)},e.createForProjection=p,e.extentFromProjection=d;var r=n(241),i=n(122),o=n(4),a=c(n(294)),s=n(5),u=c(n(57)),l=c(n(357));function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n,r){var i=void 0!==r?r:a.default.TOP_LEFT,s=h(t,e,n);return new l.default({extent:t,origin:(0,o.getCorner)(t,i),resolutions:s,tileSize:n})}function h(t,e,n,a){for(var s=void 0!==e?e:r.DEFAULT_MAX_ZOOM,u=(0,o.getHeight)(t),l=(0,o.getWidth)(t),c=(0,i.toSize)(void 0!==n?n:r.DEFAULT_TILE_SIZE),f=a>0?a:Math.max(l/c[0],u/c[1]),h=s+1,p=new Array(h),d=0;d<h;++d)p[d]=f/Math.pow(2,d);return p}function p(t,e,n,r){return f(d(t),e,n,r)}function d(t){var e=(t=(0,s.get)(t)).getExtent();if(!e){var n=180*s.METERS_PER_UNIT[u.default.DEGREES]/t.getMetersPerUnit();e=(0,o.createOrUpdate)(-n,-n,n,n)}return e}},function(t,e,n){var r=n(642);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},function(t,e,n){"use strict";n.r(e),e.default=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e,n){"use strict";n.r(e),e.default=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e,n){"use strict";n.r(e),e.default=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e,n){"use strict";n.r(e),e.default=function(t){return t*t*t*(35/3072)}},function(t,e,n){"use strict";n.r(e),e.default=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(258),i=n(192);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(55),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(6),i=n(259),o=n(192),a=n(191)("IE_PROTO"),s=function(){},u=function(){var t,e=n(189)("iframe"),r=o.length;for(e.style.display="none",n(193).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(258),i=n(192).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";var r=n(10),i=n(25),o=n(23),a=n(20)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(53),i=n(271),o=n(204),a=n(6),s=n(21),u=n(206),l={},c={};(e=t.exports=function(t,e,n,f,h){var p,d,g,y,m=h?function(){return t}:u(t),v=r(n,f,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=s(t.length);p>_;_++)if((y=e?v(a(d=t[_])[0],d[1]):v(t[_]))===l||y===c)return y}else for(g=m.call(t);!(d=g.next()).done;)if((y=i(g,v,d.value,e))===l||y===c)return y}).BREAK=l,e.RETURN=c},function(t,e,n){var r=n(39);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=m(n(88)),o=n(75),a=m(n(298)),s=m(n(299)),u=m(n(65)),l=m(n(117)),c=m(n(89)),f=m(n(118)),h=m(n(47)),p=m(n(35)),d=n(13),g=n(5),y=m(n(17));function m(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=(0,g.get)(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=(0,g.get)(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return v(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,r=b((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new i.default;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(r),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return b(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=(0,g.get)(n.properties.name):"EPSG"===n.type?e=(0,g.get)("EPSG:"+n.properties.code):(0,r.assert)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();i&&(n.geometry=w(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],(0,d.isEmpty)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return w(t,this.adaptOptions(e))},e}(a.default);function b(t,e){if(!t)return null;var n;switch(t.type){case y.default.POINT:n=function(t){return new h.default(t.coordinates)}(t);break;case y.default.LINE_STRING:n=function(t){return new u.default(t.coordinates)}(t);break;case y.default.POLYGON:n=function(t){return new p.default(t.coordinates)}(t);break;case y.default.MULTI_POINT:n=function(t){return new c.default(t.coordinates)}(t);break;case y.default.MULTI_LINE_STRING:n=function(t){return new l.default(t.coordinates)}(t);break;case y.default.MULTI_POLYGON:n=function(t){return new f.default(t.coordinates)}(t);break;case y.default.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map((function(t){return b(t,void 0)}));return new s.default(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,o.transformGeometryWithOptions)(n,!1,e)}function w(t,e){var n,r=(t=(0,o.transformGeometryWithOptions)(t,!0,e)).getType();switch(r){case y.default.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case y.default.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case y.default.POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case y.default.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case y.default.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case y.default.MULTI_POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case y.default.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var n=(0,d.assign)({},e);return delete n.featureProjection,w(t,n)}))}}(t,e);break;case y.default.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transform2D=function(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a},e.rotate=function(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],f=o[1],h=0,p=e;p<n;p+=r){var d=t[p]-c,g=t[p+1]-f;s[h++]=c+d*u-g*l,s[h++]=f+d*l+g*u;for(var y=p+2;y<p+r;++y)s[h++]=t[y]}return a&&s.length!=h&&(s.length=h),s},e.scale=function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],f=0,h=e;h<n;h+=r){var p=t[h]-l,d=t[h+1]-c;u[f++]=l+i*p,u[f++]=c+o*d;for(var g=h+2;g<h+r;++g)u[f++]=t[g]}return s&&u.length!=f&&(u.length=f),u},e.translate=function(t,e,n,r,i,o,a){for(var s=a||[],u=0,l=e;l<n;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}return a&&s.length!=u&&(s.length=u),s}},function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function i(t,e,n,i,o){for(var a=void 0!==o?o:[],s=0,u=0,l=n.length;u<l;++u){var c=n[u];a[s++]=r(t,e,c,i,a[s]),e=c}return a.length=s,a}Object.defineProperty(e,"__esModule",{value:!0}),e.inflateCoordinates=r,e.inflateCoordinatesArray=i,e.inflateMultiCoordinatesArray=function(t,e,n,r,o){for(var a=void 0!==o?o:[],s=0,u=0,l=n.length;u<l;++u){var c=n[u];a[s++]=i(t,e,c,r,a[s]),e=c[c.length-1]}return a.length=s,a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=g(n(46)),a=g(n(17)),s=g(n(65)),u=g(n(76)),l=n(142),c=n(77),f=n(116),h=n(220),p=n(171),d=n(129);function g(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,n);else if(void 0!==n&&i)o.setFlatCoordinates(n,e),o.ends_=i;else{for(var a=o.getLayout(),s=e,u=[],l=[],c=0,f=s.length;c<f;++c){var h=s[c];0===c&&(a=h.getLayout()),(0,r.extend)(u,h.getFlatCoordinates()),l.push(u.length)}o.setFlatCoordinates(a,u),o.ends_=l}return o}return y(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,l.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,l.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=o.default.XYM&&this.layout!=o.default.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,i=void 0!==n&&n;return(0,h.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,r,i)},e.prototype.getCoordinates=function(){return(0,f.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new s.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,a=e.length;o<a;++o){var u=e[o],l=new s.default(t.slice(i,u),n);r.push(l),i=u}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,a=0,s=i.length;a<s;++a){var u=i[a],l=(0,h.interpolatePoint)(e,n,u,o,.5);(0,r.extend)(t,l),n=u}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=(0,d.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,o.default.XY,r)},e.prototype.getType=function(){return a.default.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,c.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u.default);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=b(n(46)),a=b(n(17)),s=b(n(89)),u=b(n(35)),l=b(n(76)),c=n(222),f=n(303),h=n(142),p=n(172),d=n(77),g=n(116),y=n(223),m=n(171),v=n(173),_=n(129);function b(t){return t&&t.__esModule?t:{default:t}}var w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var a=o.getLayout(),s=e,u=[],l=[],c=0,f=s.length;c<f;++c){var h=s[c];0===c&&(a=h.getLayout());for(var p=u.length,d=h.getEnds(),g=0,y=d.length;g<y;++g)d[g]+=p;(0,r.extend)(u,h.getFlatCoordinates()),l.push(d)}n=a,e=u,i=l}return void 0!==n&&i?(o.setFlatCoordinates(n,e),o.endss_=i):o.setCoordinates(e,n),o}return w(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,o=(e=t.getEnds().slice()).length;i<o;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,r){return r<(0,i.closestSquaredDistanceXY)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,h.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return(0,p.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return(0,c.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,v.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,f.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,y.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new s.default(this.getFlatInteriorPoints().slice(),o.default.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,v.linearRingssAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,v.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=(0,_.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,o.default.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new u.default(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),l=s[s.length-1];if(0!==i)for(var c=0,f=s.length;c<f;++c)s[c]-=i;var h=new u.default(e.slice(i,l),t,s);r.push(h),i=l}return r},e.prototype.getType=function(){return a.default.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return(0,m.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(l.default);e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorSourceEvent=void 0;var r=n(11),i=w(n(66)),o=w(n(120)),a=w(n(127)),s=n(14),u=n(18),l=n(24),c=w(n(31)),f=w(n(8)),h=n(4),p=n(325),d=n(29),g=n(326),y=n(13),m=w(n(235)),v=w(n(92)),_=w(n(236)),b=w(n(237));function w(t){return t&&t.__esModule?t:{default:t}}var x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return x(e,t),e}(c.default);e.VectorSourceEvent=S;var E=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:v.default.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=d.VOID,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&((0,u.assert)(n.format_,7),n.loader_=(0,p.xhr)(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:g.all;var o,a,s=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=s?new b.default:null,n.loadedExtentsRtree_=new b.default,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?a=r.features:r.features&&(a=(o=r.features).getArray()),s||void 0!==o||(o=new i.default(a)),void 0!==a&&n.addFeaturesInternal(a),void 0!==o&&n.bindFeaturesCollection_(o),n}return x(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,r.getUid)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new S(_.default.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,l.listen)(e,f.default.CHANGE,this.handleFeatureChange_,this),(0,l.listen)(e,a.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&((0,u.assert)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,a=t.length;o<a;o++){var s=t[o],u=(0,r.getUid)(s);this.addToIndex_(u,s)&&n.push(s)}o=0;for(var l=n.length;o<l;o++){s=n[o],u=(0,r.getUid)(s),this.setupChangeEvents_(u,s);var c=s.getGeometry();if(c){var f=c.getExtent();e.push(f),i.push(s)}else this.nullGeometryFeatures_[u]=s}this.featuresRtree_&&this.featuresRtree_.load(e,i),o=0;for(var h=n.length;o<h;o++)this.dispatchEvent(new S(_.default.ADDFEATURE,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(_.default.ADDFEATURE,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(_.default.REMOVEFEATURE,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(o.default.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(o.default.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(l.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new S(_.default.CLEAR);this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,y.isEmpty)(this.nullGeometryFeatures_)||(0,s.extend)(t,(0,y.getValues)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||d.TRUE;return this.featuresRtree_.forEachInExtent(s,(function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,r.getUid)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new S(_.default.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,r.getUid)(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,y.isEmpty)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];r.forEachInExtent(s,(function(t){return(0,h.containsExtent)(t.extent,s)}))||(a.loader_.call(a,s,e,n),r.insert(s,{extent:s.slice()}),a.loading=a.loader_!==d.VOID)},a=this,s=0,u=i.length;s<u;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if((0,h.equals)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=(0,r.getUid)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=(0,r.getUid)(t);this.featureChangeKeys_[e].forEach(l.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new S(_.default.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){(0,u.assert)(this.format_,7),this.setLoader((0,p.xhr)(t,this.format_))},e}(m.default);e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(328)),i=o(n(674));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n},e.hasArea=function(t){return t[0]>0&&t[1]>0},e.scale=function(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n},e.toSize=function(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}},function(t,e,n){var r=n(25).f,i=n(42),o=n(20)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(54),i=n(20)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(1),i=n(62),o=n(12),a=n(195),s="["+a+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(t,e,n){var i={},s=o((function(){return!!a[t]()||""!=""[t]()})),u=i[t]=s?e(f):a[t];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=c.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=c},function(t,e){t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(219)),i=n(29),o=s(n(31)),a=n(13);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return u(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(n=[],this.listeners_[t]=n),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new o.default(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,a=this.listeners_[n];if(a){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,u=a.length;s<u;++s)if(!1===(r="handleEvent"in a[s]?a[s].handleEvent(e):a[s].call(this,e))||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var l=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];l--;)this.removeEventListener(n,i.VOID);delete this.dispatching_[n]}return r}},e.prototype.disposeInternal=function(){(0,a.clear)(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(t in this.pendingRemovals_?(n[r]=i.VOID,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.simplifyLineString=function(t,e,n,r,o,s,u){var l=void 0!==u?u:[];return s||(n=a(t,e,n,r,o,l,0),t=l,e=0,r=2),l.length=i(t,e,n,r,o,l,0),l},e.douglasPeucker=i,e.douglasPeuckerArray=o,e.douglasPeuckerMultiArray=function(t,e,n,r,i,a,s,u){for(var l=0,c=n.length;l<c;++l){var f=n[l],h=[];s=o(t,e,f,r,i,a,s,h),u.push(h),e=f[f.length-1]}return s},e.radialDistance=a,e.snap=s,e.quantize=u,e.quantizeArray=l,e.quantizeMultiArray=function(t,e,n,r,i,o,a,s){for(var u=0,c=n.length;u<c;++u){var f=n[u],h=[];a=l(t,e,f,r,i,o,a,h),s.push(h),e=f[f.length-1]}return a};var r=n(19);function i(t,e,n,i,o,a,s){var u=(n-e)/i;if(u<3){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var l=new Array(u);l[0]=1,l[u-1]=1;for(var c=[e,n-i],f=0;c.length>0;){for(var h=c.pop(),p=c.pop(),d=0,g=t[p],y=t[p+1],m=t[h],v=t[h+1],_=p+i;_<h;_+=i){var b=t[_],w=t[_+1],x=(0,r.squaredSegmentDistance)(b,w,g,y,m,v);x>d&&(f=_,d=x)}d>o&&(l[(f-e)/i]=1,p+i<f&&c.push(p,f),f+i<h&&c.push(f,h))}for(_=0;_<u;++_)l[_]&&(a[s++]=t[e+_*i],a[s++]=t[e+_*i+1]);return s}function o(t,e,n,r,o,a,s,u){for(var l=0,c=n.length;l<c;++l){var f=n[l];s=i(t,e,f,r,o,a,s),u.push(s),e=f}return s}function a(t,e,n,i,o,a,s){if(n<=e+i){for(;e<n;e+=i)a[s++]=t[e],a[s++]=t[e+1];return s}var u=t[e],l=t[e+1];a[s++]=u,a[s++]=l;var c=u,f=l;for(e+=i;e<n;e+=i)c=t[e],f=t[e+1],(0,r.squaredDistance)(u,l,c,f)>o&&(a[s++]=c,a[s++]=f,u=c,l=f);return c==u&&f==l||(a[s++]=c,a[s++]=f),s}function s(t,e){return e*Math.round(t/e)}function u(t,e,n,r,i,o,a){if(e==n)return a;var u,l,c=s(t[e],i),f=s(t[e+1],i);e+=r,o[a++]=c,o[a++]=f;do{if(u=s(t[e],i),l=s(t[e+1],i),(e+=r)==n)return o[a++]=u,o[a++]=l,a}while(u==c&&l==f);for(;e<n;){var h=s(t[e],i),p=s(t[e+1],i);if(e+=r,h!=u||p!=l){var d=u-c,g=l-f,y=h-c,m=p-f;d*m==g*y&&(d<0&&y<d||d==y||d>0&&y>d)&&(g<0&&m<g||g==m||g>0&&m>g)?(u=h,l=p):(o[a++]=u,o[a++]=l,c=u,f=l,u=h,l=p)}}return o[a++]=u,o[a++]=l,a}function l(t,e,n,r,i,o,a,s){for(var l=0,c=n.length;l<c;++l){var f=n[l];a=u(t,e,f,r,i,o,a),s.push(a),e=f}return a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.expression=r,o.matchCase=i,o}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inView=function(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom};var r=n(24),i=h(n(8)),o=n(30),a=h(n(329)),s=h(n(330)),u=n(13),l=h(n(180)),c=h(n(92)),f=n(18);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=this,r=(0,u.assign)({},e);delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener((0,o.getChangeEventType)(s.default.SOURCE),n.handleSourcePropertyChange_);var i=e.source?e.source:null;return n.setSource(i),n}return p(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(s.default.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():c.default.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,r.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,r.listen)(t,i.default.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,r.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,r.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,r.listen)(t,l.default.PRECOMPOSE,(function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);(0,f.assert)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=(0,r.listen)(this,i.default.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(s.default.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(a.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};e.fillInstruction=[r.FILL],e.strokeInstruction=[r.STROKE],e.beginPathInstruction=[r.BEGIN_PATH],e.closePathInstruction=[r.CLOSE_PATH],e.default=r},function(t,e,n){var r=n(647),i=n(648),o=n(649);t.exports=function(t,e){return r(t)||i(t,e)||o()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(251)).default.Symbol;e.default=r},function(t,e,n){var r=n(52),i=n(10),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(85)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(54);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(6),i=n(34),o=n(20)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(57),i=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.METERS_PER_UNIT[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.maxSquaredDelta=o,e.arrayMaxSquaredDelta=a,e.multiArrayMaxSquaredDelta=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){var u=n[o];i=a(t,e,u,r,i),e=u[u.length-1]}return i},e.assignClosestPoint=s,e.assignClosestArrayPoint=u,e.assignClosestMultiArrayPoint=function(t,e,n,r,i,o,a,s,l,c,f){for(var h=f||[NaN,NaN],p=0,d=n.length;p<d;++p){var g=n[p];c=u(t,e,g,r,i,o,a,s,l,c,h),e=g[g.length-1]}return c};var r=n(19);function i(t,e,n,i,o,a,s){var u,l=t[e],c=t[e+1],f=t[n]-l,h=t[n+1]-c;if(0===f&&0===h)u=e;else{var p=((o-l)*f+(a-c)*h)/(f*f+h*h);if(p>1)u=n;else{if(p>0){for(var d=0;d<i;++d)s[d]=(0,r.lerp)(t[e+d],t[n+d],p);return void(s.length=i)}u=e}}for(d=0;d<i;++d)s[d]=t[u+d];s.length=i}function o(t,e,n,i,o){var a=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var u=t[e],l=t[e+1],c=(0,r.squaredDistance)(a,s,u,l);c>o&&(o=c),a=u,s=l}return o}function a(t,e,n,r,i){for(var a=0,s=n.length;a<s;++a){var u=n[a];i=o(t,e,u,r,i),e=u}return i}function s(t,e,n,o,a,s,u,l,c,f,h){if(e==n)return f;var p,d;if(0===a){if((d=(0,r.squaredDistance)(u,l,t[e],t[e+1]))<f){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return f}for(var g=h||[NaN,NaN],y=e+o;y<n;)if(i(t,y-o,y,o,u,l,g),(d=(0,r.squaredDistance)(u,l,g[0],g[1]))<f){for(f=d,p=0;p<o;++p)c[p]=g[p];c.length=o,y+=o}else y+=o*Math.max((Math.sqrt(d)-Math.sqrt(f))/a|0,1);if(s&&(i(t,n-o,e,o,u,l,g),(d=(0,r.squaredDistance)(u,l,g[0],g[1]))<f)){for(f=d,p=0;p<o;++p)c[p]=g[p];c.length=o}return f}function u(t,e,n,r,i,o,a,u,l,c,f){for(var h=f||[NaN,NaN],p=0,d=n.length;p<d;++p){var g=n[p];c=s(t,e,g,r,i,o,a,u,l,c,h),e=g}return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(75),o=n(224),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(176),u=n(13),l=n(5),c=n(78),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=o.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",p={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},d=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).FEATURE_COLLECTION_PARSERS[o.GMLNS].featureMember=(0,c.makeArrayPusher)(n.readFeaturesInternal),n.schemaLocation=r.schemaLocation?r.schemaLocation:h,n}return f(e,t),e.prototype.readFlatCoordinates_=function(t,e){var n=(0,c.getAllTextContent)(t,!1).replace(/^\s*|\s*$/g,""),r=e[0].srsName,i="enu";if(r){var o=(0,l.get)(r);o&&(i=o.getAxisOrientation())}for(var a=n.trim().split(/\s+/),s=[],u=0,f=a.length;u<f;u++){var h=a[u].split(/,+/),p=parseFloat(h[0]),d=parseFloat(h[1]),g=3===h.length?parseFloat(h[2]):0;"en"===i.substr(0,2)?s.push(p,d,g):s.push(d,p,g)}return s},e.prototype.readBox_=function(t,e){var n=(0,c.pushParseAndPop)([null],this.BOX_PARSERS_,t,e,this);return(0,r.createOrUpdate)(n[1][0],n[1][1],n[1][3],n[1][4])},e.prototype.innerBoundaryIsParser_=function(t,e){var n=(0,c.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);n&&e[e.length-1].push(n)},e.prototype.outerBoundaryIsParser_=function(t,e){var n=(0,c.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);n&&(e[e.length-1][0]=n)},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var r,i=e[e.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(t)?r="Envelope":"MultiPolygon"===(r=t.getType())&&!0===o?r="MultiSurface":"Polygon"===r&&!0===a?r="Surface":"MultiLineString"===r&&!0===s&&(r="MultiCurve"),(0,c.createElementNS)("http://www.opengis.net/gml",r)},e.prototype.writeFeatureElement=function(t,e,n){var r=e.getId();r&&t.setAttribute("fid",r);var i=n[n.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var l=e.getProperties(),f=[],h=[];for(var p in l){var d=l[p];null!==d&&(f.push(p),h.push(d),p==a||"function"==typeof d.getSimplifiedGeometry?p in i.serializers[o]||(i.serializers[o][p]=(0,c.makeChildAppender)(this.writeGeometryElement,this)):p in i.serializers[o]||(i.serializers[o][p]=(0,c.makeChildAppender)(s.writeStringTextNode)))}var g=(0,u.assign)({},i);g.node=t,(0,c.pushSerializeAndPop)(g,i.serializers,(0,c.makeSimpleNodeFactory)(void 0,o),h,n,f)},e.prototype.writeCurveOrLineString_=function(t,e,n){var r=n[n.length-1].srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,n)}else if("Curve"===t.nodeName){var o=(0,c.createElementNS)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,n)}},e.prototype.writeLineStringOrCurveMember_=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeCurveOrLineString_(r,e,n))},e.prototype.writeMultiCurveOrLineString_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName,a=r.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeGeometryElement=function(t,e,n){var r,o=n[n.length-1],a=(0,u.assign)({},o);a.node=t,r=Array.isArray(e)?(0,i.transformExtentWithOptions)(e,o):(0,i.transformGeometryWithOptions)(e,!0,o),(0,c.pushSerializeAndPop)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[r],n,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=(0,c.createElementNS)(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,n){for(var r=n[n.length-1],i=r.hasZ,o=r.srsName,a=e.getCoordinates(),u=a.length,l=new Array(u),c=0;c<u;++c){var f=a[c];l[c]=this.getCoords_(f,o,i)}(0,s.writeStringTextNode)(t,l.join(" "))},e.prototype.writeCurveSegments_=function(t,e,n){var r=(0,c.createElementNS)(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString_(r,e,n)},e.prototype.writeSurfaceOrPolygon_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,n,void 0,this)}else if("Surface"===t.nodeName){var s=(0,c.createElementNS)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,n)}},e.prototype.RING_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),(0,c.createElementNS)(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,n){var r=(0,c.createElementNS)(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,n)},e.prototype.writeRing_=function(t,e,n){var r=(0,c.createElementNS)(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing_(r,e,n)},e.prototype.getCoords_=function(t,e,n){var r="enu";e&&(r=(0,l.get)(e).getAxisOrientation());var i="en"===r.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];return n&&(i+=","+(t[2]||0)),i},e.prototype.writePoint_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&t.setAttribute("srsName",o);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var u=e.getCoordinates(),l=this.getCoords_(u,o,i);(0,s.writeStringTextNode)(a,l)},e.prototype.writeMultiPoint_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName;o&&t.setAttribute("srsName",o);var a=e.getPoints();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS_,(0,c.makeSimpleNodeFactory)("pointMember"),a,n,void 0,this)},e.prototype.writePointMember_=function(t,e,n){var r=(0,c.createElementNS)(t.namespaceURI,"Point");t.appendChild(r),this.writePoint_(r,e,n)},e.prototype.writeLinearRing_=function(t,e,n){var r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,n)},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName,a=r.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();(0,c.pushSerializeAndPop)({node:t,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,n))},e.prototype.writeEnvelope=function(t,e,n){var r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);var i=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,c.pushSerializeAndPop)({node:t},this.ENVELOPE_SERIALIZERS_,c.OBJECT_PROPERTY_NODE_FACTORY,i,n,["lowerCorner","upperCorner"],this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1].node;return(0,c.createElementNS)("http://www.opengis.net/gml",p[r.nodeName])},e}(a.default);d.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:(0,c.makeReplacer)(d.prototype.readFlatCoordinates_)}},d.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:d.prototype.innerBoundaryIsParser_,outerBoundaryIs:d.prototype.outerBoundaryIsParser_}},d.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:(0,c.makeArrayPusher)(d.prototype.readFlatCoordinates_)}},d.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,c.makeReplacer)(a.default.prototype.readPoint),MultiPoint:(0,c.makeReplacer)(a.default.prototype.readMultiPoint),LineString:(0,c.makeReplacer)(a.default.prototype.readLineString),MultiLineString:(0,c.makeReplacer)(a.default.prototype.readMultiLineString),LinearRing:(0,c.makeReplacer)(a.default.prototype.readLinearRing),Polygon:(0,c.makeReplacer)(a.default.prototype.readPolygon),MultiPolygon:(0,c.makeReplacer)(a.default.prototype.readMultiPolygon),Box:(0,c.makeReplacer)(d.prototype.readBox_)}},d.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,c.makeChildAppender)(d.prototype.writeCurveOrLineString_),MultiCurve:(0,c.makeChildAppender)(d.prototype.writeMultiCurveOrLineString_),Point:(0,c.makeChildAppender)(d.prototype.writePoint_),MultiPoint:(0,c.makeChildAppender)(d.prototype.writeMultiPoint_),LineString:(0,c.makeChildAppender)(d.prototype.writeCurveOrLineString_),MultiLineString:(0,c.makeChildAppender)(d.prototype.writeMultiCurveOrLineString_),LinearRing:(0,c.makeChildAppender)(d.prototype.writeLinearRing_),Polygon:(0,c.makeChildAppender)(d.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,c.makeChildAppender)(d.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,c.makeChildAppender)(d.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,c.makeChildAppender)(d.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,c.makeChildAppender)(d.prototype.writeEnvelope)}},d.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,c.makeChildAppender)(d.prototype.writeLineStringOrCurveMember_),curveMember:(0,c.makeChildAppender)(d.prototype.writeLineStringOrCurveMember_)}},d.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:(0,c.makeChildAppender)(d.prototype.writeRing_),innerBoundaryIs:(0,c.makeChildAppender)(d.prototype.writeRing_)}},d.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,c.makeChildAppender)(d.prototype.writePointMember_)}},d.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,c.makeChildAppender)(d.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,c.makeChildAppender)(d.prototype.writeSurfaceOrPolygonMember_)}},d.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,c.makeChildAppender)(s.writeStringTextNode),upperCorner:(0,c.makeChildAppender)(s.writeStringTextNode)}},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(144)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n){var r=t.call(this,e)||this;return r.propertyName=n,r}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setUiHint=function(t){return{type:r.UI.HINT,hint:t}},e.clearUiHint=function(){return{type:r.UI.CLEAR_HINT}},e.runAction=function(t){return{type:r.UI.RUN_ACTION,action:t}},e.clearAction=function(){return{type:r.UI.CLEAR_ACTION}},e.showModal=function(t){return{type:r.UI.SHOW_MODAL,payload:t}},e.hideModal=function(){return{type:r.UI.SHOW_MODAL,payload:""}};var r=n(28)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromString=void 0,e.asString=function(t){return"string"==typeof t?t:c(t)},e.asArray=function(t){return Array.isArray(t)?t:u(t)},e.normalize=l,e.toString=c,e.isStringColor=function(t){return a.test(t)&&(t=s(t)),o.test(t)||0===t.indexOf("rgba(")||0===t.indexOf("rgb(")};var r=n(18),i=n(19),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var u=e.fromString=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var u=0;for(var c in t)0==(3&u++)&&(delete t[c],--e)}i=function(t){var e,n,i,u,c;if(a.exec(t)&&(t=s(t)),o.exec(t)){var f,h=t.length-1;f=h<=4?1:2;var p=4===h||8===h;e=parseInt(t.substr(1+0*f,f),16),n=parseInt(t.substr(1+1*f,f),16),i=parseInt(t.substr(1+2*f,f),16),u=p?parseInt(t.substr(1+3*f,f),16):255,1==f&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,p&&(u=(u<<4)+u)),c=[e,n,i,u/255]}else 0==t.indexOf("rgba(")?l(c=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((c=t.slice(4,-1).split(",").map(Number)).push(1),l(c)):(0,r.assert)(!1,14);return c}(n),t[n]=i,++e}return i}}();function l(t){return t[0]=(0,i.clamp)(t[0]+.5|0,0,255),t[1]=(0,i.clamp)(t[1]+.5|0,0,255),t[2]=(0,i.clamp)(t[2]+.5|0,0,255),t[3]=(0,i.clamp)(t[3],0,1),t}function c(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(131)),i=o(n(320));function o(t){return t&&t.__esModule?t:{default:t}}var a="#333",s=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r.default({color:a}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:i.default.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(178),o=n(4),a=h(n(295)),s=h(n(17)),u=n(116),l=h(n(332)),c=n(58),f=h(n(133));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return p(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,n,r,i,s){var u=this.coordinates.length,l=this.getBufferedMaxExtent();s&&(e+=r);var c,f,h,p=t[e],d=t[e+1],g=this.tmpCoordinate_,y=!0;for(c=e+r;c<n;c+=r)g[0]=t[c],g[1]=t[c+1],(h=(0,o.coordinateRelationship)(l,g))!==f?(y&&(this.coordinates[u++]=p,this.coordinates[u++]=d),this.coordinates[u++]=g[0],this.coordinates[u++]=g[1],y=!1):h===a.default.INTERSECTING?(this.coordinates[u++]=g[0],this.coordinates[u++]=g[1],y=!1):y=!0,p=g[0],d=g[1],f=h;return(i&&y||c===e+r)&&(this.coordinates[u++]=p,this.coordinates[u++]=d),u},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,l,c=t.getType(),h=t.getStride(),p=this.coordinates.length;if(c==s.default.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),a=[];var d=t.getEndss();l=0;for(var g=0,y=d.length;g<y;++g){var m=[];l=this.drawCustomCoordinates_(r,l,d[g],h,m),a.push(m)}this.instructions.push([f.default.CUSTOM,p,a,t,n,u.inflateMultiCoordinatesArray])}else c==s.default.POLYGON||c==s.default.MULTI_LINE_STRING?(o=[],r=c==s.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),l=this.drawCustomCoordinates_(r,0,t.getEnds(),h,o),this.instructions.push([f.default.CUSTOM,p,o,t,n,u.inflateCoordinatesArray])):c==s.default.LINE_STRING||c==s.default.MULTI_POINT?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,h,!1,!1),this.instructions.push([f.default.CUSTOM,p,i,t,n,u.inflateCoordinates])):c==s.default.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),i=this.coordinates.length,this.instructions.push([f.default.CUSTOM,p,i,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[f.default.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[f.default.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,a=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==f.default.END_GEOMETRY?a=t:i==f.default.BEGIN_GEOMETRY&&(n[2]=t,(0,r.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=(0,i.asColorLike)(r||c.defaultFillStyle)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=(0,i.asColorLike)(o||c.defaultStrokeStyle);var a=e.getLineCap();n.lineCap=void 0!==a?a:c.defaultLineCap;var s=e.getLineDash();n.lineDash=s?s.slice():c.defaultLineDash;var u=e.getLineDashOffset();n.lineDashOffset=u||c.defaultLineDashOffset;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:c.defaultLineJoin;var f=e.getWidth();n.lineWidth=void 0!==f?f:c.defaultLineWidth;var h=e.getMiterLimit();n.miterLimit=void 0!==h?h:c.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[f.default.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[f.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,u=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!(0,r.equals)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=u||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=u,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[f.default.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,o.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,o.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(l.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCenterConstraint=C,e.createResolutionConstraint=T,e.createRotationConstraint=N,e.isNoopAnimation=I;var r=n(241),i=n(29),o=n(682),a=x(n(30)),s=n(683),u=n(242),l=x(n(150)),c=x(n(340)),f=n(14),h=n(18),p=n(67),d=n(93),g=n(4),y=x(n(17)),m=n(35),v=n(19),_=n(13),b=n(5),w=x(n(57));function x(t){return t&&t.__esModule?t:{default:t}}var S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E=0,O=function(t){function e(e){var n=t.call(this)||this,r=(0,_.assign)({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=(0,b.createProjection)(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.cancelAnchor_=void 0,r.center&&(r.center=(0,b.fromUserCoordinate)(r.center,n.projection_)),r.extent&&(r.extent=(0,b.fromUserExtent)(r.extent,n.projection_)),n.applyOptions_(r),n}return S(e,t),e.prototype.applyOptions_=function(t){var e=T(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=C(t),r=e.constraint,i=N(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,_.assign)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),(0,_.assign)({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=(0,_.assign)({},r)).center=(0,b.fromUserCoordinate)(r.center,this.getProjection())),r.anchor&&((r=(0,_.assign)({},r)).anchor=(0,b.fromUserCoordinate)(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&P(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],c=0;c<n;++c){var f=arguments[c],h={start:i,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||d.inAndOut,callback:e};if(f.center&&(h.sourceCenter=o,h.targetCenter=f.center.slice(),o=h.targetCenter),void 0!==f.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(f.zoom),a=h.targetResolution):f.resolution&&(h.sourceResolution=a,h.targetResolution=f.resolution,a=h.targetResolution),void 0!==f.rotation){h.sourceRotation=s;var p=(0,v.modulo)(f.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}I(h)?h.complete=!0:i+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(l.default.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[l.default.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[l.default.INTERACTING]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(l.default.ANIMATING,-this.hints_[l.default.ANIMATING]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&P(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var u=t-s.start,c=s.duration>0?u/s.duration:1;c>=1?(s.complete=!0,c=1):i=!1;var f=s.easing(c);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],d=h+f*(s.targetCenter[0]-h),g=p+f*(s.targetCenter[1]-p);this.targetCenter_=[d,g]}if(s.sourceResolution&&s.targetResolution){var y=1===f?s.targetResolution:s.sourceResolution+f*(s.targetResolution-s.sourceResolution);if(s.anchor){var m=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(y,0,m,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.targetResolution_=y,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===f?(0,v.modulo)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+f*(s.targetRotation-s.sourceRotation);if(s.anchor){var w=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(w,s.anchor)}this.targetRotation_=b}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(l.default.ANIMATING,-1);var x=r[0].callback;x&&P(x,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],(0,p.rotate)(n,t-this.getRotation()),(0,p.add)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?(0,b.toUserCoordinate)(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(c.default.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return(0,b.toUserExtent)(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),n=this.getCenterInternal();(0,h.assert)(n,1);var r=this.getResolution();(0,h.assert)(void 0!==r,2);var i=this.getRotation();return(0,h.assert)(void 0!==i,3),(0,g.getForViewAndSize)(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(c.default.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal((0,b.fromUserExtent)(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSize_(),r=(0,g.getWidth)(t)/n[0],i=(0,g.getHeight)(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get(c.default.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/i}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=(0,f.linearFindNearest)(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=(0,v.clamp)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,(0,v.clamp)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,r=(0,_.assign)({size:this.getViewportSize_()},e||{});if((0,h.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){(0,h.assert)(!(0,g.isEmpty)(t),25);var i=(0,b.fromUserExtent)(t,this.getProjection());n=(0,m.fromExtent)(i)}else if(t.getType()===y.default.CIRCLE)i=(0,b.fromUserExtent)(t.getExtent(),this.getProjection()),(n=(0,m.fromExtent)(i)).rotate(this.getRotation(),(0,g.getCenter)(i));else{var o=(0,b.getUserProjection)();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,r)},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSize_());var o,a=void 0!==n.padding?n.padding:[0,0,0,0],s=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var u=t.getFlatCoordinates(),l=this.getRotation(),c=Math.cos(-l),f=Math.sin(-l),h=1/0,p=1/0,d=-1/0,g=-1/0,y=t.getStride(),m=0,v=u.length;m<v;m+=y){var _=u[m]*c-u[m+1]*f,b=u[m]*f+u[m+1]*c;h=Math.min(h,_),p=Math.min(p,b),d=Math.max(d,_),g=Math.max(g,b)}var w=this.getResolutionForExtentInternal([h,p,d,g],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);w=isNaN(w)?o:Math.max(w,o),w=this.getConstrainedResolution(w,s?0:1),f=-f;var x=(h+d)/2,S=(p+g)/2,E=[(x+=(a[1]-a[3])/2*w)*c-(S+=(a[0]-a[2])/2*w)*f,S*c+x*f],O=n.callback?n.callback:i.VOID;void 0!==n.duration?this.animateInternal({resolution:w,center:this.getConstrainedCenter(E,w),duration:n.duration,easing:n.easing},O):(this.targetResolution_=w,this.targetCenter_=E,this.applyTargetState_(!1,!0),P(O,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal((0,b.fromUserCoordinate)(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,u=this.getResolution(),l=(a+=(e[0]/2-n[0])*u)*i-(s+=(n[1]-e[1]/2)*u)*(o=-o),c=s*i+a*o;this.setCenterInternal([l,c])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=(0,b.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&(0,b.fromUserCoordinate)(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=(0,b.fromUserCoordinate)(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal((0,b.fromUserCoordinate)(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n);this.get(c.default.ROTATION)!==r&&this.set(c.default.ROTATION,r),this.get(c.default.RESOLUTION)!==o&&this.set(c.default.RESOLUTION,o),this.get(c.default.CENTER)&&(0,p.equals)(this.get(c.default.CENTER),a)||this.set(c.default.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a);if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&(0,p.equals)(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:d.easeOut,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(l.default.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&(0,b.fromUserCoordinate)(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(l.default.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(a.default);function P(t,e){setTimeout((function(){t(e)}),0)}function C(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return(0,o.createExtent)(t.extent,t.constrainOnlyCenter,e)}var n=(0,b.createProjection)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,(0,o.createExtent)(r,!1,!1)}return o.none}function T(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:E,a=void 0!==t.maxZoom?t.maxZoom:28,u=void 0!==t.zoomFactor?t.zoomFactor:2,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,f=void 0!==t.showFullExtent&&t.showFullExtent,h=(0,b.createProjection)(t.projection,"EPSG:3857"),p=h.getExtent(),d=t.constrainOnlyCenter,y=t.extent;if(l||y||!h.isGlobal()||(d=!1,y=p),void 0!==t.resolutions){var m=t.resolutions;n=m[o],i=void 0!==m[a]?m[a]:m[m.length-1],e=t.constrainResolution?(0,s.createSnapToResolutions)(m,c,!d&&y,f):(0,s.createMinMaxResolution)(n,i,c,!d&&y,f)}else{var v=(p?Math.max((0,g.getWidth)(p),(0,g.getHeight)(p)):360*b.METERS_PER_UNIT[w.default.DEGREES]/h.getMetersPerUnit())/r.DEFAULT_TILE_SIZE/Math.pow(2,E),_=v/Math.pow(2,28-E);void 0!==(n=t.maxResolution)?o=0:n=v/Math.pow(u,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,a):v/Math.pow(u,a):_),a=o+Math.floor(Math.log(n/i)/Math.log(u)),i=n/Math.pow(u,a-o),e=t.constrainResolution?(0,s.createSnapToPower)(u,n,i,c,!d&&y,f):(0,s.createMinMaxResolution)(n,i,c,!d&&y,f)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:u}}function N(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,u.createSnapToZero)():!1===e?u.none:"number"==typeof e?(0,u.createSnapToN)(e):u.none}return u.disable}function I(t){return!(t.sourceCenter&&t.targetCenter&&!(0,p.equals)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ERROR_THRESHOLD=.5,e.ENABLE_RASTER_REPROJECTION=!0},function(t,e,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){"object"==a(e)&&void 0!==t?s(e):(i=[e],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o))}(0,(function(t){function e(){}function n(t){this.message=t||""}function r(t){this.message=t||""}function i(t){this.message=t||""}function o(){}function a(t){return null===t?Rt:t.color}function s(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function l(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function f(){this.root_=null,this.size_=0}function h(){}function p(){this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}function d(){}function g(t){this.message=t||""}function y(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var v=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),_=function(){},b={MAX_VALUE:{configurable:!0}};_.isNaN=function(t){return Number.isNaN(t)},_.doubleToLongBits=function(t){return t},_.longBitsToDouble=function(t){return t},_.isInfinite=function(t){return!Number.isFinite(t)},b.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(_,b);var w=function(){},x=function(){},S=function(){},E=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},O={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};E.prototype.setOrdinate=function(t,e){switch(t){case E.X:this.x=e;break;case E.Y:this.y=e;break;case E.Z:this.z=e;break;default:throw new v("Invalid ordinate index: "+t)}},E.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!m.equalsWithTolerance(this.x,e.x,n)&&!!m.equalsWithTolerance(this.y,e.y,n)}},E.prototype.getOrdinate=function(t){switch(t){case E.X:return this.x;case E.Y:return this.y;case E.Z:return this.z}throw new v("Invalid ordinate index: "+t)},E.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||_.isNaN(this.z))&&_.isNaN(t.z)},E.prototype.equals=function(t){return t instanceof E&&this.equals2D(t)},E.prototype.equalInZ=function(t,e){return m.equalsWithTolerance(this.z,t.z,e)},E.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},E.prototype.clone=function(){},E.prototype.copy=function(){return new E(this)},E.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},E.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},E.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},E.prototype.hashCode=function(){var t=17;return 37*(t=37*t+E.hashCode(this.x))+E.hashCode(this.y)},E.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},E.prototype.interfaces_=function(){return[w,x,e]},E.prototype.getClass=function(){return E},E.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=_.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},O.DimensionalComparator.get=function(){return P},O.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},O.NULL_ORDINATE.get=function(){return _.NaN},O.X.get=function(){return 0},O.Y.get=function(){return 1},O.Z.get=function(){return 2},Object.defineProperties(E,O);var P=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};P.prototype.compare=function(t,e){var n=t,r=e,i=P.compare(n.x,r.x);if(0!==i)return i;var o=P.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:P.compare(n.z,r.z)},P.prototype.interfaces_=function(){return[S]},P.prototype.getClass=function(){return P},P.compare=function(t,e){return t<e?-1:t>e?1:_.isNaN(t)?_.isNaN(e)?0:-1:_.isNaN(e)?1:0};var C=function(){};C.prototype.create=function(){},C.prototype.interfaces_=function(){return[]},C.prototype.getClass=function(){return C};var T=function(){},N={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};T.prototype.interfaces_=function(){return[]},T.prototype.getClass=function(){return T},T.toLocationSymbol=function(t){switch(t){case T.EXTERIOR:return"e";case T.BOUNDARY:return"b";case T.INTERIOR:return"i";case T.NONE:return"-"}throw new v("Unknown location value: "+t)},N.INTERIOR.get=function(){return 0},N.BOUNDARY.get=function(){return 1},N.EXTERIOR.get=function(){return 2},N.NONE.get=function(){return-1},Object.defineProperties(T,N);var I=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},M=function(){},A={LOG_10:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.log10=function(t){var e=Math.log(t);return _.isInfinite(e)?e:_.isNaN(e)?e:e/M.LOG_10},M.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},M.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},M.wrap=function(t,e){return t<0?e- -t%e:t%e},M.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=i;return o>u&&(u=o),a>u&&(u=a),s>u&&(u=s),u}},M.average=function(t,e){return(t+e)/2},A.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(M,A);var L=function(t){this.str=t};L.prototype.append=function(t){this.str+=t},L.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},L.prototype.toString=function(t){return this.str};var R=function(t){this.value=t};R.prototype.intValue=function(){return this.value},R.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},R.isNaN=function(t){return Number.isNaN(t)};var k=function(){};k.isWhitespace=function(t){return t<=32&&t>=0||127===t},k.toUpperCase=function(t){return t.toUpperCase()};var F=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},j={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};F.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},F.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=F.magnitude(n._hi),i=F.TEN.pow(r);(n=n.divide(i)).gt(F.TEN)?(n=n.divide(F.TEN),r+=1):n.lt(F.ONE)&&(n=n.multiply(F.TEN),r-=1);for(var o=r+1,a=new L,s=F.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,f=0;l>9?(c=!0,f="9"):f="0"+l,a.append(f),n=n.subtract(F.valueOf(l)).multiply(F.TEN),c&&n.selfAdd(F.TEN);var h=!0,p=F.magnitude(n._hi);if(p<0&&Math.abs(p)>=s-u&&(h=!1),!h)break}return e[0]=r,a.toString()},F.prototype.sqr=function(){return this.multiply(this)},F.prototype.doubleValue=function(){return this._hi+this._lo},F.prototype.subtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},F.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},F.prototype.isZero=function(){return 0===this._hi&&0===this._lo},F.prototype.selfSubtract=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},F.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},F.prototype.min=function(t){return this.le(t)?this:t},F.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n,r,i,o,a=arguments[0],s=arguments[1],u=null,l=null,c=null,f=null;return i=this._hi/a,f=(u=(c=F.SPLIT*i)-(u=c-i))*(l=(f=F.SPLIT*a)-(l=f-a))-(o=i*a)+u*(r=a-l)+(n=i-u)*l+n*r,f=i+(c=(this._hi-o-f+this._lo-i*s)/a),this._hi=f,this._lo=i-f+c,this}},F.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},F.prototype.divide=function(){if(arguments[0]instanceof F){var t,e,n,r,i=arguments[0],o=null,a=null,s=null,u=null;return t=(n=this._hi/i._hi)-(o=(s=F.SPLIT*n)-(o=s-n)),u=o*(a=(u=F.SPLIT*i._hi)-(a=u-i._hi))-(r=n*i._hi)+o*(e=i._hi-a)+t*a+t*e,s=(this._hi-r-u+this._lo-n*i._lo)/i._hi,new F(u=n+s,n-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return _.isNaN(l)?F.createNaN():F.copy(this).selfDivide(l,0)}},F.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},F.prototype.pow=function(t){if(0===t)return F.valueOf(1);var e=new F(this),n=F.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},F.prototype.ceil=function(){if(this.isNaN())return F.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new F(t,e)},F.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},F.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},F.prototype.setValue=function(){if(arguments[0]instanceof F){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},F.prototype.max=function(t){return this.ge(t)?this:t},F.prototype.sqrt=function(){if(this.isZero())return F.valueOf(0);if(this.isNegative())return F.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=F.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},F.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e,n,r,i,o,a=arguments[0],s=null;return s=(r=this._hi+a)-(i=r-this._hi),n=(o=(s=a-i+(this._hi-s))+this._lo)+(r-(e=r+o)),this._hi=e+n,this._lo=n+(e-this._hi),this}}else if(2===arguments.length){var u,l,c,f,h=arguments[0],p=arguments[1],d=null,g=null,y=null;c=this._hi+h,l=this._lo+p,g=c-(y=c-this._hi),d=l-(f=l-this._lo);var m=(u=c+(y=(g=h-y+(this._hi-g))+l))+(y=(d=p-f+(this._lo-d))+(y+(c-u))),v=y+(u-m);return this._hi=m,this._lo=v,this}},F.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof F){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n,r,i=arguments[0],o=arguments[1],a=null,s=null,u=null,l=null;a=(u=F.SPLIT*this._hi)-this._hi,l=F.SPLIT*i,a=u-a,n=this._hi-a,s=l-i;var c=(u=this._hi*i)+(l=a*(s=l-s)-u+a*(r=i-s)+n*s+n*r+(this._hi*o+this._lo*i)),f=l+(a=u-c);return this._hi=c,this._lo=f,this}},F.prototype.selfSqr=function(){return this.selfMultiply(this)},F.prototype.floor=function(){if(this.isNaN())return F.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new F(t,e)},F.prototype.negate=function(){return this.isNaN()?this:new F(-this._hi,-this._lo)},F.prototype.clone=function(){},F.prototype.multiply=function(){if(arguments[0]instanceof F){var t=arguments[0];return t.isNaN()?F.createNaN():F.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return _.isNaN(e)?F.createNaN():F.copy(this).selfMultiply(e,0)}},F.prototype.isNaN=function(){return _.isNaN(this._hi)},F.prototype.intValue=function(){return Math.trunc(this._hi)},F.prototype.toString=function(){var t=F.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},F.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+F.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+F.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},F.prototype.reciprocal=function(){var t,e,n,r,i=null,o=null,a=null,s=null;t=(n=1/this._hi)-(i=(a=F.SPLIT*n)-(i=a-n)),o=(s=F.SPLIT*this._hi)-this._hi;var u=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new F(u,n-u+a)},F.prototype.toSciNotation=function(){if(this.isZero())return F.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=F.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},F.prototype.abs=function(){return this.isNaN()?F.NaN:this.isNegative()?this.negate():new F(this)},F.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},F.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},F.prototype.add=function(){if(arguments[0]instanceof F){var t=arguments[0];return F.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return F.copy(this).selfAdd(e)}},F.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof F){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},F.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},F.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},F.prototype.trunc=function(){return this.isNaN()?F.NaN:this.isPositive()?this.floor():this.ceil()},F.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},F.prototype.interfaces_=function(){return[e,w,x]},F.prototype.getClass=function(){return F},F.sqr=function(t){return F.valueOf(t).selfMultiply(t)},F.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return F.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new F(e)}},F.sqrt=function(t){return F.valueOf(t).sqrt()},F.parse=function(t){for(var e=0,n=t.length;k.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new F,a=0,s=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,k.isDigit(l)){var c=l-"0";o.selfMultiply(F.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var f=t.substring(e);try{u=R.parseInt(f)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+f+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var h=o,p=a-s-u;if(0===p)h=o;else if(p>0){var d=F.TEN.pow(p);h=o.divide(d)}else if(p<0){var g=F.TEN.pow(-p);h=o.multiply(g)}return r?h.negate():h},F.createNaN=function(){return new F(_.NaN,_.NaN)},F.copy=function(t){return new F(t)},F.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},F.stringOfChar=function(t,e){for(var n=new L,r=0;r<e;r++)n.append(t);return n.toString()},j.PI.get=function(){return new F(3.141592653589793,12246467991473532e-32)},j.TWO_PI.get=function(){return new F(6.283185307179586,24492935982947064e-32)},j.PI_2.get=function(){return new F(1.5707963267948966,6123233995736766e-32)},j.E.get=function(){return new F(2.718281828459045,14456468917292502e-32)},j.NaN.get=function(){return new F(_.NaN,_.NaN)},j.EPS.get=function(){return 123259516440783e-46},j.SPLIT.get=function(){return 134217729},j.MAX_PRINT_DIGITS.get=function(){return 32},j.TEN.get=function(){return F.valueOf(10)},j.ONE.get=function(){return F.valueOf(1)},j.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},j.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(F,j);var D=function(){},U={DP_SAFE_EPSILON:{configurable:!0}};D.prototype.interfaces_=function(){return[]},D.prototype.getClass=function(){return D},D.orientationIndex=function(t,e,n){var r=D.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=F.valueOf(e.x).selfAdd(-t.x),o=F.valueOf(e.y).selfAdd(-t.y),a=F.valueOf(n.x).selfAdd(-e.x),s=F.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},D.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},D.intersection=function(t,e,n,r){var i=F.valueOf(r.y).selfSubtract(n.y).selfMultiply(F.valueOf(e.x).selfSubtract(t.x)),o=F.valueOf(r.x).selfSubtract(n.x).selfMultiply(F.valueOf(e.y).selfSubtract(t.y)),a=i.subtract(o),s=F.valueOf(r.x).selfSubtract(n.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),u=F.valueOf(r.y).selfSubtract(n.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(a).doubleValue(),c=F.valueOf(t.x).selfAdd(F.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),f=F.valueOf(e.x).selfSubtract(t.x).selfMultiply(F.valueOf(t.y).selfSubtract(n.y)),h=F.valueOf(e.y).selfSubtract(t.y).selfMultiply(F.valueOf(t.x).selfSubtract(n.x)),p=f.subtract(h).selfDivide(a).doubleValue(),d=F.valueOf(n.y).selfAdd(F.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new E(c,d)},D.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=i-o;if(i>0){if(o<=0)return D.signum(a);r=i+o}else{if(!(i<0))return D.signum(a);if(o>=0)return D.signum(a);r=-i-o}var s=D.DP_SAFE_EPSILON*r;return a>=s||-a>=s?D.signum(a):2},D.signum=function(t){return t>0?1:t<0?-1:0},U.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(D,U);var G=function(){},z={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};z.X.get=function(){return 0},z.Y.get=function(){return 1},z.Z.get=function(){return 2},z.M.get=function(){return 3},G.prototype.setOrdinate=function(t,e,n){},G.prototype.size=function(){},G.prototype.getOrdinate=function(t,e){},G.prototype.getCoordinate=function(){},G.prototype.getCoordinateCopy=function(t){},G.prototype.getDimension=function(){},G.prototype.getX=function(t){},G.prototype.clone=function(){},G.prototype.expandEnvelope=function(t){},G.prototype.copy=function(){},G.prototype.getY=function(t){},G.prototype.toCoordinateArray=function(){},G.prototype.interfaces_=function(){return[x]},G.prototype.getClass=function(){return G},Object.defineProperties(G,z);var B=function(){},q=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(B),V=function(){};V.arraycopy=function(t,e,n,r,i){for(var o=0,a=e;a<e+i;a++)n[r+o]=t[a],o++},V.getProperty=function(t){return{"line.separator":"\n"}[t]};var Y=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof E&&arguments[1]instanceof E){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var f=arguments[0],h=arguments[1],p=arguments[2],d=arguments[3],g=f.y-h.y,y=h.x-f.x,m=f.x*h.y-h.x*f.y,v=p.y-d.y,_=d.x-p.x,b=p.x*d.y-d.x*p.y;this.x=y*b-_*m,this.y=v*m-g*b,this.w=g*_-v*y}};Y.prototype.getY=function(){var t=this.y/this.w;if(_.isNaN(t)||_.isInfinite(t))throw new q;return t},Y.prototype.getX=function(){var t=this.x/this.w;if(_.isNaN(t)||_.isInfinite(t))throw new q;return t},Y.prototype.getCoordinate=function(){var t=new E;return t.x=this.getX(),t.y=this.getY(),t},Y.prototype.interfaces_=function(){return[]},Y.prototype.getClass=function(){return Y},Y.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-s*o,f=(o*l-u*a)/c,h=(s*a-i*l)/c;if(_.isNaN(f)||_.isInfinite(f)||_.isNaN(h)||_.isInfinite(h))throw new q;return new E(f,h)};var H=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof E){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(o,a,s,u)}},W={serialVersionUID:{configurable:!0}};H.prototype.getArea=function(){return this.getWidth()*this.getHeight()},H.prototype.equals=function(t){if(!(t instanceof H))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},H.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new H;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new H(e,r,n,i)},H.prototype.isNull=function(){return this._maxx<this._minx},H.prototype.getMaxX=function(){return this._maxx},H.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof H){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},H.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof H){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof E){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},H.prototype.getMinY=function(){return this._miny},H.prototype.getMinX=function(){return this._minx},H.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof H){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},H.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},H.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},H.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},H.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},H.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},H.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},H.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},H.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},H.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},H.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof H){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof E){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},H.prototype.centre=function(){return this.isNull()?null:new E((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},H.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof H){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},H.prototype.getMaxY=function(){return this._maxy},H.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},H.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+E.hashCode(this._minx))+E.hashCode(this._maxx))+E.hashCode(this._miny))+E.hashCode(this._maxy)},H.prototype.interfaces_=function(){return[w,e]},H.prototype.getClass=function(){return H},H.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<s||(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<s))}},W.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(H,W);var X={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},K=function(t){this.geometryFactory=t||new me};K.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=X.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=X.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],J[n]&&(e=J[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},K.prototype.write=function(t){return this.extractGeometry(t)},K.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Z[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Z[e].apply(this,[t])+")"};var Z={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Z.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Z.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Z.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Z.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Z.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Z.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},J={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(X.spaces);return this.geometryFactory.createPoint(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(X.trimParens,"$1"),r.push(J.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(X.spaces),r.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(X.spaces),r.push(new E(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(X.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(X.trimParens,"$1"),r.push(J.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(X.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(X.trimParens,"$1"),n=J.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(X.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(X.trimParens,"$1"),r.push(J.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Q=function(t){this.parser=new K(t)};Q.prototype.write=function(t){return this.parser.write(t)},Q.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new E,this._intPt[1]=new E,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},rt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new L;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Q.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Q.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=r>i?a:s)||t.equals(e)||(o=Math.max(a,s))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},rt.DONT_INTERSECT.get=function(){return 0},rt.DO_INTERSECT.get=function(){return 1},rt.COLLINEAR.get=function(){return 2},rt.NO_INTERSECTION.get=function(){return 0},rt.POINT_INTERSECTION.get=function(){return 1},rt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,rt);var it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new H(this._inputLines[0][0],this._inputLines[0][1]),n=new H(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,H.intersects(n,r,e)&&0===st.orientationIndex(n,r,e)&&0===st.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Y.intersection(t,n,r,i)}catch(a){if(!(a instanceof q))throw a;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new E(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=D.intersection(t,e,n,r),a=this.isInSegmentEnvelopes(o);V.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&V.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new E(t),o=new E(e),a=new E(n),s=new E(r),u=new E;this.normalizeToEnvCentre(i,o,a,s,u);var l=this.safeHCoordinateIntersection(i,o,a,s);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=H.intersects(e,n,r),a=H.intersects(e,n,i),s=H.intersects(r,i,e),u=H.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,p=((o>l?o:l)+(s<f?s:f))/2,d=((a>c?a:c)+(u<h?u:h))/2;i.x=p,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!H.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=st.orientationIndex(e,n,r),a=st.orientationIndex(e,n,i);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=st.orientationIndex(r,i,e),u=st.orientationIndex(r,i,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new E(r):0===a?this._intPt[0]=new E(i):0===s?this._intPt[0]=new E(e):0===u&&(this._intPt[0]=new E(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=st.distancePointLine(t,n,r),a=st.distancePointLine(e,n,r);return a<o&&(o=a,i=e),(a=st.distancePointLine(n,t,e))<o&&(o=a,i=n),(a=st.distancePointLine(r,t,e))<o&&(o=a,i=r),i},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,a=n.y-e.y;return ot.signOfDet2x2(r,i,o,a)},ot.signOfDet2x2=function(t,e,n,r){var i=null,o=null,a=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(n-=(a=Math.floor(n/t))*t,(r-=a*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(t-=(a=Math.floor(t/n))*n,(e-=a*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var at=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};at.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,u=ot.signOfDet2x2(i,o,a,s);if(0===u)return this._isPointOnSegment=!0,null;s<o&&(u=-u),u>0&&this._crossingCount++}},at.prototype.isPointInPolygon=function(){return this.getLocation()!==T.EXTERIOR},at.prototype.getLocation=function(){return this._isPointOnSegment?T.BOUNDARY:this._crossingCount%2==1?T.INTERIOR:T.EXTERIOR},at.prototype.isOnSegment=function(){return this._isPointOnSegment},at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.locatePointInRing=function(){if(arguments[0]instanceof E&&I(arguments[1],G)){for(var t=arguments[0],e=arguments[1],n=new at(t),r=new E,i=new E,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof E&&arguments[1]instanceof Array){for(var a=arguments[0],s=arguments[1],u=new at(a),l=1;l<s.length;l++){var c=s[l],f=s[l-1];if(u.countSegment(c,f),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var st=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.orientationIndex=function(t,e,n){return D.orientationIndex(t,e,n)},st.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(I(arguments[0],G)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new E,l=new E,c=new E;a.getCoordinate(0,l),a.getCoordinate(1,c);var f=l.x;c.x-=f;for(var h=0,p=1;p<s-1;p++)u.y=l.y,l.x=c.x,l.y=c.y,a.getCoordinate(p+1,c),c.x-=f,h+=l.x*(u.y-c.y);return h/2}},st.distanceLineLine=function(t,e,n,r){if(t.equals(e))return st.distancePointLine(t,n,r);if(n.equals(r))return st.distancePointLine(r,t,e);var i=!1;if(H.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),s=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=a/o;(u<0||u>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?M.min(st.distancePointLine(t,n,r),st.distancePointLine(e,n,r),st.distancePointLine(n,t,e),st.distancePointLine(r,t,e)):0},st.isPointInRing=function(t,e){return st.locatePointInRing(t,e)!==T.EXTERIOR},st.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new E;t.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<e;a++){t.getCoordinate(a,r);var s=r.x,u=r.y,l=s-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=s,o=u}return n},st.isCCW=function(t){var e=t.length-1;if(e<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==r);var u=t[a],l=t[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=st.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},st.locatePointInRing=function(t,e){return at.locatePointInRing(t,e)},st.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},st.computeOrientation=function(t,e,n){return st.orientationIndex(t,e,n)},st.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new v("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=st.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;if(l<=0)return o.distance(a);if(l>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u;return Math.abs(c)*Math.sqrt(u)}},st.isOnLine=function(t,e){for(var n=new it,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return st.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return st.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return st.COLLINEAR},Object.defineProperties(st,ut);var lt=function(){};lt.prototype.filter=function(t){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ft={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ct))return!1;var n=e;return this.equalsExact(n)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")},ct.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new H(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[x,w,e]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ft.serialVersionUID.get=function(){return 0x799ea46522854c00},ft.SORTINDEX_POINT.get=function(){return 0},ft.SORTINDEX_MULTIPOINT.get=function(){return 1},ft.SORTINDEX_LINESTRING.get=function(){return 2},ft.SORTINDEX_LINEARRING.get=function(){return 3},ft.SORTINDEX_MULTILINESTRING.get=function(){return 4},ft.SORTINDEX_POLYGON.get=function(){return 5},ft.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ft.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ft.geometryChangedFilter.get=function(){return ht},Object.defineProperties(ct,ft);var ht=function(){};ht.interfaces_=function(){return[lt]},ht.filter=function(t){t.geometryChangedAction()};var pt=function(){};pt.prototype.filter=function(t){},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt};var dt=function(){},gt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dt.prototype.isInBoundary=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},gt.Mod2BoundaryNodeRule.get=function(){return yt},gt.EndPointBoundaryNodeRule.get=function(){return mt},gt.MultiValentEndPointBoundaryNodeRule.get=function(){return vt},gt.MonoValentEndPointBoundaryNodeRule.get=function(){return _t},gt.MOD2_BOUNDARY_RULE.get=function(){return new yt},gt.ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},gt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},gt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},gt.OGC_SFS_BOUNDARY_RULE.get=function(){return dt.MOD2_BOUNDARY_RULE},Object.defineProperties(dt,gt);var yt=function(){};yt.prototype.isInBoundary=function(t){return t%2==1},yt.prototype.interfaces_=function(){return[dt]},yt.prototype.getClass=function(){return yt};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>0},mt.prototype.interfaces_=function(){return[dt]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.isInBoundary=function(t){return t>1},vt.prototype.interfaces_=function(){return[dt]},vt.prototype.getClass=function(){return vt};var _t=function(){};_t.prototype.isInBoundary=function(t){return 1===t},_t.prototype.interfaces_=function(){return[dt]},_t.prototype.getClass=function(){return _t};var bt=function(){};bt.prototype.add=function(){},bt.prototype.addAll=function(){},bt.prototype.isEmpty=function(){},bt.prototype.iterator=function(){},bt.prototype.size=function(){},bt.prototype.toArray=function(){},bt.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var wt=function(){};wt.prototype.hasNext=function(){},wt.prototype.next=function(){},wt.prototype.remove=function(){};var xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(bt);(r.prototype=new Error).name="NoSuchElementException";var St=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,bt]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new Et(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xt),Et=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(wt),Ot=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof E&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<s.length;l++)this.add(s[l],u);else for(var c=s.length-1;c>=0;c--)this.add(s[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof E){var f=arguments[0],h=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(f>0&&this.get(f-1).equals2D(h))return null;if(f<p&&this.get(f).equals2D(h))return null}}t.prototype.add.call(this,f,h)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],y=arguments[2],m=arguments[3],v=1;y>m&&(v=-1);for(var _=y;_!==m;_+=v)this.add(d[_],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new E(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(St),Pt=function(){},Ct={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ct.ForwardComparator.get=function(){return Tt},Ct.BidirectionalComparator.get=function(){return Nt},Ct.coordArrayType.get=function(){return new Array(0).fill(null)},Pt.prototype.interfaces_=function(){return[]},Pt.prototype.getClass=function(){return Pt},Pt.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Pt.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Pt.indexOf(r,e)<0)return r}return null},Pt.scroll=function(t,e){var n=Pt.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);V.arraycopy(t,n,r,0,t.length-n),V.arraycopy(t,0,r,t.length-n,n),V.arraycopy(r,0,t,0,t.length)},Pt.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},Pt.intersection=function(t,e){for(var n=new Ot,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Pt.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Pt.removeRepeatedPoints=function(t){return Pt.hasRepeatedPoints(t)?new Ot(t,!1).toCoordinateArray():t},Pt.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Pt.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Pt.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new E(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new E(r[i+u])},Pt.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Pt.envelope=function(t){for(var e=new H,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Pt.toCoordinateArray=function(t){return t.toArray(Pt.coordArrayType)},Pt.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Pt.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Pt.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Pt.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Pt.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Pt.extract=function(t,e,n){e=M.clamp(e,0,t.length);var r=(n=M.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=e;a<=n;a++)i[o++]=t[a];return i},Object.defineProperties(Pt,Ct);var Tt=function(){};Tt.prototype.compare=function(t,e){return Pt.compare(t,e)},Tt.prototype.interfaces_=function(){return[S]},Tt.prototype.getClass=function(){return Tt};var Nt=function(){};Nt.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Pt.compare(n,r);return Pt.isEqualReversed(n,r)?0:i},Nt.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Pt.increasingDirection(n),o=Pt.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0},Nt.prototype.interfaces_=function(){return[S]},Nt.prototype.getClass=function(){return Nt};var It=function(){};It.prototype.get=function(){},It.prototype.put=function(){},It.prototype.size=function(){},It.prototype.values=function(){},It.prototype.entrySet=function(){};var Mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(It);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new bt).contains=function(){};var At=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Lt(this)},e}(o),Lt=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new i},e}(wt),Rt=0;(f.prototype=new Mt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},f.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Rt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var a={key:t,left:null,right:null,value:e,parent:n,color:Rt,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},f.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(s(t)===l(s(s(t)))){var e=c(s(s(t)));1===a(e)?(u(s(t),Rt),u(e,Rt),u(s(s(t)),1),t=s(s(t))):(t===c(s(t))&&(t=s(t),this.rotateLeft(t)),u(s(t),Rt),u(s(s(t)),1),this.rotateRight(s(s(t))))}else{var n=l(s(s(t)));1===a(n)?(u(s(t),Rt),u(n,Rt),u(s(s(t)),1),t=s(s(t))):(t===l(s(t))&&(t=s(t),this.rotateRight(t)),u(s(t),Rt),u(s(s(t)),1),this.rotateLeft(s(s(t))))}this.root_.color=Rt},f.prototype.values=function(){var t=new St,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=f.successor(e));)t.add(e.value);return t},f.prototype.entrySet=function(){var t=new At,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=f.successor(e));)t.add(e);return t},f.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},f.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},f.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},f.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},f.prototype.size=function(){return this.size_};var kt=function(){};kt.prototype.interfaces_=function(){return[]},kt.prototype.getClass=function(){return kt},h.prototype=new o,(p.prototype=new h).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},p.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},p.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},p.prototype.remove=function(t){throw new i},p.prototype.size=function(){return this.array_.length},p.prototype.isEmpty=function(){return 0===this.array_.length},p.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},p.prototype.iterator=function(){return new Ft(this)};var Ft=function(t){this.treeSet_=t,this.position_=0};Ft.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},Ft.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Ft.prototype.remove=function(){throw new i};var jt=function(){};jt.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},jt.asList=function(t){for(var e=new St,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Dt=function(){},Ut={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Ut.P.get=function(){return 0},Ut.L.get=function(){return 1},Ut.A.get=function(){return 2},Ut.FALSE.get=function(){return-1},Ut.TRUE.get=function(){return-2},Ut.DONTCARE.get=function(){return-3},Ut.SYM_FALSE.get=function(){return"F"},Ut.SYM_TRUE.get=function(){return"T"},Ut.SYM_DONTCARE.get=function(){return"*"},Ut.SYM_P.get=function(){return"0"},Ut.SYM_L.get=function(){return"1"},Ut.SYM_A.get=function(){return"2"},Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},Dt.toDimensionSymbol=function(t){switch(t){case Dt.FALSE:return Dt.SYM_FALSE;case Dt.TRUE:return Dt.SYM_TRUE;case Dt.DONTCARE:return Dt.SYM_DONTCARE;case Dt.P:return Dt.SYM_P;case Dt.L:return Dt.SYM_L;case Dt.A:return Dt.SYM_A}throw new v("Unknown dimension value: "+t)},Dt.toDimensionValue=function(t){switch(k.toUpperCase(t)){case Dt.SYM_FALSE:return Dt.FALSE;case Dt.SYM_TRUE:return Dt.TRUE;case Dt.SYM_DONTCARE:return Dt.DONTCARE;case Dt.SYM_P:return Dt.P;case Dt.SYM_L:return Dt.L;case Dt.SYM_A:return Dt.A}throw new v("Unknown dimension symbol: "+t)},Object.defineProperties(Dt,Ut);var Gt=function(){};Gt.prototype.filter=function(t){},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var zt=function(){};zt.prototype.filter=function(t,e){},zt.prototype.isDone=function(){},zt.prototype.isGeometryChanged=function(){},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt};var Bt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new v("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new H,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();jt.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Dt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Dt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new p(jt.asList(this._geometries)),n=new p(jt.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,a=this.getNumGeometries(),s=o.getNumGeometries(),u=0;u<a&&u<s;){var l=this.getGeometryN(u),c=o.getGeometryN(u),f=l.compareToSameClass(c,i);if(0!==f)return f;u++}return u<a?1:u<s?-1:0}},e.prototype.apply=function(){if(I(arguments[0],pt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(I(arguments[0],zt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],Gt)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(I(arguments[0],lt)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ct),qt=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Dt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Vt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[kt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(Bt),Vt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=dt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Vt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Vt.prototype.getBoundary=function(){return this._geom instanceof Kt?this.boundaryLineString(this._geom):this._geom instanceof qt?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Vt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Vt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Vt.prototype.computeBoundaryCoordinates=function(t){var e=new St;this._endpointMap=new f;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return Pt.toCoordinateArray(e)},Vt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Yt,this._endpointMap.put(t,e)),e.count++},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt},Vt.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Vt(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Vt(e,n).getBoundary()}};var Yt=function(){this.count=null};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var Ht=function(){},Wt={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht},Ht.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Ht.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(Ht.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+Ht.NEWLINE}catch(t){if(!(t instanceof d))throw t;et.shouldNeverReachHere()}return o}},Ht.split=function(t,e){for(var n=e.length,r=new St,i=""+t,o=i.indexOf(e);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},Ht.toString=function(){if(1===arguments.length){var t=arguments[0];return Ht.SIMPLE_ORDINATE_FORMAT.format(t)}},Ht.spaces=function(t){return Ht.chars(" ",t)},Wt.NEWLINE.get=function(){return V.getProperty("line.separator")},Wt.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Ht,Wt);var Xt=function(){};Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt},Xt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Xt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,G.X)===t.getOrdinate(e-1,G.X)&&t.getOrdinate(0,G.Y)===t.getOrdinate(e-1,G.Y)},Xt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=t.getOrdinate(i,o),s=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||_.isNaN(a)&&_.isNaN(s)))return!1}return!0},Xt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Xt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Xt.copy(e,i-1,r,o,1);return r},Xt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Xt.swap(t,r,e-r)},Xt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Xt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Xt.copyCoord(t,e+o,n,r+o)},Xt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new L;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Ht.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Xt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Xt.createClosedRing(t,e,4):e.getOrdinate(0,G.X)===e.getOrdinate(n-1,G.X)&&e.getOrdinate(0,G.Y)===e.getOrdinate(n-1,G.Y)?e:Xt.createClosedRing(t,e,n+1)},Xt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Xt.copy(e,0,r,0,i);for(var o=i;o<n;o++)Xt.copy(e,0,r,o,1);return r};var Kt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new H:this._points.expandEnvelope(new H)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Xt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Dt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return st.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Xt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(I(arguments[0],pt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(I(arguments[0],zt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else I(arguments[0],Gt)?arguments[0].filter(this):I(arguments[0],lt)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Vt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new v("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[kt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ct),Zt=function(){};Zt.prototype.interfaces_=function(){return[]},Zt.prototype.getClass=function(){return Zt};var Jt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new H;var t=new H;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Dt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(I(arguments[0],pt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(I(arguments[0],zt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else I(arguments[0],Gt)?arguments[0].filter(this):I(arguments[0],lt)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ct),Qt=function(){};Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var $t=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new v("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new v("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(st.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(st.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),l=t.getY(s);if(u!==o==(l!==a))return!1;o=u,a=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);jt.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);V.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Pt.minCoordinate(e.getCoordinates());Pt.scroll(r,i),V.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],st.isCCW(e.getCoordinates())===n&&Pt.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,a=this._shell,s=o._shell,u=a.compareToSameClass(s,i);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),f=0;f<l&&f<c;){var h=this.getInteriorRingN(f),p=o.getInteriorRingN(f),d=h.compareToSameClass(p,i);if(0!==d)return d;f++}return f<l?1:f<c?-1:0}},e.prototype.apply=function(t){if(I(t,pt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(I(t,zt)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(I(t,Gt))t.filter(this);else if(I(t,lt)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Qt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ct),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Dt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Zt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(Bt),ee=function(t){function e(e,n){e instanceof E&&n instanceof me&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Dt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Xt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Kt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new St,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Qt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(Bt),re=function(t){this._factory=t||null,this._isUserDataCopied=!1},ie={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},re.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof Bt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Jt?e.edit(t,this._factory):t instanceof Kt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new St,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===te?this._factory.createMultiPoint(r.toArray([])):n.getClass()===qt?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new St,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.GeometryEditorOperation=function(){},ie.NoOpGeometryOperation.get=function(){return oe},ie.CoordinateOperation.get=function(){return ae},ie.CoordinateSequenceOperation.get=function(){return se},Object.defineProperties(re,ie);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var ae=function(){};ae.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Kt?e.createLineString(n):t instanceof Jt?n.length>0?e.createPoint(n[0]):e.createPoint():t},ae.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var se=function(){};se.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Kt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Jt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},se.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new E}else if(I(arguments[0],G)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new E}},le={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case G.X:this._coordinates[t].x=n;break;case G.Y:this._coordinates[t].y=n;break;case G.Z:this._coordinates[t].z=n;break;default:throw new v("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case G.X:return this._coordinates[t].x;case G.Y:return this._coordinates[t].y;case G.Z:return this._coordinates[t].z}return _.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new E(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new L(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[G,e]},ue.prototype.getClass=function(){return ue},le.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,le);var ce=function(){},fe={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ce.prototype.readResolve=function(){return ce.instance()},ce.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new ue(t)}if(I(arguments[0],G)){var e=arguments[0];return new ue(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new ue(n):new ue(n,r)}},ce.prototype.interfaces_=function(){return[C,e]},ce.prototype.getClass=function(){return ce},ce.instance=function(){return ce.instanceObject},fe.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},fe.instanceObject.get=function(){return new ce},Object.defineProperties(ce,fe);var he=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new St,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new At;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(It),pe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ge){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},de={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};pe.prototype.equals=function(t){if(!(t instanceof pe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},pe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new R(n).compareTo(new R(r))},pe.prototype.getScale=function(){return this._scale},pe.prototype.isFloating=function(){return this._modelType===pe.FLOATING||this._modelType===pe.FLOATING_SINGLE},pe.prototype.getType=function(){return this._modelType},pe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===pe.FLOATING?t="Floating":this._modelType===pe.FLOATING_SINGLE?t="Floating-Single":this._modelType===pe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},pe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return _.isNaN(t)?t:this._modelType===pe.FLOATING_SINGLE?t:this._modelType===pe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof E){var e=arguments[0];if(this._modelType===pe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},pe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===pe.FLOATING?t=16:this._modelType===pe.FLOATING_SINGLE?t=6:this._modelType===pe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},pe.prototype.setScale=function(t){this._scale=Math.abs(t)},pe.prototype.interfaces_=function(){return[e,w]},pe.prototype.getClass=function(){return pe},pe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},de.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},de.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(pe,de);var ge=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ye={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ge.prototype.readResolve=function(){return ge.nameToTypeMap.get(this._name)},ge.prototype.toString=function(){return this._name},ge.prototype.interfaces_=function(){return[e]},ge.prototype.getClass=function(){return ge},ye.serialVersionUID.get=function(){return-552860263173159e4},ye.nameToTypeMap.get=function(){return new he},Object.defineProperties(ge,ye),pe.Type=ge,pe.FIXED=new ge("FIXED"),pe.FLOATING=new ge("FLOATING"),pe.FLOATING_SINGLE=new ge("FLOATING SINGLE");var me=function t(){this._precisionModel=new pe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?I(arguments[0],C)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof pe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ve={serialVersionUID:{configurable:!0}};me.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new E(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new E(t.getMinX(),t.getMinY()),new E(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new E(t.getMinX(),t.getMinY()),new E(t.getMinX(),t.getMaxY()),new E(t.getMaxX(),t.getMaxY()),new E(t.getMaxX(),t.getMinY()),new E(t.getMinX(),t.getMinY())]),null)},me.prototype.createLineString=function(t){return t?t instanceof Array?new Kt(this.getCoordinateSequenceFactory().create(t),this):I(t,G)?new Kt(t,this):void 0:new Kt(this.getCoordinateSequenceFactory().create([]),this)},me.prototype.createMultiLineString=function(){if(0===arguments.length)return new qt(null,this);if(1===arguments.length){var t=arguments[0];return new qt(t,this)}},me.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(me.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof $t)return this.createMultiPolygon(me.toPolygonArray(t));if(s instanceof Kt)return this.createMultiLineString(me.toLineStringArray(t));if(s instanceof Jt)return this.createMultiPoint(me.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},me.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},me.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof E){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(I(arguments[0],G)){var e=arguments[0];return new Jt(e,this)}}},me.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},me.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(I(arguments[0],G)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new $t(r,i,this)}},me.prototype.getSRID=function(){return this._SRID},me.prototype.createGeometryCollection=function(){if(0===arguments.length)return new Bt(null,this);if(1===arguments.length){var t=arguments[0];return new Bt(t,this)}},me.prototype.createGeometry=function(t){return new re(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},me.prototype.getPrecisionModel=function(){return this._precisionModel},me.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],G)){var e=arguments[0];return new ee(e,this)}}},me.prototype.createMultiPolygon=function(){if(0===arguments.length)return new ne(null,this);if(1===arguments.length){var t=arguments[0];return new ne(t,this)}},me.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new te(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(I(arguments[0],G)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Xt.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},me.prototype.interfaces_=function(){return[e]},me.prototype.getClass=function(){return me},me.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},me.getDefaultCoordinateSequenceFactory=function(){return ce.instance()},me.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ve.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(me,ve);var _e=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],be=function(t){this.geometryFactory=t||new me};be.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!we[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==_e.indexOf(n)?we[n].apply(this,[e.coordinates]):"GeometryCollection"===n?we[n].apply(this,[e.geometries]):we[n].apply(this,[e])},be.prototype.write=function(t){var e=t.getGeometryType();if(!xe[e])throw new Error("Geometry is not supported");return xe[e].apply(this,[t])};var we={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!we[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=we.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new E(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new E(t[0],t[1]),new E(t[2],t[1]),new E(t[2],t[3]),new E(t[0],t[3]),new E(t[0],t[1])])},Point:function(t){var e=new E(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(we.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=we.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(we.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=we.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],a=we.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(we.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},xe={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xe.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xe.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(xe.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xe.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xe.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=xe.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xe.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(xe[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Se=function(t){this.geometryFactory=t||new me,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new be(this.geometryFactory)};Se.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===pe.FIXED&&this.reducePrecision(e),e},Se.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ee=function(){this.parser=new be(this.geometryFactory)};Ee.prototype.write=function(t){return this.parser.write(t)};var Oe=function(){},Pe={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Oe.prototype.interfaces_=function(){return[]},Oe.prototype.getClass=function(){return Oe},Oe.opposite=function(t){return t===Oe.LEFT?Oe.RIGHT:t===Oe.RIGHT?Oe.LEFT:t},Pe.ON.get=function(){return 0},Pe.LEFT.get=function(){return 1},Pe.RIGHT.get=function(){return 2},Object.defineProperties(Oe,Pe),(g.prototype=new Error).name="EmptyStackException",(y.prototype=new xt).add=function(t){return this.array_.push(t),!0},y.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},y.prototype.push=function(t){return this.array_.push(t),t},y.prototype.pop=function(t){if(0===this.array_.length)throw new g;return this.array_.pop()},y.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},y.prototype.empty=function(){return 0===this.array_.length},y.prototype.isEmpty=function(){return this.empty()},y.prototype.search=function(t){return this.array_.indexOf(t)},y.prototype.size=function(){return this.array_.length},y.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ce=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ce.prototype.getCoordinate=function(){return this._minCoord},Ce.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ce.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=st.computeOrientation(this._minCoord,n,e),i=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===st.COUNTERCLOCKWISE?i=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===st.CLOCKWISE&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ce.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Oe.LEFT;return n[e].y<n[e+1].y&&(r=Oe.RIGHT),r},Ce.prototype.getEdge=function(){return this._orientedDe},Ce.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ce.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ce.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Oe.LEFT&&(this._orientedDe=this._minDe.getSym())},Ce.prototype.interfaces_=function(){return[]},Ce.prototype.getClass=function(){return Ce};var Te=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new E(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Ne=function(){this.array_=[]};Ne.prototype.addLast=function(t){this.array_.push(t)},Ne.prototype.removeFirst=function(){return this.array_.shift()},Ne.prototype.isEmpty=function(){return 0===this.array_.length};var Ie=function(){this._finder=null,this._dirEdgeList=new St,this._nodes=new St,this._rightMostCoord=null,this._env=null,this._finder=new Ce};Ie.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Ie.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ie.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Te("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Ie.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Oe.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Ie.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ie.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Oe.RIGHT)>=1&&e.getDepth(Oe.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Ie.prototype.computeDepths=function(t){var e=new At,n=new Ne,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},Ie.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Ie.prototype.getEnvelope=function(){if(null===this._env){for(var t=new H,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Ie.prototype.addReachable=function(t){var e=new y;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Ie.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Oe.LEFT,t.getDepth(Oe.RIGHT)),e.setDepth(Oe.RIGHT,t.getDepth(Oe.LEFT))},Ie.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Ie.prototype.getNodes=function(){return this._nodes},Ie.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ie.prototype.interfaces_=function(){return[w]},Ie.prototype.getClass=function(){return Ie};var Me=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Oe.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Oe.ON]=o,this.location[Oe.LEFT]=a,this.location[Oe.RIGHT]=s}};Me.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Me.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==T.NONE)return!1;return!0},Me.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===T.NONE&&(this.location[e]=t)},Me.prototype.isLine=function(){return 1===this.location.length},Me.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Oe.ON]=this.location[Oe.ON],e[Oe.LEFT]=T.NONE,e[Oe.RIGHT]=T.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===T.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Me.prototype.getLocations=function(){return this.location},Me.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Oe.LEFT];this.location[Oe.LEFT]=this.location[Oe.RIGHT],this.location[Oe.RIGHT]=t},Me.prototype.toString=function(){var t=new L;return this.location.length>1&&t.append(T.toLocationSymbol(this.location[Oe.LEFT])),t.append(T.toLocationSymbol(this.location[Oe.ON])),this.location.length>1&&t.append(T.toLocationSymbol(this.location[Oe.RIGHT])),t.toString()},Me.prototype.setLocations=function(t,e,n){this.location[Oe.ON]=t,this.location[Oe.LEFT]=e,this.location[Oe.RIGHT]=n},Me.prototype.get=function(t){return t<this.location.length?this.location[t]:T.NONE},Me.prototype.isArea=function(){return this.location.length>1},Me.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===T.NONE)return!0;return!1},Me.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Oe.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Me.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(T.NONE)},Me.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Me.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Me.prototype.interfaces_=function(){return[]},Me.prototype.getClass=function(){return Me};var Ae=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Me(e),this.elt[1]=new Me(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Me(n.elt[0]),this.elt[1]=new Me(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Me(T.NONE),this.elt[1]=new Me(T.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Me(o,a,s),this.elt[1]=new Me(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],f=arguments[3];this.elt[0]=new Me(T.NONE,T.NONE,T.NONE),this.elt[1]=new Me(T.NONE,T.NONE,T.NONE),this.elt[u].setLocations(l,c,f)}};Ae.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Ae.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Ae.prototype.isNull=function(t){return this.elt[t].isNull()},Ae.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Ae.prototype.isLine=function(t){return this.elt[t].isLine()},Ae.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Me(t.elt[e]):this.elt[e].merge(t.elt[e])},Ae.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ae.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Oe.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Ae.prototype.toString=function(){var t=new L;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Ae.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Ae.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Ae.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Oe.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Ae.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Ae.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Ae.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Me(this.elt[t].location[0]))},Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae},Ae.toLineLabel=function(t){for(var e=new Ae(T.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Le=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new St,this._pts=new St,this._label=new Ae(T.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new St,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Le.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=st.isCCW(this._ring.getCoordinates())},Le.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Le.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Te("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Te("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();et.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Le.prototype.getLinearRing=function(){return this._ring},Le.prototype.getCoordinate=function(t){return this._pts.get(t)},Le.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Le.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Le.prototype.isHole=function(){return this._isHole},Le.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Le.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!st.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Le.prototype.addHole=function(t){this._holes.add(t)},Le.prototype.isShell=function(){return null===this._shell},Le.prototype.getLabel=function(){return this._label},Le.prototype.getEdges=function(){return this._edges},Le.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Le.prototype.getShell=function(){return this._shell},Le.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Oe.RIGHT);if(r===T.NONE)return null;if(this._label.getLocation(n)===T.NONE)return this._label.setLocation(n,r),null}},Le.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Le.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var Re=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),ke=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new St,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Re(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Le),Fe=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Fe.prototype.setVisited=function(t){this._isVisited=t},Fe.prototype.setInResult=function(t){this._isInResult=t},Fe.prototype.isCovered=function(){return this._isCovered},Fe.prototype.isCoveredSet=function(){return this._isCoveredSet},Fe.prototype.setLabel=function(t){this._label=t},Fe.prototype.getLabel=function(){return this._label},Fe.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Fe.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Fe.prototype.isInResult=function(){return this._isInResult},Fe.prototype.isVisited=function(){return this._isVisited},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe};var je=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Ae(0,T.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=T.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==T.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Ae(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Ae)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===T.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=T.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case T.BOUNDARY:n=T.INTERIOR;break;case T.INTERIOR:default:n=T.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Fe),De=function(){this.nodeMap=new f,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};De.prototype.find=function(t){return this.nodeMap.get(t)},De.prototype.addNode=function(){if(arguments[0]instanceof E){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof je){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},De.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},De.prototype.iterator=function(){return this.nodeMap.values().iterator()},De.prototype.values=function(){return this.nodeMap.values()},De.prototype.getBoundaryNodes=function(t){for(var e=new St,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===T.BOUNDARY&&e.add(r)}return e},De.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},De.prototype.interfaces_=function(){return[]},De.prototype.getClass=function(){return De};var Ue=function(){},Ge={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue},Ue.isNorthern=function(t){return t===Ue.NE||t===Ue.NW},Ue.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},Ue.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Ue.isInHalfPlane=function(t,e){return e===Ue.SE?t===Ue.SE||t===Ue.SW:t===e||t===e+1},Ue.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Ue.NE:Ue.SE:e>=0?Ue.NW:Ue.SW}if(arguments[0]instanceof E&&arguments[1]instanceof E){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Ue.NE:Ue.SE:r.y>=n.y?Ue.NW:Ue.SW}},Ge.NE.get=function(){return 0},Ge.NW.get=function(){return 1},Ge.SW.get=function(){return 2},Ge.SE.get=function(){return 3},Object.defineProperties(Ue,Ge);var ze=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};ze.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:st.computeOrientation(t._p0,t._p1,this._p1)},ze.prototype.getDy=function(){return this._dy},ze.prototype.getCoordinate=function(){return this._p0},ze.prototype.setNode=function(t){this._node=t},ze.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},ze.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},ze.prototype.getDirectedCoordinate=function(){return this._p1},ze.prototype.getDx=function(){return this._dx},ze.prototype.getLabel=function(){return this._label},ze.prototype.getEdge=function(){return this._edge},ze.prototype.getQuadrant=function(){return this._quadrant},ze.prototype.getNode=function(){return this._node},ze.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},ze.prototype.computeLabel=function(t){},ze.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Ue.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ze.prototype.interfaces_=function(){return[w]},ze.prototype.getClass=function(){return ze};var Be=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Ae(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Te("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Oe.LEFT)===T.INTERIOR&&this._label.getLocation(e,Oe.RIGHT)===T.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Oe.LEFT]+"/"+this._depth[Oe.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,T.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,T.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Oe.LEFT&&(r=-1);var i=Oe.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===T.EXTERIOR&&e===T.INTERIOR?1:t===T.INTERIOR&&e===T.EXTERIOR?-1:0},e}(ze),qe=function(){};qe.prototype.createNode=function(t){return new je(t,null)},qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var Ve=function(){if(this._edges=new St,this._nodes=null,this._edgeEndList=new St,0===arguments.length)this._nodes=new De(new qe);else if(1===arguments.length){var t=arguments[0];this._nodes=new De(t)}};Ve.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ve.prototype.find=function(t){return this._nodes.find(t)},Ve.prototype.addNode=function(){if(arguments[0]instanceof je){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof E){var e=arguments[0];return this._nodes.addNode(e)}},Ve.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ve.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ve.prototype.debugPrintln=function(t){V.out.println(t)},Ve.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===T.BOUNDARY},Ve.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ve.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&st.computeOrientation(t,e,r)===st.COLLINEAR&&Ue.quadrant(t,e)===Ue.quadrant(n,r)},Ve.prototype.getEdgeEnds=function(){return this._edgeEndList},Ve.prototype.debugPrint=function(t){V.out.print(t)},Ve.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ve.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Ve.prototype.insertEdge=function(t){this._edges.add(t)},Ve.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ve.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new Be(n,!0),i=new Be(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Ve.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ve.prototype.getNodes=function(){return this._nodes.values()},Ve.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Ye=function(){this._geometryFactory=null,this._shellList=new St;var t=arguments[0];this._geometryFactory=t};Ye.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Ye.prototype.computePolygons=function(t){for(var e=new St,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Ye.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Te("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Ye.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new St,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else r.add(o)}return r},Ye.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Ye.prototype.buildMaximalEdgeRings=function(t){for(var e=new St,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new ke(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Ye.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Ye.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ye.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(r)&&st.isPointInRing(i,l.getCoordinates())&&(f=!0),f&&(null===o||a.contains(c))&&(o=u)}return o},Ye.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Ye.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ve.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new St,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var He=function(){};He.prototype.getBounds=function(){},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He};var We=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};We.prototype.getItem=function(){return this._item},We.prototype.getBounds=function(){return this._bounds},We.prototype.interfaces_=function(){return[He,e]},We.prototype.getClass=function(){return We};var Xe=function(){this._size=null,this._items=null,this._size=0,this._items=new St,this._items.add(null)};Xe.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Xe.prototype.size=function(){return this._size},Xe.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Xe.prototype.clear=function(){this._size=0,this._items.clear()},Xe.prototype.isEmpty=function(){return 0===this._size},Xe.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var Ke=function(){};Ke.prototype.visitItem=function(t){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Ze=function(){};Ze.prototype.insert=function(t,e){},Ze.prototype.remove=function(t,e){},Ze.prototype.query=function(){},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Je=function(){if(this._childBoundables=new St,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Qe={serialVersionUID:{configurable:!0}};Je.prototype.getLevel=function(){return this._level},Je.prototype.size=function(){return this._childBoundables.size()},Je.prototype.getChildBoundables=function(){return this._childBoundables},Je.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Je.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Je.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Je.prototype.interfaces_=function(){return[He,e]},Je.prototype.getClass=function(){return Je},Qe.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Je,Qe);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?jt.sort(n,e):jt.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},$e.singletonList=function(t){var e=new St;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),r=tn.isComposite(this._boundable2);if(n&&r)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new v("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new tn(o,e,this._itemDistance);a.getDistance()<r&&n.add(a)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[w]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Je};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new St,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Je?t+=this.size(n):n instanceof We&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof We&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new St:t}if(1===arguments.length){for(var e=arguments[0],n=new St,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Je){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof We?n.add(i.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new We(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new St;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(et.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Je?this.boundablesAtLevel(n,a,i):(et.isTrue(a instanceof We),-1===n&&i.add(a))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new St;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(I(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var i=arguments[0],o=arguments[1],a=arguments[2],s=o.getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Je?this.query(i,l,a):l instanceof We?a.visitItem(l.getItem()):et.shouldNeverReachHere())}else if(I(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Je)for(var c=arguments[0],f=arguments[1],h=arguments[2],p=f.getChildBoundables(),d=0;d<p.size();d++){var g=p.get(d);this.getIntersectsOp().intersects(g.getBounds(),c)&&(g instanceof Je?this.query(c,g,h):g instanceof We?h.add(g.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Je&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Je){var r=this.depth(n);r>t&&(t=r)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new St;n.add(this.createNode(e));var r=new St(t);$e.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var an=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new St,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new sn(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new St;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(I(arguments[2],Ke)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var i=arguments[0],o=arguments[1],a=arguments[2];t.prototype.query.call(this,i,o,a)}else if(I(arguments[2],xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Je){var s=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,s,u,l)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new St(t);$e.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(I(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var r=arguments[0];return this.nearestNeighbour(r,_.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&I(arguments[1],on)){var i=arguments[0],o=arguments[1],a=new tn(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],l=null,c=new Xe;for(c.add(s);!c.isEmpty()&&u>0;){var f=c.poll(),h=f.getDistance();if(h>=u)break;f.isLeaves()?(u=h,l=f):f.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],y=new We(p,d),m=new tn(this.getRoot(),y,g);return this.nearestNeighbour(m)[0]}},n.prototype.interfaces_=function(){return[Ze,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return sn},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[S]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[S]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(en),sn=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new H(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Je),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=un.relativeSign(e.x,n.x),i=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(r,i);case 1:return un.compareValue(i,r);case 2:return un.compareValue(i,-r);case 3:return un.compareValue(-r,i);case 4:return un.compareValue(-r,-i);case 5:return un.compareValue(-i,-r);case 6:return un.compareValue(-i,r);case 7:return un.compareValue(r,-i)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ln=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new E(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};ln.prototype.getCoordinate=function(){return this.coord},ln.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},ln.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},ln.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ln.prototype.isInterior=function(){return this._isInterior},ln.prototype.interfaces_=function(){return[w]},ln.prototype.getClass=function(){return ln};var cn=function(){this._nodeMap=new f,this._edge=null;var t=arguments[0];this._edge=t};cn.prototype.getSplitCoordinates=function(){var t=new Ot;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var t=new St;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new R(e+1))}},cn.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new E(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new E(e.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},cn.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new R(e[0])),r=i}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new E(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new E(e.coord)),new dn(o,this._edge.getData())},cn.prototype.add=function(t,e){var n=new ln(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(et.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+i)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var fn=function(){};fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof E&&arguments[1]instanceof E){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new v("Cannot compute the octant for two identical points "+i);return fn.octant(a,s)}};var hn=function(){};hn.prototype.getCoordinates=function(){},hn.prototype.size=function(){},hn.prototype.getCoordinate=function(t){},hn.prototype.isClosed=function(){},hn.prototype.setData=function(t){},hn.prototype.getData=function(){},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var pn=function(){};pn.prototype.addIntersection=function(t,e){},pn.prototype.interfaces_=function(){return[hn]},pn.prototype.getClass=function(){return pn};var dn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};dn.prototype.getCoordinates=function(){return this._pts},dn.prototype.size=function(){return this._pts.length},dn.prototype.getCoordinate=function(t){return this._pts[t]},dn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},dn.prototype.setData=function(t){this._data=t},dn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:fn.octant(t,e)},dn.prototype.getData=function(){return this._data},dn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new E(n.getIntersection(i));this.addIntersection(o,r)}},dn.prototype.toString=function(){return Q.toLineString(new ue(this._pts))},dn.prototype.getNodeList=function(){return this._nodeList},dn.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},dn.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},dn.prototype.interfaces_=function(){return[pn]},dn.prototype.getClass=function(){return dn},dn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new St;return dn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var gn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new E,this.p1=new E;else if(1===arguments.length){var t=arguments[0];this.p0=new E(t.p0),this.p1=new E(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new E(e,n),this.p1=new E(r,i)}},yn={serialVersionUID:{configurable:!0}};gn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},gn.prototype.orientationIndex=function(){if(arguments[0]instanceof gn){var t=arguments[0],e=st.orientationIndex(this.p0,this.p1,t.p0),n=st.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof E){var r=arguments[0];return st.orientationIndex(this.p0,this.p1,r)}},gn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},gn.prototype.isVertical=function(){return this.p0.x===this.p1.x},gn.prototype.equals=function(t){if(!(t instanceof gn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},gn.prototype.intersection=function(t){var e=new it;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},gn.prototype.project=function(){if(arguments[0]instanceof E){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new E(t);var e=this.projectionFactor(t),n=new E;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof gn){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new gn(a,s)}},gn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},gn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},gn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},gn.prototype.distancePerpendicular=function(t){return st.distancePointLinePerpendicular(t,this.p0,this.p1)},gn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},gn.prototype.midPoint=function(){return gn.midPoint(this.p0,this.p1)},gn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?_.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},gn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=_.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(i=a.distance(t.p1))<r&&(r=i,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},gn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},gn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},gn.prototype.getLength=function(){return this.p0.distance(this.p1)},gn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},gn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},gn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},gn.prototype.lineIntersection=function(t){try{return Y.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof q))throw t}return null},gn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},gn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*i/a,u=e*o/a}return new E(n-u,r+s)},gn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},gn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||_.isNaN(e))&&(e=1),e},gn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},gn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},gn.prototype.distance=function(){if(arguments[0]instanceof gn){var t=arguments[0];return st.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof E){var e=arguments[0];return st.distancePointLine(e,this.p0,this.p1)}},gn.prototype.pointAlong=function(t){var e=new E;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},gn.prototype.hashCode=function(){var t=_.doubleToLongBits(this.p0.x);t^=31*_.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=_.doubleToLongBits(this.p1.x);return n^=31*_.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},gn.prototype.interfaces_=function(){return[w,e]},gn.prototype.getClass=function(){return gn},gn.midPoint=function(t,e){return new E((t.x+e.x)/2,(t.y+e.y)/2)},yn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(gn,yn);var mn=function(){this.tempEnv1=new H,this.tempEnv2=new H,this._overlapSeg1=new gn,this._overlapSeg2=new gn};mn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};vn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},vn.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var a=Math.trunc((e+n)/2);e<a&&this.computeSelect(t,e,a,r),a<n&&this.computeSelect(t,a,n,r)},vn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},vn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},vn.prototype.setId=function(t){this._id=t},vn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},vn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new H(t,e)}return this._env},vn.prototype.getEndIndex=function(){return this._end},vn.prototype.getStartIndex=function(){return this._start},vn.prototype.getContext=function(){return this._context},vn.prototype.getId=function(){return this._id},vn.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var a=this._pts[t],s=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),f=Math.trunc((r+i)/2);t<c&&(r<f&&this.computeOverlapsInternal(t,c,n,r,f,o),f<i&&this.computeOverlapsInternal(t,c,n,f,i,o)),c<e&&(r<f&&this.computeOverlapsInternal(c,e,n,r,f,o),f<i&&this.computeOverlapsInternal(c,e,n,f,i,o))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var _n=function(){};_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.getChainStartIndices=function(t){var e=0,n=new St;n.add(new R(e));do{var r=_n.findChainEnd(t,e);n.add(new R(r)),e=r}while(e<t.length-1);return _n.toIntArray(n)},_n.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Ue.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||Ue.quadrant(t[i-1],t[i])===r);)i++;return i-1},_n.getChains=function(){if(1===arguments.length){var t=arguments[0];return _n.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new St,i=_n.getChainStartIndices(e),o=0;o<i.length-1;o++){var a=new vn(e,i[o],i[o+1],n);r.add(a)}return r}},_n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var bn=function(){};bn.prototype.computeNodes=function(t){},bn.prototype.getNodedSubstrings=function(){},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var wn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};wn.prototype.setSegmentIntersector=function(t){this._segInt=t},wn.prototype.interfaces_=function(){return[bn]},wn.prototype.getClass=function(){return wn};var xn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new St,this._index=new an,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=_n.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new Sn(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return Sn},Object.defineProperties(e,n),e}(wn),Sn=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),a=r.getContext();this._si.processIntersections(o,n,a,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mn),En=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},On={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};En.prototype.getEndCapStyle=function(){return this._endCapStyle},En.prototype.isSingleSided=function(){return this._isSingleSided},En.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=En.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=En.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==En.JOIN_ROUND&&(this._quadrantSegments=En.DEFAULT_QUADRANT_SEGMENTS)},En.prototype.getJoinStyle=function(){return this._joinStyle},En.prototype.setJoinStyle=function(t){this._joinStyle=t},En.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},En.prototype.getSimplifyFactor=function(){return this._simplifyFactor},En.prototype.getQuadrantSegments=function(){return this._quadrantSegments},En.prototype.setEndCapStyle=function(t){this._endCapStyle=t},En.prototype.getMitreLimit=function(){return this._mitreLimit},En.prototype.setMitreLimit=function(t){this._mitreLimit=t},En.prototype.setSingleSided=function(t){this._isSingleSided=t},En.prototype.interfaces_=function(){return[]},En.prototype.getClass=function(){return En},En.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},On.CAP_ROUND.get=function(){return 1},On.CAP_FLAT.get=function(){return 2},On.CAP_SQUARE.get=function(){return 3},On.JOIN_ROUND.get=function(){return 1},On.JOIN_MITRE.get=function(){return 2},On.JOIN_BEVEL.get=function(){return 3},On.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},On.DEFAULT_MITRE_LIMIT.get=function(){return 5},On.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(En,On);var Pn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=st.COUNTERCLOCKWISE,this._inputLine=t||null},Cn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Pn.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,t,n,r)},Pn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Pn.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Pn.prototype.isShallowConcavity=function(t,e,n,r){return st.computeOrientation(t,e,n)===this._angleOrientation&&st.distancePointLine(e,t,n)<r},Pn.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Pn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(t,e,this._inputLine[a],i))return!1;return!0},Pn.prototype.isConcave=function(t,e,n){return st.computeOrientation(t,e,n)===this._angleOrientation},Pn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=st.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Pn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Pn.DELETE;)e++;return e},Pn.prototype.isShallow=function(t,e,n,r){return st.distancePointLine(e,t,n)<r},Pn.prototype.collapseLine=function(){for(var t=new Ot,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Pn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Pn.prototype.interfaces_=function(){return[]},Pn.prototype.getClass=function(){return Pn},Pn.simplify=function(t,e){return new Pn(t).simplify(e)},Cn.INIT.get=function(){return 0},Cn.DELETE.get=function(){return 1},Cn.KEEP.get=function(){return 1},Cn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Pn,Cn);var Tn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new St},Nn={COORDINATE_ARRAY_TYPE:{configurable:!0}};Tn.prototype.getCoordinates=function(){return this._ptList.toArray(Tn.COORDINATE_ARRAY_TYPE)},Tn.prototype.setPrecisionModel=function(t){this._precisionModel=t},Tn.prototype.addPt=function(t){var e=new E(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Tn.prototype.revere=function(){},Tn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Tn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Tn.prototype.toString=function(){return(new me).createLineString(this.getCoordinates()).toString()},Tn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new E(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Tn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Nn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Tn,Nn);var In=function(){},Mn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};In.prototype.interfaces_=function(){return[]},In.prototype.getClass=function(){return In},In.toDegrees=function(t){return 180*t/Math.PI},In.normalize=function(t){for(;t>Math.PI;)t-=In.PI_TIMES_2;for(;t<=-Math.PI;)t+=In.PI_TIMES_2;return t},In.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},In.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},In.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},In.interiorAngle=function(t,e,n){var r=In.angle(e,t),i=In.angle(e,n);return Math.abs(i-r)},In.normalizePositive=function(t){if(t<0){for(;t<0;)t+=In.PI_TIMES_2;t>=In.PI_TIMES_2&&(t=0)}else{for(;t>=In.PI_TIMES_2;)t-=In.PI_TIMES_2;t<0&&(t=0)}return t},In.angleBetween=function(t,e,n){var r=In.angle(e,t),i=In.angle(e,n);return In.diff(r,i)},In.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},In.toRadians=function(t){return t*Math.PI/180},In.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?In.COUNTERCLOCKWISE:n<0?In.CLOCKWISE:In.NONE},In.angleBetweenOriented=function(t,e,n){var r=In.angle(e,t),i=In.angle(e,n)-r;return i<=-Math.PI?i+In.PI_TIMES_2:i>Math.PI?i-In.PI_TIMES_2:i},Mn.PI_TIMES_2.get=function(){return 2*Math.PI},Mn.PI_OVER_2.get=function(){return Math.PI/2},Mn.PI_OVER_4.get=function(){return Math.PI/4},Mn.COUNTERCLOCKWISE.get=function(){return st.COUNTERCLOCKWISE},Mn.CLOCKWISE.get=function(){return st.CLOCKWISE},Mn.NONE.get=function(){return st.COLLINEAR},Object.defineProperties(In,Mn);var An=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new gn,this._seg1=new gn,this._offset0=new gn,this._offset1=new gn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new it,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===En.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Ln={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};An.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=st.computeOrientation(this._s0,this._s1,this._s2),r=n===st.CLOCKWISE&&this._side===Oe.LEFT||n===st.COUNTERCLOCKWISE&&this._side===Oe.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},An.prototype.addLineEndCap=function(t,e){var n=new gn(t,e),r=new gn;this.computeOffsetSegment(n,Oe.LEFT,this._distance,r);var i=new gn;this.computeOffsetSegment(n,Oe.RIGHT,this._distance,i);var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case En.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,s+Math.PI/2,s-Math.PI/2,st.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case En.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case En.CAP_SQUARE:var u=new E;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var l=new E(r.p1.x+u.x,r.p1.y+u.y),c=new E(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},An.prototype.getCoordinates=function(){return this._segList.getCoordinates()},An.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Y.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof q))throw t;o=new E(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},An.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,a=e.y-t.y,s=Math.atan2(a,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===st.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,s,c,r,i),this._segList.addPt(n)},An.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*An.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===En.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===En.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},An.prototype.createSquare=function(t){this._segList.addPt(new E(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new E(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new E(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},An.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},An.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},An.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},An.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},An.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=In.angle(i,this._seg0.p0),a=In.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=In.normalize(o+a),u=In.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(a)),f=i.x+l*Math.cos(u),h=i.y+l*Math.sin(u),p=new E(f,h),d=new gn(i,p),g=d.pointAlongOffset(1,c),y=d.pointAlongOffset(1,-c);this._side===Oe.LEFT?(this._segList.addPt(g),this._segList.addPt(y)):(this._segList.addPt(y),this._segList.addPt(g))},An.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Oe.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},An.prototype.addFilletArc=function(t,e,n,r,i){var o=r===st.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new E;l<a;){var f=e+o*l;c.x=t.x+i*Math.cos(f),c.y=t.y+i*Math.sin(f),this._segList.addPt(c),l+=u}},An.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*An.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new E((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new E((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},An.prototype.createCircle=function(t){var e=new E(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},An.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},An.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Tn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*An.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},An.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===En.JOIN_BEVEL||this._bufParams.getJoinStyle()===En.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,st.CLOCKWISE,this._distance))},An.prototype.closeRing=function(){this._segList.closeRing()},An.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},Ln.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Ln.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Ln.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Ln.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(An,Ln);var Rn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Rn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Pt.reverse(o),o},Rn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Pn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Oe.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(t,!1);var s=Pn.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],Oe.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},Rn.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Oe.RIGHT&&(r=-r);var i=Pn.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},Rn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Pn.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Oe.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var a=Pn.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],Oe.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},Rn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case En.CAP_ROUND:e.createCircle(t);break;case En.CAP_SQUARE:e.createSquare(t)}},Rn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Rn.prototype.getBufferParameters=function(){return this._bufParams},Rn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Rn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Rn.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Rn.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Pn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Oe.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Pn.simplify(t,r),u=s.length-1;n.initSideSegments(s[0],s[1],Oe.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},Rn.prototype.getSegGen=function(t){return new An(this._precisionModel,this._bufParams,t)},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Rn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new E(t[n]);return e};var kn=function(){this._subgraphs=null,this._seg=new gn,this._cga=new st;var t=arguments[0];this._subgraphs=t},Fn={DepthSegment:{configurable:!0}};kn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new St,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(I(arguments[2],xt)&&arguments[0]instanceof E&&arguments[1]instanceof Be){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||st.computeOrientation(this._seg.p0,this._seg.p1,o)===st.RIGHT)){var c=a.getDepth(Oe.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(Oe.RIGHT));var f=new jn(this._seg,c);s.add(f)}}else if(I(arguments[2],xt)&&arguments[0]instanceof E&&I(arguments[1],xt))for(var h=arguments[0],p=arguments[1],d=arguments[2],g=p.iterator();g.hasNext();){var y=g.next();y.isForward()&&this.findStabbedSegments(h,y,d)}},kn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},Fn.DepthSegment.get=function(){return jn},Object.defineProperties(kn,Fn);var jn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new gn(t),this._leftDepth=e};jn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},jn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},jn.prototype.toString=function(){return this._upwardSeg.toString()},jn.prototype.interfaces_=function(){return[w]},jn.prototype.getClass=function(){return jn};var Dn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Dn.prototype.area=function(){return Dn.area(this.p0,this.p1,this.p2)},Dn.prototype.signedArea=function(){return Dn.signedArea(this.p0,this.p1,this.p2)},Dn.prototype.interpolateZ=function(t){if(null===t)throw new v("Supplied point is null.");return Dn.interpolateZ(t,this.p0,this.p1,this.p2)},Dn.prototype.longestSideLength=function(){return Dn.longestSideLength(this.p0,this.p1,this.p2)},Dn.prototype.isAcute=function(){return Dn.isAcute(this.p0,this.p1,this.p2)},Dn.prototype.circumcentre=function(){return Dn.circumcentre(this.p0,this.p1,this.p2)},Dn.prototype.area3D=function(){return Dn.area3D(this.p0,this.p1,this.p2)},Dn.prototype.centroid=function(){return Dn.centroid(this.p0,this.p1,this.p2)},Dn.prototype.inCentre=function(){return Dn.inCentre(this.p0,this.p1,this.p2)},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Dn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Dn.det=function(t,e,n,r){return t*r-e*n},Dn.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,f=t.x-i,h=t.y-o,p=(l*f-s*h)/c,d=(-u*f+a*h)/c;return e.z+p*(n.z-e.z)+d*(r.z-e.z)},Dn.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),a=r;return i>a&&(a=i),o>a&&(a=o),a},Dn.isAcute=function(t,e,n){return!!In.isAcute(t,e,n)&&!!In.isAcute(e,n,t)&&!!In.isAcute(n,t,e)},Dn.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,a=t.y-i,s=e.x-r,u=e.y-i,l=2*Dn.det(o,a,s,u),c=Dn.det(a,o*o+a*a,u,s*s+u*u),f=Dn.det(o,o*o+a*a,s,s*s+u*u);return new E(r-c/l,i+f/l)},Dn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Y(t.x+n/2,t.y+r/2,1),o=new Y(t.x-r+n/2,t.y+n+r/2,1);return new Y(i,o)},Dn.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,a=n.y-t.y;return new E(t.x+i*o,t.y+i*a)},Dn.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,h=l*l+c*c+f*f;return Math.sqrt(h)/2},Dn.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new E(r,i)},Dn.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),a=r+i+o,s=(r*t.x+i*e.x+o*n.x)/a,u=(r*t.y+i*e.y+o*n.y)/a;return new E(s,u)};var Un=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new St;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Un.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},Un.prototype.addPolygon=function(t){var e=this._distance,n=Oe.LEFT;this._distance<0&&(e=-this._distance,n=Oe.RIGHT);var r=t.getExteriorRing(),i=Pt.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,T.EXTERIOR,T.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=Pt.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,Oe.opposite(n),T.INTERIOR,T.EXTERIOR)}},Un.prototype.isTriangleErodedCompletely=function(t,e){var n=new Dn(t[0],t[1],t[2]),r=n.inCentre();return st.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Un.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Pt.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},Un.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new dn(t,new Ae(0,T.BOUNDARY,e,n));this._curveList.add(r)},Un.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Un.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=r,a=i;t.length>=ee.MINIMUM_VALID_SIZE&&st.isCCW(t)&&(o=i,a=r,n=Oe.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},Un.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Kt?this.addLineString(t):t instanceof Jt?this.addPoint(t):t instanceof te?this.addCollection(t):t instanceof qt?this.addCollection(t):t instanceof ne?this.addCollection(t):t instanceof Bt&&this.addCollection(t)},Un.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Un.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var Gn=function(){};Gn.prototype.locate=function(t){},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn};var zn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};zn.prototype.next=function(){if(this._atStart)return this._atStart=!1,zn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var t=this._parent.getGeometryN(this._index++);return t instanceof Bt?(this._subcollectionIterator=new zn(t),this._subcollectionIterator.next()):t},zn.prototype.remove=function(){throw new Error(this.getClass().getName())},zn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},zn.prototype.interfaces_=function(){return[wt]},zn.prototype.getClass=function(){return zn},zn.isAtomic=function(t){return!(t instanceof Bt)};var Bn=function(){this._geom=null;var t=arguments[0];this._geom=t};Bn.prototype.locate=function(t){return Bn.locate(t,this._geom)},Bn.prototype.interfaces_=function(){return[Gn]},Bn.prototype.getClass=function(){return Bn},Bn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&st.isPointInRing(t,e.getCoordinates())},Bn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Bn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Bn.isPointInRing(t,i))return!1}return!0},Bn.containsPoint=function(t,e){if(e instanceof $t)return Bn.containsPointInPolygon(t,e);if(e instanceof Bt)for(var n=new zn(e);n.hasNext();){var r=n.next();if(r!==e&&Bn.containsPoint(t,r))return!0}return!1},Bn.locate=function(t,e){return e.isEmpty()?T.EXTERIOR:Bn.containsPoint(t,e)?T.INTERIOR:T.EXTERIOR};var qn=function(){this._edgeMap=new f,this._edgeList=null,this._ptInAreaLocation=[T.NONE,T.NONE]};qn.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},qn.prototype.propagateSideLabels=function(t){for(var e=T.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Oe.LEFT)!==T.NONE&&(e=r.getLocation(t,Oe.LEFT))}if(e===T.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,Oe.ON)===T.NONE&&s.setLocation(t,Oe.ON,i),s.isArea(t)){var u=s.getLocation(t,Oe.LEFT),l=s.getLocation(t,Oe.RIGHT);if(l!==T.NONE){if(l!==i)throw new Te("side location conflict",a.getCoordinate());u===T.NONE&&et.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=u}else et.isTrue(s.getLocation(t,Oe.LEFT)===T.NONE,"found single null side"),s.setLocation(t,Oe.RIGHT,i),s.setLocation(t,Oe.LEFT,i)}}},qn.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},qn.prototype.print=function(t){V.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},qn.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},qn.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Oe.LEFT);et.isTrue(r!==T.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();et.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,Oe.LEFT),u=a.getLocation(t,Oe.RIGHT);if(s===u)return!1;if(u!==i)return!1;i=s}return!0},qn.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},qn.prototype.iterator=function(){return this.getEdges().iterator()},qn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new St(this._edgeMap.values())),this._edgeList},qn.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===T.NONE&&(this._ptInAreaLocation[t]=Bn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},qn.prototype.toString=function(){var t=new L;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},qn.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},qn.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===T.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=T.NONE;if(e[u])l=T.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,t)}s.setAllLocationsIfNull(u,l)}},qn.prototype.getDegree=function(){return this._edgeMap.size()},qn.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn};var Vn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Te("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Ue.isNorthern(i)&&Ue.isNorthern(o)?n:Ue.isNorthern(i)||Ue.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){V.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new St;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Oe.LEFT),r=t.getDepth(Oe.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Te("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=o;u<a;u++){var l=this._edgeList.get(u);l.setEdgeDepths(Oe.RIGHT,s),s=l.getDepth(Oe.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=T.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=T.INTERIOR;break}if(r.isInResult()){t=T.EXTERIOR;break}}}if(t===T.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===T.INTERIOR):(a.isInResult()&&(i=T.EXTERIOR),s.isInResult()&&(i=T.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Ae(T.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==T.INTERIOR&&o!==T.BOUNDARY||this._label.setLocation(i,T.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qn),Yn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new je(t,new Vn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qe),Hn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Hn.prototype.compareTo=function(t){var e=t;return Hn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Hn.prototype.interfaces_=function(){return[w]},Hn.prototype.getClass=function(){return Hn},Hn.orientation=function(t){return 1===Pt.increasingDirection(t)},Hn.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,a=e?t.length:-1,s=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var f=(u+=i)===a,h=(l+=o)===s;if(f&&!h)return-1;if(!f&&h)return 1;if(f&&h)return 0}};var Wn=function(){this._edges=new St,this._ocaMap=new f};Wn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Wn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Wn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Wn.prototype.iterator=function(){return this._edges.iterator()},Wn.prototype.getEdges=function(){return this._edges},Wn.prototype.get=function(t){return this._edges.get(t)},Wn.prototype.findEqualEdge=function(t){var e=new Hn(t.getCoordinates());return this._ocaMap.get(e)},Wn.prototype.add=function(t){this._edges.add(t);var e=new Hn(t.getCoordinates());this._ocaMap.put(e,t)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Xn=function(){};Xn.prototype.processIntersections=function(t,e,n,r){},Xn.prototype.isDone=function(){},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Kn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Kn.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Kn.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Kn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Kn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Kn.prototype.getLineIntersector=function(){return this._li},Kn.prototype.hasProperIntersection=function(){return this._hasProper},Kn.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Kn.prototype.hasIntersection=function(){return this._hasIntersection},Kn.prototype.isDone=function(){return!1},Kn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Kn.prototype.interfaces_=function(){return[Xn]},Kn.prototype.getClass=function(){return Kn},Kn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Zn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new E(t),this.segmentIndex=e,this.dist=n};Zn.prototype.getSegmentIndex=function(){return this.segmentIndex},Zn.prototype.getCoordinate=function(){return this.coord},Zn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Zn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Zn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Zn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Zn.prototype.getDistance=function(){return this.dist},Zn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Zn.prototype.interfaces_=function(){return[w]},Zn.prototype.getClass=function(){return Zn};var Jn=function(){this._nodeMap=new f,this.edge=null;var t=arguments[0];this.edge=t};Jn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Jn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Jn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Jn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Jn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new E(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=e.coord),new nr(o,new Ae(this.edge._label))},Jn.prototype.add=function(t,e,n){var r=new Zn(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Jn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var Qn=function(){};Qn.prototype.getChainStartIndices=function(t){var e=0,n=new St;n.add(new R(e));do{var r=this.findChainEnd(t,e);n.add(new R(r)),e=r}while(e<t.length-1);return Qn.toIntArray(n)},Qn.prototype.findChainEnd=function(t,e){for(var n=Ue.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&Ue.quadrant(t[r-1],t[r])===n;)r++;return r-1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new H,this.env2=new H;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Qn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],f=this.pts[o],h=a.pts[s],p=a.pts[u];if(o-i==1&&u-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,f),this.env2.init(h,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),g=Math.trunc((s+u)/2);i<d&&(s<g&&this.computeIntersectsForChain(i,d,a,s,g,l),g<u&&this.computeIntersectsForChain(i,d,a,g,u,l)),d<o&&(s<g&&this.computeIntersectsForChain(d,o,a,s,g,l),g<u&&this.computeIntersectsForChain(d,o,a,g,u,l))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var tr=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},er={NULL_VALUE:{configurable:!0}};tr.prototype.getDepth=function(t,e){return this._depth[t][e]},tr.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},tr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==tr.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===tr.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===tr.NULL_VALUE}},tr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},tr.prototype.getDelta=function(t){return this._depth[t][Oe.RIGHT]-this._depth[t][Oe.LEFT]},tr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?T.EXTERIOR:T.INTERIOR},tr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},tr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==T.EXTERIOR&&r!==T.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=tr.depthAtLocation(r):this._depth[e][n]+=tr.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===T.INTERIOR&&this._depth[i][o]++}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.depthAtLocation=function(t){return t===T.EXTERIOR?0:t===T.INTERIOR?1:tr.NULL_VALUE},er.NULL_VALUE.get=function(){return-1},Object.defineProperties(tr,er);var nr=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Jn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new tr,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Ae.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new H;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new E(t.getIntersection(r)),o=e,a=t.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)},e.prototype.toString=function(){var t=new L;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Oe.ON),e.getLocation(1,Oe.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Oe.LEFT),e.getLocation(1,Oe.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Oe.RIGHT),e.getLocation(1,Oe.RIGHT),2))},e}(Fe),rr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Wn,this._bufParams=t||null};rr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Ae(t.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(rr.depthDelta(t.getLabel()))},rr.prototype.buildSubgraphs=function(t,e){for(var n=new St,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new kn(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(t){for(var e=new St,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Ie;i.create(r),e.add(i)}}return $e.sort(e,$e.reverseOrder()),e},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new xn,n=new it;return n.setPrecisionModel(t),e.setSegmentIntersector(new Kn(n)),e},rr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Rn(n,this._bufParams),i=new Un(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Ve(new Yn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new Ye(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},rr.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new nr(i.getCoordinates(),new Ae(a));this.insertUniqueEdge(s)}}},rr.prototype.setNoder=function(t){this._workingNoder=t},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(t){var e=t.getLocation(0,Oe.LEFT),n=t.getLocation(0,Oe.RIGHT);return e===T.INTERIOR&&n===T.EXTERIOR?1:e===T.EXTERIOR&&n===T.INTERIOR?-1:0},rr.convertSegStrings=function(t){for(var e=new me,n=new St;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(I(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&V.out.println(n)}},ir.prototype.scale=function(){if(I(arguments[0],bt)){for(var t=arguments[0],e=new St,n=t.iterator();n.hasNext();){var r=n.next();e.add(new dn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new E(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return Pt.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ir.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ir.prototype.interfaces_=function(){return[bn]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new it,this._segStrings=null;var t=arguments[0];this._segStrings=t},ar={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],p=arguments[3];if(c===h&&f===p)return null;var d=c.getCoordinates()[f],g=c.getCoordinates()[f+1],y=h.getCoordinates()[p],m=h.getCoordinates()[p+1];if(this._li.computeIntersection(d,g,y,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,y,m)))throw new $("found non-noded intersection at "+d+"-"+g+" and "+y+"-"+m)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+or.fact.createLineString([t,e,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},ar.fact.get=function(){return new me},Object.defineProperties(or,ar);var sr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new v("Scale factor must be non-zero");1!==e&&(this._pt=new E(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new E,this._p1Scaled=new E),this.initCorners(this._pt)},ur={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sr.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return et.isTrue(!(a&&s),"Found bad envelope test"),s},sr.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new E(this._maxx,this._maxy),this._corner[1]=new E(this._minx,this._maxy),this._corner[2]=new E(this._minx,this._miny),this._corner[3]=new E(this._maxx,this._miny)},sr.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sr.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},sr.prototype.getCoordinate=function(){return this._originalPt},sr.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},sr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=sr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new H(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},sr.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},sr.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},sr.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},ur.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sr,ur);var lr=function(){this.tempEnv1=new H,this.selectedSegment=new gn};lr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var cr=function(){this._index=null;var t=arguments[0];this._index=t},fr={HotPixelSnapAction:{configurable:!0}};cr.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new hr(e,n,r);return this._index.query(i,{interfaces_:function(){return[Ke]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},fr.HotPixelSnapAction.get=function(){return hr},Object.defineProperties(cr,fr);var hr=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lr),pr=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new St};pr.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},pr.prototype.isDone=function(){return!1},pr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pr.prototype.interfaces_=function(){return[Xn]},pr.prototype.getClass=function(){return pr};var dr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new it,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};dr.prototype.checkCorrectness=function(t){var e=dn.getNodedSubstrings(t),n=new or(e);try{n.checkValid()}catch(t){if(!(t instanceof B))throw t;t.printStackTrace()}},dr.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},dr.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},dr.prototype.findInteriorIntersections=function(t,e){var n=new pr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},dr.prototype.computeVertexSnaps=function(){if(I(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof dn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new sr(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},dr.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new xn,this._pointSnapper=new cr(this._noder.getIndex()),this.snapRound(t,this._li)},dr.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new sr(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},dr.prototype.interfaces_=function(){return[bn]},dr.prototype.getClass=function(){return dr};var gr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new En,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},yr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gr.prototype.bufferFixedPrecision=function(t){var e=new ir(new dr(new pe(1)),t.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},gr.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=gr.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Te))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=gr.precisionScaleFactor(this._argGeom,this._distance,n),i=new pe(r);this.bufferFixedPrecision(i)}},gr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===pe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},gr.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},gr.prototype.bufferOriginalPrecision=function(){try{var t=new rr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},gr.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},gr.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},gr.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new gr(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new gr(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof En&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=arguments[2];return new gr(a,u).getResultGeometry(s)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],f=arguments[2],h=arguments[3],p=new gr(l);return p.setQuadrantSegments(f),p.setEndCapStyle(h),p.getResultGeometry(c)}},gr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=M.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},yr.CAP_ROUND.get=function(){return En.CAP_ROUND},yr.CAP_BUTT.get=function(){return En.CAP_FLAT},yr.CAP_FLAT.get=function(){return En.CAP_FLAT},yr.CAP_SQUARE.get=function(){return En.CAP_SQUARE},yr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gr,yr);var mr=function(){this._pt=[new E,new E],this._distance=_.NaN,this._isNull=!0};mr.prototype.getCoordinates=function(){return this._pt},mr.prototype.getCoordinate=function(t){return this._pt[t]},mr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},mr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},mr.prototype.getDistance=function(){return this._distance},mr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var vr=function(){};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.computeDistance=function(){if(arguments[2]instanceof mr&&arguments[0]instanceof Kt&&arguments[1]instanceof E)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new gn,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof mr&&arguments[0]instanceof $t&&arguments[1]instanceof E){var s=arguments[0],u=arguments[1],l=arguments[2];vr.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)vr.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof mr&&arguments[0]instanceof ct&&arguments[1]instanceof E){var f=arguments[0],h=arguments[1],p=arguments[2];if(f instanceof Kt)vr.computeDistance(f,h,p);else if(f instanceof $t)vr.computeDistance(f,h,p);else if(f instanceof Bt)for(var d=f,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);vr.computeDistance(y,h,p)}else p.setMinimum(f.getCoordinate(),h)}else if(arguments[2]instanceof mr&&arguments[0]instanceof gn&&arguments[1]instanceof E){var m=arguments[0],v=arguments[1],_=arguments[2],b=m.closestPoint(v);_.setMinimum(b,v)}};var _r=function(t){this._maxPtDist=new mr,this._inputGeom=t||null},br={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};_r.prototype.computeMaxMidpointDistance=function(t){var e=new xr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},_r.prototype.computeMaxVertexDistance=function(t){var e=new wr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},_r.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},_r.prototype.getDistancePoints=function(){return this._maxPtDist},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},br.MaxPointDistanceFilter.get=function(){return wr},br.MaxMidpointDistanceFilter.get=function(){return xr},Object.defineProperties(_r,br);var wr=function(t){this._maxPtDist=new mr,this._minPtDist=new mr,this._geom=t||null};wr.prototype.filter=function(t){this._minPtDist.initialize(),vr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[pt]},wr.prototype.getClass=function(){return wr};var xr=function(t){this._maxPtDist=new mr,this._minPtDist=new mr,this._geom=t||null};xr.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new E((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),vr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xr.prototype.isDone=function(){return!1},xr.prototype.isGeometryChanged=function(){return!1},xr.prototype.getMaxPointDistance=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[zt]},xr.prototype.getClass=function(){return xr};var Sr=function(t){this._comps=t||null};Sr.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},Sr.prototype.interfaces_=function(){return[Gt]},Sr.prototype.getClass=function(){return Sr},Sr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Sr.getPolygons(t,new St)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof Bt&&e.apply(new Sr(n)),n}};var Er=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Er.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Kt&&this._lines.add(t)},Er.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Er.prototype.interfaces_=function(){return[lt]},Er.prototype.getClass=function(){return Er},Er.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Er.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Er.getLines(e,n))}},Er.getLines=function(){if(1===arguments.length){var t=arguments[0];return Er.getLines(t,!1)}if(2===arguments.length){if(I(arguments[0],bt)&&I(arguments[1],bt)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();Er.getLines(i,n)}return n}if(arguments[0]instanceof ct&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1],s=new St;return o.apply(new Er(s,a)),s}if(arguments[0]instanceof ct&&I(arguments[1],bt)){var u=arguments[0],l=arguments[1];return u instanceof Kt?l.add(u):u.apply(new Er(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&I(arguments[0],bt)&&I(arguments[1],bt)){for(var c=arguments[0],f=arguments[1],h=arguments[2],p=c.iterator();p.hasNext();){var d=p.next();Er.getLines(d,f,h)}return f}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ct&&I(arguments[1],bt)){var g=arguments[0],y=arguments[1],m=arguments[2];return g.apply(new Er(y,m)),y}}};var Or=function(){if(this._boundaryRule=dt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new v("Rule must be non-null");this._boundaryRule=t}};Or.prototype.locateInternal=function(){if(arguments[0]instanceof E&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return T.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===T.EXTERIOR)return T.EXTERIOR;if(r===T.BOUNDARY)return T.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),a=this.locateInPolygonRing(t,o);if(a===T.INTERIOR)return T.EXTERIOR;if(a===T.BOUNDARY)return T.BOUNDARY}return T.INTERIOR}if(arguments[0]instanceof E&&arguments[1]instanceof Kt){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return T.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?st.isOnLine(s,l)?T.INTERIOR:T.EXTERIOR:T.BOUNDARY}if(arguments[0]instanceof E&&arguments[1]instanceof Jt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?T.INTERIOR:T.EXTERIOR}},Or.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?st.locatePointInRing(t,e.getCoordinates()):T.EXTERIOR},Or.prototype.intersects=function(t,e){return this.locate(t,e)!==T.EXTERIOR},Or.prototype.updateLocationInfo=function(t){t===T.INTERIOR&&(this._isIn=!0),t===T.BOUNDARY&&this._numBoundaries++},Or.prototype.computeLocation=function(t,e){if(e instanceof Jt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof qt)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof ne)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof Bt)for(var u=new zn(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},Or.prototype.locate=function(t,e){return e.isEmpty()?T.EXTERIOR:e instanceof Kt?this.locateInternal(t,e):e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?T.BOUNDARY:this._numBoundaries>0||this._isIn?T.INTERIOR:T.EXTERIOR)},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or};var Pr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Cr={INSIDE_AREA:{configurable:!0}};Pr.prototype.isInsideArea=function(){return this._segIndex===Pr.INSIDE_AREA},Pr.prototype.getCoordinate=function(){return this._pt},Pr.prototype.getGeometryComponent=function(){return this._component},Pr.prototype.getSegmentIndex=function(){return this._segIndex},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},Cr.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Pr,Cr);var Tr=function(t){this._pts=t||null};Tr.prototype.filter=function(t){t instanceof Jt&&this._pts.add(t)},Tr.prototype.interfaces_=function(){return[Gt]},Tr.prototype.getClass=function(){return Tr},Tr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Jt?$e.singletonList(t):Tr.getPoints(t,new St)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Jt?n.add(e):e instanceof Bt&&e.apply(new Tr(n)),n}};var Nr=function(){this._locations=null;var t=arguments[0];this._locations=t};Nr.prototype.filter=function(t){(t instanceof Jt||t instanceof Kt||t instanceof $t)&&this._locations.add(new Pr(t,0,t.getCoordinate()))},Nr.prototype.interfaces_=function(){return[Gt]},Nr.prototype.getClass=function(){return Nr},Nr.getLocations=function(t){var e=new St;return t.apply(new Nr(e)),e};var Ir=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Or,this._minDistanceLocation=null,this._minDistance=_.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Ir.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Sr.getPolygons(this._geom[e]);if(i.size()>0){var o=Nr.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&I(arguments[0],xt)&&I(arguments[1],xt)){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=0;l<a.size();l++)for(var c=a.get(l),f=0;f<s.size();f++)if(this.computeContainmentDistance(c,s.get(f),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Pr&&arguments[1]instanceof $t){var h=arguments[0],p=arguments[1],d=arguments[2],g=h.getCoordinate();if(T.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,d[0]=h,d[1]=new Pr(p,g),null}},Ir.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Ir.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Er.getLines(this._geom[0]),n=Er.getLines(this._geom[1]),r=Tr.getPoints(this._geom[0]),i=Tr.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Ir.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Ir.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Ir.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Ir.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Jt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var a=st.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new gn(r[o],r[o+1]).closestPoint(i);n[0]=new Pr(t,o,s),n[1]=new Pr(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Kt&&arguments[1]instanceof Kt){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var f=u.getCoordinates(),h=l.getCoordinates(),p=0;p<f.length-1;p++)for(var d=0;d<h.length-1;d++){var g=st.distanceLineLine(f[p],f[p+1],h[d],h[d+1]);if(g<this._minDistance){this._minDistance=g;var y=new gn(f[p],f[p+1]),m=new gn(h[d],h[d+1]),v=y.closestPoints(m);c[0]=new Pr(u,p,v[0]),c[1]=new Pr(l,d,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Ir.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Pr(i,0,i.getCoordinate()),n[1]=new Pr(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Ir.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new v("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Ir.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Ir.prototype.interfaces_=function(){return[]},Ir.prototype.getClass=function(){return Ir},Ir.distance=function(t,e){return new Ir(t,e).distance()},Ir.isWithinDistance=function(t,e,n){return new Ir(t,e,n).distance()<=n},Ir.nearestPoints=function(t,e){return new Ir(t,e).nearestPoints()};var Mr=function(){this._pt=[new E,new E],this._distance=_.NaN,this._isNull=!0};Mr.prototype.getCoordinates=function(){return this._pt},Mr.prototype.getCoordinate=function(t){return this._pt[t]},Mr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Mr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Mr.prototype.toString=function(){return Q.toLineString(this._pt[0],this._pt[1])},Mr.prototype.getDistance=function(){return this._distance},Mr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr};var Ar=function(){};Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.computeDistance=function(){if(arguments[2]instanceof Mr&&arguments[0]instanceof Kt&&arguments[1]instanceof E)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new gn,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof $t&&arguments[1]instanceof E){var s=arguments[0],u=arguments[1],l=arguments[2];Ar.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)Ar.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof ct&&arguments[1]instanceof E){var f=arguments[0],h=arguments[1],p=arguments[2];if(f instanceof Kt)Ar.computeDistance(f,h,p);else if(f instanceof $t)Ar.computeDistance(f,h,p);else if(f instanceof Bt)for(var d=f,g=0;g<d.getNumGeometries();g++){var y=d.getGeometryN(g);Ar.computeDistance(y,h,p)}else p.setMinimum(f.getCoordinate(),h)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof gn&&arguments[1]instanceof E){var m=arguments[0],v=arguments[1],_=arguments[2],b=m.closestPoint(v);_.setMinimum(b,v)}};var Lr=function(){this._g0=null,this._g1=null,this._ptDist=new Mr,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Rr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Lr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Lr.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new v("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Lr.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Lr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Lr.prototype.computeOrientedDistance=function(t,e,n){var r=new kr(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Fr(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Lr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Lr(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new Lr(n,r);return o.setDensifyFraction(i),o.distance()}},Rr.MaxPointDistanceFilter.get=function(){return kr},Rr.MaxDensifiedByFractionDistanceFilter.get=function(){return Fr},Object.defineProperties(Lr,Rr);var kr=function(){this._maxPtDist=new Mr,this._minPtDist=new Mr,this._euclideanDist=new Ar,this._geom=null;var t=arguments[0];this._geom=t};kr.prototype.filter=function(t){this._minPtDist.initialize(),Ar.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},kr.prototype.getMaxPointDistance=function(){return this._maxPtDist},kr.prototype.interfaces_=function(){return[pt]},kr.prototype.getClass=function(){return kr};var Fr=function(){this._maxPtDist=new Mr,this._minPtDist=new Mr,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Fr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,u=n.y+a*o,l=new E(s,u);this._minPtDist.initialize(),Ar.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Fr.prototype.isDone=function(){return!1},Fr.prototype.isGeometryChanged=function(){return!1},Fr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Fr.prototype.interfaces_=function(){return[zt]},Fr.prototype.getClass=function(){return Fr};var jr=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Dr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};jr.prototype.checkMaximumDistance=function(t,e,n){var r=new Lr(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Q.toLineString(i[0],i[1])+")"}},jr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=jr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),jr.VERBOSE&&V.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},jr.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof Bt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},jr.prototype.getErrorIndicator=function(){return this._errorIndicator},jr.prototype.checkMinimumDistance=function(t,e,n){var r=new Ir(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Q.toLineString(i[0],i[1])+" )"}},jr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},jr.prototype.getErrorLocation=function(){return this._errorLocation},jr.prototype.getPolygonLines=function(t){for(var e=new St,n=new Er(e),r=Sr.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},jr.prototype.getErrorMessage=function(){return this._errMsg},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr},Dr.VERBOSE.get=function(){return!1},Dr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(jr,Dr);var Ur=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Gr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Ur.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Ur.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Ur.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new H(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new H(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Ur.prototype.checkDistance=function(){var t=new jr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Ur.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Ur.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Ur.prototype.getErrorIndicator=function(){return this._errorIndicator},Ur.prototype.getErrorLocation=function(){return this._errorLocation},Ur.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Ur.prototype.report=function(t){if(!Ur.VERBOSE)return null;V.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Ur.prototype.getErrorMessage=function(){return this._errorMsg},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.isValidMsg=function(t,e,n){var r=new Ur(t,e,n);return r.isValid()?null:r.getErrorMessage()},Ur.isValid=function(t,e,n){return!!new Ur(t,e,n).isValid()},Gr.VERBOSE.get=function(){return!1},Gr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Ur,Gr);var zr=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};zr.prototype.getCoordinates=function(){return this._pts},zr.prototype.size=function(){return this._pts.length},zr.prototype.getCoordinate=function(t){return this._pts[t]},zr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},zr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:fn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},zr.prototype.setData=function(t){this._data=t},zr.prototype.getData=function(){return this._data},zr.prototype.toString=function(){return Q.toLineString(new ue(this._pts))},zr.prototype.interfaces_=function(){return[hn]},zr.prototype.getClass=function(){return zr};var Br=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new St,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Br.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Br.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Br.prototype.getIntersectionSegments=function(){return this._intSegments},Br.prototype.count=function(){return this._intersectionCount},Br.prototype.getIntersections=function(){return this._intersections},Br.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Br.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Br.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Br.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Br.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Br.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Br.prototype.interfaces_=function(){return[Xn]},Br.prototype.getClass=function(){return Br},Br.createAllIntersectionsFinder=function(t){var e=new Br(t);return e.setFindAllIntersections(!0),e},Br.createAnyIntersectionFinder=function(t){return new Br(t)},Br.createIntersectionCounter=function(t){var e=new Br(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var qr=function(){this._li=new it,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};qr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},qr.prototype.getIntersections=function(){return this._segInt.getIntersections()},qr.prototype.isValid=function(){return this.execute(),this._isValid},qr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},qr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Br(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new xn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},qr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Te(this.getErrorMessage(),this._segInt.getInteriorIntersection())},qr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Q.toLineString(t[0],t[1])+" and "+Q.toLineString(t[2],t[3])},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},qr.computeIntersections=function(t){var e=new qr(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Vr=function t(){this._nv=null;var e=arguments[0];this._nv=new qr(t.toSegmentStrings(e))};Vr.prototype.checkValid=function(){this._nv.checkValid()},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.toSegmentStrings=function(t){for(var e=new St,n=t.iterator();n.hasNext();){var r=n.next();e.add(new zr(r.getCoordinates(),r))}return e},Vr.checkValid=function(t){new Vr(t).checkValid()};var Yr=function(t){this._mapOp=t};Yr.prototype.map=function(t){for(var e=new St,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(me.toGeometryArray(e))},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.map=function(t,e){return new Yr(e).map(t)};var Hr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new St,this._resultLineList=new St;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Hr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Hr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Hr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Hr.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Pi.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Hr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Hr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Hr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Hr.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Pi.isResultOfOp(r,e)&&e===Pi.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr};var Wr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new St;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Wr.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Wr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Pi.INTERSECTION)){var r=n.getLabel();Pi.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Wr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr};var Xr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Xr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Xr.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ee&&!r.isEmpty()||(n=!1);for(var i=new St,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof ee||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new St;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Xr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Xr.prototype.getInputGeometry=function(){return this._inputGeom},Xr.prototype.transformMultiLineString=function(t,e){for(var n=new St,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.transformCoordinates=function(t,e){return this.copy(t)},Xr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Xr.prototype.transformMultiPoint=function(t,e){for(var n=new St,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.transformMultiPolygon=function(t,e){for(var n=new St,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.copy=function(t){return t.copy()},Xr.prototype.transformGeometryCollection=function(t,e){for(var n=new St,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(me.toGeometryArray(n)):this._factory.buildGeometry(n)},Xr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Jt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Kt)return this.transformLineString(t,null);if(t instanceof qt)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof Bt)return this.transformGeometryCollection(t,null);throw new v("Unknown Geometry subtype: "+t.getClass().getName())},Xr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Kr=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new gn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Kt&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Kr.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new E(o)),0===r&&this._isClosed&&t.set(t.size()-1,new E(o)))}},Kr.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Kr.prototype.snapTo=function(t){var e=new Ot(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Kr.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new E(i),!1)}},Kr.prototype.findSegmentIndexToSnap=function(t,e){for(var n=_.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Kr.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Zr=function(t){this._srcGeom=t||null},Jr={SNAP_PRECISION_FACTOR:{configurable:!0}};Zr.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Qr(e,n).transform(this._srcGeom)},Zr.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Qr(t,n,!0).transform(this._srcGeom),i=r;return e&&I(i,Qt)&&(i=r.buffer(0)),i},Zr.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Zr.prototype.extractTargetCoordinates=function(t){for(var e=new p,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Zr.prototype.computeMinimumSegmentLength=function(t){for(var e=_.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Zr.prototype.interfaces_=function(){return[]},Zr.prototype.getClass=function(){return Zr},Zr.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Zr(t);r[0]=i.snapTo(e,n);var o=new Zr(e);return r[1]=o.snapTo(r[0],n),r},Zr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Zr.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===pe.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Zr.computeOverlaySnapTolerance(i),Zr.computeOverlaySnapTolerance(o))}},Zr.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Zr.SNAP_PRECISION_FACTOR},Zr.snapToSelf=function(t,e,n){return new Zr(t).snapToSelf(e,n)},Jr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Zr,Jr);var Qr=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Kr(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xr),$r=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$r.prototype.getCommon=function(){return _.longBitsToDouble(this._commonBits)},$r.prototype.add=function(t){var e=_.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$r.signExpBits(this._commonBits),this._isFirst=!1,null):$r.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$r.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$r.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=_.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+_.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$r.signExpBits=function(t){return t>>52},$r.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$r.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if($r.getBit(t,r)!==$r.getBit(e,r))return n;n++}return 52};var ti=function(){this._commonCoord=null,this._ccFilter=new ni},ei={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ti.prototype.addCommonBits=function(t){var e=new ri(this._commonCoord);t.apply(e),t.geometryChanged()},ti.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new E(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ri(e);return t.apply(n),t.geometryChanged(),t},ti.prototype.getCommonCoordinate=function(){return this._commonCoord},ti.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ei.CommonCoordinateFilter.get=function(){return ni},ei.Translater.get=function(){return ri},Object.defineProperties(ti,ei);var ni=function(){this._commonBitsX=new $r,this._commonBitsY=new $r};ni.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ni.prototype.getCommonCoordinate=function(){return new E(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[pt]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var t=arguments[0];this.trans=t};ri.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[zt]},ri.prototype.getClass=function(){return ri};var ii=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ii.prototype.selfSnap=function(t){return new Zr(t).snapTo(t,this._snapTolerance)},ii.prototype.removeCommonBits=function(t){this._cbr=new ti,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ii.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ii.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Pi.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ii.prototype.checkValid=function(t){t.isValid()||V.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=Zr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(t){var e=this.removeCommonBits(t);return Zr.snap(e[0],e[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,Pi.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,Pi.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,Pi.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,Pi.DIFFERENCE)};var oi=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};oi.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Pi.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;r=t}if(!n)try{e=ii.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?r:t}return e},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(t,e,n){return new oi(t,e).getResultGeometry(n)},oi.union=function(t,e){return oi.overlayOp(t,e,Pi.UNION)},oi.intersection=function(t,e){return oi.overlayOp(t,e,Pi.INTERSECTION)},oi.symDifference=function(t,e){return oi.overlayOp(t,e,Pi.SYMDIFFERENCE)},oi.difference=function(t,e){return oi.overlayOp(t,e,Pi.DIFFERENCE)};var ai=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};ai.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai};var si=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},ui={INSERT:{configurable:!0},DELETE:{configurable:!0}};si.prototype.isDelete=function(){return this._eventType===si.DELETE},si.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},si.prototype.getObject=function(){return this._obj},si.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},si.prototype.getInsertEvent=function(){return this._insertEvent},si.prototype.isInsert=function(){return this._eventType===si.INSERT},si.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},si.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},si.prototype.interfaces_=function(){return[w]},si.prototype.getClass=function(){return si},ui.INSERT.get=function(){return 1},ui.DELETE.get=function(){return 2},Object.defineProperties(si,ui);var li=function(){};li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ci=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};ci.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(ci.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},ci.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ci.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},ci.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ci.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},ci.prototype.hasProperIntersection=function(){return this._hasProper},ci.prototype.hasIntersection=function(){return this._hasIntersection},ci.prototype.isDone=function(){return this._isDone},ci.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},ci.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},ci.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var fi=function(t){function e(){t.call(this),this.events=new St,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ci&&I(arguments[0],xt)&&I(arguments[1],xt)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&I(arguments[0],xt)&&arguments[1]instanceof ci){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ai(n,i),a=new si(e,n.getMinX(i),o);this.events.add(a),this.events.add(new si(n.getMaxX(i),a))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),hi=function(){this._min=_.POSITIVE_INFINITY,this._max=_.NEGATIVE_INFINITY},pi={NodeComparator:{configurable:!0}};hi.prototype.getMin=function(){return this._min},hi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hi.prototype.getMax=function(){return this._max},hi.prototype.toString=function(){return Q.toLineString(new E(this._min,0),new E(this._max,0))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},pi.NodeComparator.get=function(){return di},Object.defineProperties(hi,pi);var di=function(){};di.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},di.prototype.interfaces_=function(){return[S]},di.prototype.getClass=function(){return di};var gi=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hi),yi=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hi),mi=function(){this._leaves=new St,this._root=null,this._level=0};mi.prototype.buildTree=function(){$e.sort(this._leaves,new hi.NodeComparator);for(var t=this._leaves,e=null,n=new St;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},mi.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new gi(t,e,n))},mi.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},mi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},mi.prototype.printNode=function(t){V.out.println(Q.toLineString(new E(t._min,this._level),new E(t._max,this._level)))},mi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},mi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new yi(t.get(n),t.get(n+1));e.add(i)}}},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi};var vi=function(){this._items=new St};vi.prototype.visitItem=function(t){this._items.add(t)},vi.prototype.getItems=function(){return this._items},vi.prototype.interfaces_=function(){return[Ke]},vi.prototype.getClass=function(){return vi};var _i=function(){this._index=null;var t=arguments[0];if(!I(t,Qt))throw new v("Argument must be Polygonal");this._index=new xi(t)},bi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_i.prototype.locate=function(t){var e=new at(t),n=new wi(e);return this._index.query(t.y,t.y,n),e.getLocation()},_i.prototype.interfaces_=function(){return[Gn]},_i.prototype.getClass=function(){return _i},bi.SegmentVisitor.get=function(){return wi},bi.IntervalIndexedGeometry.get=function(){return xi},Object.defineProperties(_i,bi);var wi=function(){this._counter=null;var t=arguments[0];this._counter=t};wi.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},wi.prototype.interfaces_=function(){return[Ke]},wi.prototype.getClass=function(){return wi};var xi=function(){this._index=new mi;var t=arguments[0];this.init(t)};xi.prototype.init=function(t){for(var e=Er.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xi.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new gn(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},xi.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new vi;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Si=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new he,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Or,2===arguments.length){var e=arguments[0],n=arguments[1],r=dt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;T.NONE,r.getLocation(t,Oe.ON)===T.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new ci(n,!0,!1);o.setIsDoneIfProperInt(i);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,u=r||!s;return a.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new ci(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Jt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,T.INTERIOR)}else if(arguments[0]instanceof E){var e=arguments[0];this.insertPoint(this._argIndex,e,T.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),T.EXTERIOR,T.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,T.INTERIOR,T.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],T.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],T.BOUNDARY)},e.prototype.addLineString=function(t){var e=Pt.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nr(e,new Ae(this._argIndex,T.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===T.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Pt.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;st.isCCW(r)&&(i=n,o=e);var a=new nr(r,new Ae(this._argIndex,T.BOUNDARY,i,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],T.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Ae(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new fi},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Kt)this.addLineString(e);else if(e instanceof Jt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof qt)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof Bt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return I(this._parentGeom,Qt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _i(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?T.BOUNDARY:T.INTERIOR},e}(Ve),Ei=function(){if(this._li=new it,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Si(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=dt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Si(0,e,r),this._arg[1]=new Si(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Si(0,i,a),this._arg[1]=new Si(1,o,a)}};Ei.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Ei.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Ei.prototype.interfaces_=function(){return[]},Ei.prototype.getClass=function(){return Ei};var Oi=function(){};Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.map=function(){if(arguments[0]instanceof ct&&I(arguments[1],Oi.MapOp)){for(var t=arguments[0],e=arguments[1],n=new St,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(I(arguments[0],bt)&&I(arguments[1],Oi.MapOp)){for(var o=arguments[0],a=arguments[1],s=new St,u=o.iterator();u.hasNext();){var l=u.next(),c=a.map(l);null!==c&&s.add(c)}return s}},Oi.MapOp=function(){};var Pi=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Or,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Wn,this._resultPolyList=new St,this._resultLineList=new St,this._resultPointList=new St,this._graph=new Ve(new Yn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Ae(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new St;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==T.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new St,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new St;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Vr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Ye(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Hr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Wr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Oe.RIGHT),i.getLocation(1,Oe.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(et.isTrue(!r.isNull(i,Oe.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Oe.LEFT,r.getLocation(i,Oe.LEFT)),et.isTrue(!r.isNull(i,Oe.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Oe.RIGHT,r.getLocation(i,Oe.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ei);Pi.overlayOp=function(t,e,n){return new Pi(t,e).getResultGeometry(n)},Pi.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Pi.createEmptyResult(Pi.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Yr.map(t,{interfaces_:function(){return[Oi.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Pi.INTERSECTION)},Pi.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Pi.createEmptyResult(Pi.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Pi.SYMDIFFERENCE)},Pi.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Pi.INTERSECTION:o=Math.min(r,i);break;case Pi.UNION:o=Math.max(r,i);break;case Pi.DIFFERENCE:o=r;break;case Pi.SYMDIFFERENCE:o=Math.max(r,i)}return o},Pi.createEmptyResult=function(t,e,n,r){var i=null;switch(Pi.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Pi.difference=function(t,e){return t.isEmpty()?Pi.createEmptyResult(Pi.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Pi.DIFFERENCE))},Pi.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Pi.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===T.BOUNDARY&&(i=T.INTERIOR),o===T.BOUNDARY&&(o=T.INTERIOR),a){case Pi.INTERSECTION:return i===T.INTERIOR&&o===T.INTERIOR;case Pi.UNION:return i===T.INTERIOR||o===T.INTERIOR;case Pi.DIFFERENCE:return i===T.INTERIOR&&o!==T.INTERIOR;case Pi.SYMDIFFERENCE:return i===T.INTERIOR&&o!==T.INTERIOR||i!==T.INTERIOR&&o===T.INTERIOR}return!1}},Pi.INTERSECTION=1,Pi.UNION=2,Pi.DIFFERENCE=3,Pi.SYMDIFFERENCE=4;var Ci=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Or,this._seg=new gn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Ci.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Ci.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?T.BOUNDARY:this._ptLocator.locate(t,this._g)},Ci.prototype.extractLinework=function(t){var e=new Ti;t.apply(e);var n=e.getLinework(),r=me.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci};var Ti=function(){this._linework=null,this._linework=new St};Ti.prototype.getLinework=function(){return this._linework},Ti.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Ti.prototype.interfaces_=function(){return[Gt]},Ti.prototype.getClass=function(){return Ti};var Ni=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Ni.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Ni.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Ni.prototype.getPoints=function(t){for(var e=new St,n=Er.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Ni.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=Math.sqrt(i*i+o*o),s=n*i/a,u=n*o/a,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var f=new E(l-u,c+s);r.add(f)}if(this._doRight){var h=new E(l+u,c-s);r.add(h)}},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni};var Ii=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new St;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Ci(this._geom[0],this._boundaryDistanceTolerance),new Ci(this._geom[1],this._boundaryDistanceTolerance),new Ci(this._geom[2],this._boundaryDistanceTolerance)]},Mi={TOLERANCE:{configurable:!0}};Ii.prototype.reportResult=function(t,e,n){V.out.println("Overlay result invalid - A:"+T.toLocationSymbol(e[0])+" B:"+T.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+T.toLocationSymbol(e[2]))},Ii.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Ii.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Ii.hasLocation(this._location,T.BOUNDARY)||this.isValidResult(r,this._location)}},Ii.prototype.addTestPts=function(t){var e=new Ni(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Ii.prototype.isValidResult=function(t,e){var n=Pi.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===T.INTERIOR);return r||this.reportResult(t,e,n),r},Ii.prototype.getInvalidLocation=function(){return this._invalidLocation},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii},Ii.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Ii.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Zr.computeSizeBasedSnapTolerance(t),Zr.computeSizeBasedSnapTolerance(e))},Ii.isValid=function(t,e,n,r){return new Ii(t,e,r).isValid(n)},Mi.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Ii,Mi);var Ai=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ai.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Ai.prototype.combine=function(){for(var t=new St,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.combine=function(){if(1===arguments.length){var t=arguments[0];return new Ai(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Ai(Ai.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new Ai(Ai.createList(r,i,o)).combine()}},Ai.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ai.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new St;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new St;return a.add(r),a.add(i),a.add(o),a}};var Li=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new St)},Ri={STRTREE_NODE_CAPACITY:{configurable:!0}};Li.prototype.reduceToGeometries=function(t){for(var e=new St,n=t.iterator();n.hasNext();){var r=n.next(),i=null;I(r,xt)?i=this.unionTree(r):r instanceof ct&&(i=r),e.add(i)}return e},Li.prototype.extractByEnvelope=function(t,e,n){for(var r=new St,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Li.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ai.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Li.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new an(Li.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Li.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Li.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Li.getGeometry(e,n),Li.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},Li.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Li.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Li.prototype.unionActual=function(t,e){return Li.restrictToPolygons(t.union(e))},Li.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Li.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new St,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),a=this.unionActual(i,o);return r.add(a),Ai.combine(r)},Li.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.restrictToPolygons=function(t){if(I(t,Qt))return t;var e=Sr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(me.toPolygonArray(e))},Li.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Li.union=function(t){return new Li(t).union()},Ri.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Li,Ri);var ki=function(){};ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki},ki.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Pi.createEmptyResult(Pi.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Pi.UNION)},t.GeoJSONReader=Se,t.GeoJSONWriter=Ee,t.OverlayOp=Pi,t.UnionOp=ki,t.BufferOp=gr,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e,n){var r=n(43),i=n(21),o=n(106);t.exports=function(t){return function(e,n,a){var s,u=r(e),l=i(u.length),c=o(a,l);if(t&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(54);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(55),i=n(62);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(t,e,n){var r=n(15),i=n(54),o=n(20)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(20)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(124),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(275);var r=n(39),i=n(38),o=n(12),a=n(62),s=n(20),u=n(210),l=s("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),p=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),d=p?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!e})):void 0;if(!p||!d||"replace"===t&&!c||"split"===t&&!f){var g=/./[h],y=n(a,h,""[t],(function(t,e,n,r,i){return e.exec===u?p&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),m=y[0],v=y[1];r(String.prototype,t,m),i(RegExp.prototype,h,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},function(t,e,n){var r=n(10).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(10),i=n(1),o=n(39),a=n(112),s=n(86),u=n(111),l=n(110),c=n(15),f=n(12),h=n(161),p=n(123),d=n(196);t.exports=function(t,e,n,g,y,m){var v=r[t],_=v,b=y?"set":"add",w=_&&_.prototype,x={},S=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(m||w.forEach&&!f((function(){(new _).entries().next()})))){var E=new _,O=E[b](m?{}:-0,1)!=E,P=f((function(){E.has(1)})),C=h((function(t){new _(t)})),T=!m&&f((function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)}));C||((_=e((function(e,n){l(e,_,t);var r=d(new v,e,_);return null!=n&&u(n,y,r[b],r),r}))).prototype=w,w.constructor=_),(P||T)&&(S("delete"),S("has"),y&&S("get")),(T||O)&&S(b),m&&w.clear&&delete w.clear}else _=g.getConstructor(e,t,y,b),a(_.prototype,n),s.NEED=!0;return p(_,t),x[t]=_,i(i.G+i.W+i.F*(_!=v),x),m||g.setStrong(_,t,y),_}},function(t,e,n){for(var r,i=n(10),o=n(38),a=n(104),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;t.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(t,e,n){"use strict";t.exports=n(85)||!n(12)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n(10)[t]}))},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var r=n(1),i=n(34),o=n(53),a=n(111);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),null==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,(function(t){n.push(s(t,r++))}))):a(t,!1,n.push,n),new this(n))}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intersectsLineString=a,e.intersectsLineStringArray=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o){if(a(t,e,n[o],r,i))return!0;e=n[o]}return!1},e.intersectsLinearRing=s,e.intersectsLinearRingArray=u,e.intersectsLinearRingMultiArray=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(u(t,e,s,r,i))return!0;e=s[s.length-1]}return!1};var r=n(4),i=n(172),o=n(301);function a(t,e,n,i,a){var s=(0,r.extendFlatCoordinates)((0,r.createEmpty)(),t,e,n,i);return!!(0,r.intersects)(a,s)&&(!!(0,r.containsExtent)(a,s)||s[0]>=a[0]&&s[2]<=a[2]||s[1]>=a[1]&&s[3]<=a[3]||(0,o.forEach)(t,e,n,i,(function(t,e){return(0,r.intersectsSegment)(a,t,e)})))}function s(t,e,n,r,o){return!!(a(t,e,n,r,o)||(0,i.linearRingContainsXY)(t,e,n,r,o[0],o[1])||(0,i.linearRingContainsXY)(t,e,n,r,o[0],o[3])||(0,i.linearRingContainsXY)(t,e,n,r,o[2],o[1])||(0,i.linearRingContainsXY)(t,e,n,r,o[2],o[3]))}function u(t,e,n,r,o){if(!s(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var u=1,l=n.length;u<l;++u)if((0,i.linearRingContainsExtent)(t,n[u-1],n[u],r,o)&&!a(t,n[u-1],n[u],r,o))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingContainsExtent=function(t,e,n,o,a){return!(0,r.forEachCorner)(a,(function(r){return!i(t,e,n,o,r[0],r[1])}))},e.linearRingContainsXY=i,e.linearRingsContainsXY=o,e.linearRingssContainsXY=function(t,e,n,r,i,a){if(0===n.length)return!1;for(var s=0,u=n.length;s<u;++s){var l=n[s];if(o(t,e,l,r,i,a))return!0;e=l[l.length-1]}return!1};var r=n(4);function i(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function o(t,e,n,r,o,a){if(0===n.length)return!1;if(!i(t,e,n[0],r,o,a))return!1;for(var s=1,u=n.length;s<u;++s)if(i(t,n[s-1],n[s],r,o,a))return!1;return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingIsClockwise=i,e.linearRingsAreOriented=o,e.linearRingssAreOriented=function(t,e,n,r,i){for(var a=0,s=n.length;a<s;++a){var u=n[a];if(!o(t,e,u,r,i))return!1;u.length&&(e=u[u.length-1])}return!0},e.orientLinearRings=a,e.orientLinearRingsArray=function(t,e,n,r,i){for(var o=0,s=n.length;o<s;++o)e=a(t,e,n[o],r,i);return e};var r=n(605);function i(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return i>0}function o(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,u=n.length;s<u;++s){var l=n[s],c=i(t,e,l,r);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=l}return!0}function a(t,e,n,o,a){for(var s=void 0!==a&&a,u=0,l=n.length;u<l;++u){var c=n[u],f=i(t,e,c,o);(0===u?s&&f||!s&&!f:s&&!f||!s&&f)&&(0,r.coordinates)(t,e,c,o),e=c}return e}},function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<Tileset ID>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},default:"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{<sourceLayer>: <propertyName>}`."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `feature-state` expression is not supported in filter expressions."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0"},"data-driven styling":{js:"1.2.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0"},"data-driven styling":{js:"1.2.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0"},"data-driven styling":{js:"1.2.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.","sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"If `symbol-sort-key` is set, sort based on that. Otherwise sort symbols by their y-position relative to the viewport."},"viewport-y":{doc:"Symbols will be sorted by their y-position relative to the viewport."},source:{doc:"Symbols will be rendered in the same order as the source data with no sorting applied."}},default:"auto",doc:"Controls the order in which overlapping symbols in the same layer are rendered","sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols with point placement would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols with point placement would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. The order of elements in an array define priority order for the placement of an orientation variant.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"==":{doc:'`["==", key, value]` equality: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` inequality: `feature[key]  value`'},">":{doc:'`[">", key, value]` greater than: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` greater than or equal: `feature[key]  value`'},"<":{doc:'`["<", key, value]` less than: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` less than or equal: `feature[key]  value`'},in:{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},in:{doc:"Determines whether an item exists in an array or a substring exists in a string.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0"}}},"index-of":{doc:"Returns the first index at which a given element can be found in an array, or for a string, the first occurrence of the specified value. If a second argument is provided, then the search is started from that position. Returns -1 if the value is not found.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must be either:\n * a single literal value; or\n * an array of literal values, whose values must be all strings or all numbers (e.g. `[100, 101]` or `["c", "b"]`). The input matches if any of the values in the array matches, similar to the `"in"` operator.\n\nEach label must be unique. If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:"Returns `formatted` text containing annotations for use in mixed-format `text-field` entries. For a `text-field` entries of a string type, following option object's properties are supported: If set, the `text-font` value overrides the font specified by the root layout properties. If set, the `font-scale` value specifies a scaling factor relative to the `text-size` specified in the root layout properties. If set, the `text-color` value overrides the color specified by the root paint properties for this layer.",group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0"}}},image:{doc:"Returns an `image` type for use in `icon-image`, `*-pattern` entries and as a section in the `format` expression. If set, the `image` argument will check that the requested image exists in the style and will return either the resolved image name or `null`, depending on whether or not the image is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `image` argument.",group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.6.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",group:"Types","sdk-support":{"basic functionality":{js:"0.54.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},accumulated:{doc:"Gets the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the feature being evaluated is inside the pre-defined geometry boundary, `false` otherwise. The expression has one argument which must be a valid GeoJSON Polygon/Multi-Polygon object. The expression only evaluates on `Point` or `LineString` feature. For `Point` feature, The expression will return false if any point of the feature is on the boundary or outside the boundary. For `LineString` feature, the expression will return false if the line is fully outside the boundary, or the line is partially intersecting the boundary, which means either part of the line is outside of the boundary, or end point of the line lies on the boundary.",group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},slice:{doc:"Returns a portion of a string or an array starting from the provided beginning index. If a second argument is provided, then the return portion will run to, but not include, the end index.",group:"String","sdk-support":{"basic functionality":{js:"1.10.0"}}}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},o=/("(?:[^\\"]|\\.)*")|[:,]/g;function a(t,e){var n={};for(var r in e)void 0!==t[r]&&(n[r]=t[r]);for(var i in t)void 0===n[i]&&(n[i]=t[i]);return n}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function u(t,e){return t(e={exports:{}},e.exports),e.exports}var l=u((function(t,e){!function(n){var i=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,a="object"==(void 0===s?"undefined":r(s))&&s;a.global!==a&&a.window!==a&&a.self!==a||(n=a);var u,l,c=2147483647,f=36,h=1,p=26,d=38,g=700,y=72,m=128,v="-",_=/^xn--/,b=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=f-h,E=Math.floor,O=String.fromCharCode;function P(t){throw RangeError(x[t])}function C(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function T(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+C((t=t.replace(w,".")).split("."),e).join(".")}function N(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function I(t){return C(t,(function(t){var e="";return t>65535&&(e+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+O(t)})).join("")}function M(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:f}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function L(t,e,n){var r=0;for(t=n?E(t/g):t>>1,t+=E(t/e);t>S*p>>1;r+=f)t=E(t/S);return E(r+(S+1)*t/(t+d))}function R(t){var e,n,r,i,o,a,s,u,l,d,g=[],_=t.length,b=0,w=m,x=y;for((n=t.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&P("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(o=b,a=1,s=f;i>=_&&P("invalid-input"),((u=M(t.charCodeAt(i++)))>=f||u>E((c-b)/a))&&P("overflow"),b+=u*a,!(u<(l=s<=x?h:s>=x+p?p:s-x));s+=f)a>E(c/(d=f-l))&&P("overflow"),a*=d;x=L(b-o,e=g.length+1,0==o),E(b/e)>c-w&&P("overflow"),w+=E(b/e),b%=e,g.splice(b++,0,w)}return I(g)}function k(t){var e,n,r,i,o,a,s,u,l,d,g,_,b,w,x,S=[];for(_=(t=N(t)).length,e=m,n=0,o=y,a=0;a<_;++a)(g=t[a])<128&&S.push(O(g));for(r=i=S.length,i&&S.push(v);r<_;){for(s=c,a=0;a<_;++a)(g=t[a])>=e&&g<s&&(s=g);for(s-e>E((c-n)/(b=r+1))&&P("overflow"),n+=(s-e)*b,e=s,a=0;a<_;++a)if((g=t[a])<e&&++n>c&&P("overflow"),g==e){for(u=n,l=f;!(u<(d=l<=o?h:l>=o+p?p:l-o));l+=f)x=u-d,w=f-d,S.push(O(A(d+x%w,0))),u=E(x/w);S.push(O(A(u,0))),o=L(n,b,r==i),n=0,++r}++n,++e}return S.join("")}if(u={version:"1.3.2",ucs2:{decode:N,encode:I},decode:R,encode:k,toASCII:function(t){return T(t,(function(t){return b.test(t)?"xn--"+k(t):t}))},toUnicode:function(t){return T(t,(function(t){return _.test(t)?R(t.slice(4).toLowerCase()):t}))}},i&&o)if(t.exports==i)o.exports=u;else for(l in u)u.hasOwnProperty(l)&&(i[l]=u[l]);else n.punycode=u}(s)})),c={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};function f(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var h=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!=typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s=t.length;a>0&&s>a&&(s=a);for(var u=0;u<s;++u){var l,c,h,p,d=t[u].replace(o,"%20"),g=d.indexOf(n);g>=0?(l=d.substr(0,g),c=d.substr(g+1)):(l=d,c=""),h=decodeURIComponent(l),p=decodeURIComponent(c),f(i,h)?Array.isArray(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i},p=function(t){switch(void 0===t?"undefined":r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},d=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":r(t))?Object.keys(t).map((function(r){var i=encodeURIComponent(p(r))+n;return Array.isArray(t[r])?t[r].map((function(t){return i+encodeURIComponent(p(t))})).join(e):i+encodeURIComponent(p(t[r]))})).join(e):i?encodeURIComponent(p(i))+n+encodeURIComponent(p(t)):""},g=u((function(t,e){e.decode=e.parse=h,e.encode=e.stringify=d})),y=(g.decode,g.parse,g.encode,g.stringify,M),m=v;function v(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var _=/^([a-z0-9.+-]+:)/i,b=/:[0-9]*$/,w=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,x=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),S=["'"].concat(x),E=["%","/","?",";","#"].concat(S),O=["/","?","#"],P=/^[+a-z0-9A-Z_-]{0,63}$/,C=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},N={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function M(t,e,n){if(t&&c.isObject(t)&&t instanceof v)return t;var r=new v;return r.parse(t,e,n),r}v.prototype.parse=function(t,e,n){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===t?"undefined":r(t)));var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",a=t.split(o);a[0]=a[0].replace(/\\/g,"/");var s=t=a.join(o);if(s=s.trim(),!n&&1===t.split("#").length){var u=w.exec(s);if(u)return this.path=s,this.href=s,this.pathname=u[1],u[2]?(this.search=u[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=_.exec(s);if(f){var h=(f=f[0]).toLowerCase();this.protocol=h,s=s.substr(f.length)}if(n||f||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===s.substr(0,2);!p||f&&N[f]||(s=s.substr(2),this.slashes=!0)}if(!N[f]&&(p||f&&!I[f])){for(var d,y,m=-1,v=0;v<O.length;v++)-1!==(b=s.indexOf(O[v]))&&(-1===m||b<m)&&(m=b);for(-1!==(y=-1===m?s.lastIndexOf("@"):s.lastIndexOf("@",m))&&(d=s.slice(0,y),s=s.slice(y+1),this.auth=decodeURIComponent(d)),m=-1,v=0;v<E.length;v++){var b;-1!==(b=s.indexOf(E[v]))&&(-1===m||b<m)&&(m=b)}-1===m&&(m=s.length),this.host=s.slice(0,m),s=s.slice(m),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var M=this.hostname.split(/\./),A=(v=0,M.length);v<A;v++){var L=M[v];if(L&&!L.match(P)){for(var R="",k=0,F=L.length;k<F;k++)L.charCodeAt(k)>127?R+="x":R+=L[k];if(!R.match(P)){var j=M.slice(0,v),D=M.slice(v+1),U=L.match(C);U&&(j.push(U[1]),D.unshift(U[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=l.toASCII(this.hostname));var G=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+G,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!T[h])for(v=0,A=S.length;v<A;v++){var B=S[v];if(-1!==s.indexOf(B)){var q=encodeURIComponent(B);q===B&&(q=escape(B)),s=s.split(B).join(q)}}var V=s.indexOf("#");-1!==V&&(this.hash=s.substr(V),s=s.slice(0,V));var Y=s.indexOf("?");if(-1!==Y?(this.search=s.substr(Y),this.query=s.substr(Y+1),e&&(this.query=g.parse(this.query)),s=s.slice(0,Y)):e&&(this.search="",this.query={}),s&&(this.pathname=s),I[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){G=this.pathname||"";var H=this.search||"";this.path=G+H}return this.href=this.format(),this},v.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||I[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r},v.prototype.resolve=function(t){return this.resolveObject(M(t,!1,!0)).format()},v.prototype.resolveObject=function(t){if(c.isString(t)){var e=new v;e.parse(t,!1,!0),t=e}for(var n=new v,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];"protocol"!==u&&(n[u]=t[u])}return I[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!I[t.protocol]){for(var l=Object.keys(t),f=0;f<l.length;f++){var h=l[f];n[h]=t[h]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||N[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",g=n.search||"";n.path=d+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=m||y||n.host&&t.pathname,b=_,w=n.pathname&&n.pathname.split("/")||[],x=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!I[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===w[0])),m)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=t.search,n.query=t.query;else if(!c.isNullOrUndefined(t.search))return x&&(n.hostname=n.host=w.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),n.search=t.search,n.query=t.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=w.slice(-1)[0],E=(n.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,O=0,P=w.length;P>=0;P--)"."===(S=w[P])?w.splice(P,1):".."===S?(w.splice(P,1),O++):O&&(w.splice(P,1),O--);if(!_&&!b)for(;O--;O)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var C,T=""===w[0]||w[0]&&"/"===w[0].charAt(0);return x&&(n.hostname=n.host=T?"":w.length?w.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),(_=_||n.host&&w.length)&&!T&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},v.prototype.parseHost=function(){var t=this.host,e=b.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var A={parse:y,resolve:function(t,e){return M(t,!1,!0).resolve(e)},resolveObject:function(t,e){return t?M(t,!1,!0).resolveObject(e):e},format:function(t){return c.isString(t)&&(t=M(t)),t instanceof v?t.format():v.prototype.format.call(t)},Url:m};function L(t,e){for(var n in t.sources)e(t.sources[n])}function R(t,e){for(var n=0,r=t.layers;n<r.length;n+=1)e(r[n])}function k(t,e,n){function r(t,e){var r=t[e];r&&Object.keys(r).forEach((function(o){n({path:[t.id,e,o],key:o,value:r[o],reference:function(t){for(var e=0;e<i.layout.length;e++)for(var n in i[i.layout[e]])if(n===t)return i[i.layout[e]][n];for(var r=0;r<i.paint.length;r++)for(var o in i[i.paint[r]])if(o===t)return i[i.paint[r]][o];return null}(o),set:function(t){r[o]=t}})}))}R(t,(function(t){e.paint&&r(t,"paint"),e.layout&&r(t,"layout")}))}function F(t,e){for(var n in t)0===n.indexOf("layout")&&e(t[n],n)}function j(t,e){for(var n in t)0===n.indexOf("paint")&&e(t[n],n)}function D(t,e){return"string"==typeof e&&"@"===e[0]?D(t,t.constants[e]):e}function U(t,e,n){t[n]=t[e],delete t[e]}function G(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var a in o)t[a]=o[a]}return t}var z=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),B=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],a=i[1];this.bindings[o]=a}};B.prototype.concat=function(t){return new B(this,t)},B.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},B.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var q={kind:"null"},V={kind:"number"},Y={kind:"string"},H={kind:"boolean"},W={kind:"color"},X={kind:"object"},K={kind:"value"},Z={kind:"collator"},J={kind:"formatted"},Q={kind:"resolvedImage"};function $(t,e){return{kind:"array",itemType:t,N:e}}function tt(t){if("array"===t.kind){var e=tt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var et=[q,V,Y,H,W,J,X,$(K),Q];function nt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!nt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=et;n<r.length;n+=1)if(!nt(r[n],e))return null}return"Expected "+tt(t)+" but found "+tt(e)+" instead."}function rt(t,e){return e.some((function(e){return e.kind===t.kind}))}function it(t,e){return e.some((function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"===(void 0===t?"undefined":r(t)):e===(void 0===t?"undefined":r(t))}))}var ot=u((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100*255):r(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in n)return n[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),f=i.substr(u+1,l-(u+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),h];case"hsla":if(4!==f.length)return null;h=a(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),g=a(f[2]),y=g<=.5?g*(d+1):g+d-g*d,m=2*g-y;return[r(255*s(m,y,p+1/3)),r(255*s(m,y,p)),r(255*s(m,y,p-1/3)),h];default:return null}}return null}}catch(t){}})).parseCSSColor,at=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};at.parse=function(t){if(t){if(t instanceof at)return t;if("string"==typeof t){var e=ot(t);if(e)return new at(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},at.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},at.prototype.toArray=function(){var t=this.r,e=this.g,n=this.b,r=this.a;return 0===r?[0,0,0,0]:[255*t/r,255*e/r,255*n/r,r]},at.black=new at(0,0,0,1),at.white=new at(1,1,1,1),at.transparent=new at(0,0,0,0),at.red=new at(1,0,0,1);var st=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};st.prototype.compare=function(t,e){return this.collator.compare(t,e)},st.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ut=function(t,e,n,r,i){this.text=t,this.image=e,this.scale=n,this.fontStack=r,this.textColor=i},lt=function(t){this.sections=t};lt.fromString=function(t){return new lt([new ut(t,null,null,null,null)])},lt.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length}))},lt.factory=function(t){return t instanceof lt?t:lt.fromString(t)},lt.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(t){return t.text})).join("")},lt.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];if(r.image)t.push(["image",r.image.name]);else{t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),r.textColor&&(i["text-color"]=["rgba"].concat(r.textColor.toArray())),t.push(i)}}return t};var ct=function(t){this.name=t.name,this.available=t.available};function ft(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ht(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof at)return!0;if(t instanceof st)return!0;if(t instanceof lt)return!0;if(t instanceof ct)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!ht(n[e]))return!1;return!0}if("object"===(void 0===t?"undefined":r(t))){for(var i in t)if(!ht(t[i]))return!1;return!0}return!1}function pt(t){if(null===t)return q;if("string"==typeof t)return Y;if("boolean"==typeof t)return H;if("number"==typeof t)return V;if(t instanceof at)return W;if(t instanceof st)return Z;if(t instanceof lt)return J;if(t instanceof ct)return Q;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=pt(i[r]);if(e){if(e===o)continue;e=K;break}e=o}return $(e||K,n)}return X}function dt(t){var e=void 0===t?"undefined":r(t);return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof at||t instanceof lt||t instanceof ct?t.toString():JSON.stringify(t)}ct.prototype.toString=function(){return this.name},ct.fromString=function(t){return t?new ct({name:t,available:!1}):null},ct.prototype.serialize=function(){return["image",this.name]};var gt=function(t,e){this.type=t,this.value=e};gt.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!ht(t[1]))return e.error("invalid value");var n=t[1],r=pt(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new gt(r,n)},gt.prototype.evaluate=function(){return this.value},gt.prototype.eachChild=function(){},gt.prototype.outputDefined=function(){return!0},gt.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof at?["rgba"].concat(this.value.toArray()):this.value instanceof lt?this.value.serialize():this.value};var yt=function(t){this.name="ExpressionEvaluationError",this.message=t};yt.prototype.toJSON=function(){return this.message};var mt={string:Y,number:V,boolean:H,object:X},vt=function(t,e){this.type=t,this.args=e};vt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in mt)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=mt[s],r++}else o=K;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],r++}n=$(o,a)}else n=mt[i];for(var u=[];r<t.length;r++){var l=e.parse(t[r],r,K);if(!l)return null;u.push(l)}return new vt(n,u)},vt.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!nt(this.type,pt(n)))return n;if(e===this.args.length-1)throw new yt("Expected value to be of type "+tt(this.type)+", but found "+tt(pt(n))+" instead.")}return null},vt.prototype.eachChild=function(t){this.args.forEach(t)},vt.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},vt.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"==typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var _t=function(t){this.type=J,this.sections=t};_t.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"===(void 0===n?"undefined":r(n)))return e.error("First argument must be an image or text section.");for(var i=[],o=!1,a=1;a<=t.length-1;++a){var s=t[a];if(o&&"object"===(void 0===s?"undefined":r(s))&&!Array.isArray(s)){o=!1;var u=null;if(s["font-scale"]&&!(u=e.parse(s["font-scale"],1,V)))return null;var l=null;if(s["text-font"]&&!(l=e.parse(s["text-font"],1,$(Y))))return null;var c=null;if(s["text-color"]&&!(c=e.parse(s["text-color"],1,W)))return null;var f=i[i.length-1];f.scale=u,f.font=l,f.textColor=c}else{var h=e.parse(t[a],1,K);if(!h)return null;var p=h.type.kind;if("string"!==p&&"value"!==p&&"null"!==p&&"resolvedImage"!==p)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");o=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new _t(i)},_t.prototype.evaluate=function(t){return new lt(this.sections.map((function(e){var n=e.content.evaluate(t);return pt(n)===Q?new ut("",n,null,null,null):new ut(dt(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)})))},_t.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.content),r.scale&&t(r.scale),r.font&&t(r.font),r.textColor&&t(r.textColor)}},_t.prototype.outputDefined=function(){return!1},_t.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.content.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),r.textColor&&(i["text-color"]=r.textColor.serialize()),t.push(i)}return t};var bt=function(t){this.type=Q,this.input=t};bt.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Y);return n?new bt(n):e.error("No image name provided.")},bt.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ct.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},bt.prototype.eachChild=function(t){t(this.input)},bt.prototype.outputDefined=function(){return!1},bt.prototype.serialize=function(){return["image",this.input.serialize()]};var wt={"to-boolean":H,"to-color":W,"to-number":V,"to-string":Y},xt=function(t,e){this.type=t,this.args=e};xt.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=wt[n],i=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,K);if(!a)return null;i.push(a)}return new xt(r,i)},xt.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){if(n=null,(e=i[r].evaluate(t))instanceof at)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ft(e[0],e[1],e[2],e[3])))return new at(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new yt(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new yt("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?lt.fromString(dt(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ct.fromString(dt(this.args[0].evaluate(t))):dt(this.args[0].evaluate(t))},xt.prototype.eachChild=function(t){this.args.forEach(t)},xt.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},xt.prototype.serialize=function(){if("formatted"===this.type.kind)return new _t([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new bt(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var St=["Unknown","Point","LineString","Polygon"],Et=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Et.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Et.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?St[this.feature.type]:this.feature.type:null},Et.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Et.prototype.canonicalID=function(){return this.canonical},Et.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Et.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=at.parse(t)),e};var Ot=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};Ot.prototype.evaluate=function(t){return this._evaluate(t,this.args)},Ot.prototype.eachChild=function(t){this.args.forEach(t)},Ot.prototype.outputDefined=function(){return!1},Ot.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},Ot.parse=function(t,e){var n,r=t[0],i=Ot.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,a=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=a.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),u=null,l=0,c=s;l<c.length;l+=1){var f=c[l],h=f[0],p=f[1];u=new Zt(e.registry,e.path,null,e.scope);for(var d=[],g=!1,y=1;y<t.length;y++){var m=t[y],v=Array.isArray(h)?h[y-1]:h.type,_=u.parse(m,1+d.length,v);if(!_){g=!0;break}d.push(_)}if(!g)if(Array.isArray(h)&&h.length!==d.length)u.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var w=Array.isArray(h)?h[b]:h.type,x=d[b];u.concat(b+1).checkSubtype(w,x.type)}if(0===u.errors.length)return new Ot(r,o,p,d)}}if(1===s.length)(n=e.errors).push.apply(n,u.errors);else{for(var S=(s.length?s:a).map((function(t){return function(t){return Array.isArray(t)?"("+t.map(tt).join(", ")+")":"("+tt(t.type)+"...)"}(t[0])})).join(" | "),E=[],O=1;O<t.length;O++){var P=e.parse(t[O],1+E.length);if(!P)return null;E.push(tt(P.type))}e.error("Expected arguments of type "+S+", but found ("+E.join(", ")+") instead.")}return null},Ot.register=function(t,e){for(var n in Ot.definitions=e,e)t[n]=Ot};var Pt=function(t,e,n){this.type=Z,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};Pt.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!==(void 0===n?"undefined":r(n))||Array.isArray(n))return e.error("Collator options argument must be an object.");var i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,H);if(!i)return null;var o=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,H);if(!o)return null;var a=null;return n.locale&&!(a=e.parse(n.locale,1,Y))?null:new Pt(i,o,a)},Pt.prototype.evaluate=function(t){return new st(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Pt.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Pt.prototype.outputDefined=function(){return!1},Pt.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Ct=8192;function Tt(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function Nt(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function It(t,e){var n=function(t){return(180+t)/360}(t[0]),r=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}(t[1]),i=Math.pow(2,e.z);return[Math.round(n*i*Ct),Math.round(r*i*Ct)]}function Mt(t,e,n){var r=t[0]-e[0],i=t[1]-e[1],o=t[0]-n[0],a=t[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function At(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Lt(t,e){for(var n=!1,r=0,i=e.length;r<i;r++)for(var o=e[r],a=0,s=o.length;a<s-1;a++){if(Mt(t,o[a],o[a+1]))return!1;At(t,o[a],o[a+1])&&(n=!n)}return n}function Rt(t,e){for(var n=0;n<e.length;n++)if(Lt(t,e[n]))return!0;return!1}function kt(t,e,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=e[0]-n[0],s=e[1]-n[1],u=r[0]-n[0],l=r[1]-n[1],c=i*l-u*o,f=a*l-u*s;return c>0&&f<0||c<0&&f>0}function Ft(t,e,n,r){var i=[e[0]-t[0],e[1]-t[1]];return 0!==function(t,e){return t[0]*e[1]-t[1]*e[0]}([r[0]-n[0],r[1]-n[1]],i)&&!(!kt(t,e,n,r)||!kt(n,r,t,e))}function jt(t,e,n){for(var r=0,i=n;r<i.length;r+=1)for(var o=i[r],a=0;a<o.length-1;++a)if(Ft(t,e,o[a],o[a+1]))return!0;return!1}function Dt(t,e){for(var n=0;n<t.length;++n)if(!Lt(t[n],e))return!1;for(var r=0;r<t.length-1;++r)if(jt(t[r],t[r+1],e))return!1;return!0}function Ut(t,e){for(var n=0;n<e.length;n++)if(Dt(t,e[n]))return!0;return!1}function Gt(t,e,n){for(var r=[],i=0;i<t.length;i++){for(var o=[],a=0;a<t[i].length;a++){var s=It(t[i][a],n);Tt(e,s),o.push(s)}r.push(o)}return r}function zt(t,e,n){for(var r=[],i=0;i<t.length;i++){var o=Gt(t[i],e,n);r.push(o)}return r}function Bt(t,e,n,r){if(t[0]<n[0]||t[0]>n[2]){var i=.5*r,o=t[0]-n[0]>i?-r:n[0]-t[0]>i?r:0;0===o&&(o=t[0]-n[2]>i?-r:n[2]-t[0]>i?r:0),t[0]+=o}Tt(e,t)}function qt(t,e,n,r){for(var i=Math.pow(2,r.z)*Ct,o=[r.x*Ct,r.y*Ct],a=[],s=0,u=t;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var f=c[l],h=[f.x+o[0],f.y+o[1]];Bt(h,e,n,i),a.push(h)}return a}function Vt(t,e,n,r){for(var i=Math.pow(2,r.z)*Ct,o=[r.x*Ct,r.y*Ct],a=[],s=0,u=t;s<u.length;s+=1){for(var l=[],c=0,f=u[s];c<f.length;c+=1){var h=f[c],p=[h.x+o[0],h.y+o[1]];Tt(e,p),l.push(p)}a.push(l)}if(e[2]-e[0]<=i/2){!function(t){t[0]=t[1]=1/0,t[2]=t[3]=-1/0}(e);for(var d=0,g=a;d<g.length;d+=1)for(var y=0,m=g[d];y<m.length;y+=1)Bt(m[y],e,n,i)}return a}var Yt=function(t,e){this.type=H,this.geojson=t,this.geometries=e};function Ht(t){if(t instanceof Ot){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Yt)return!1;var e=!0;return t.eachChild((function(t){e&&!Ht(t)&&(e=!1)})),e}function Wt(t){if(t instanceof Ot&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!Wt(t)&&(e=!1)})),e}function Xt(t,e){if(t instanceof Ot&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!Xt(t,e)&&(n=!1)})),n}Yt.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(ht(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Yt(n,n.features[r].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Yt(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Yt(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Yt.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Gt(e.coordinates,r,i),a=qt(t.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Lt(u[s],o))return!1}if("MultiPolygon"===e.type){var l=zt(e.coordinates,r,i),c=qt(t.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var f=0,h=c;f<h.length;f+=1)if(!Rt(h[f],l))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if("Polygon"===e.type){var o=Gt(e.coordinates,r,i),a=Vt(t.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Dt(u[s],o))return!1}if("MultiPolygon"===e.type){var l=zt(e.coordinates,r,i),c=Vt(t.geometry(),n,r,i);if(!Nt(n,r))return!1;for(var f=0,h=c;f<h.length;f+=1)if(!Ut(h[f],l))return!1}return!0}(t,this.geometries)}return!1},Yt.prototype.eachChild=function(){},Yt.prototype.outputDefined=function(){return!0},Yt.prototype.serialize=function(){return["within",this.geojson]};var Kt=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Kt.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Kt(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Kt.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Kt.prototype.eachChild=function(){},Kt.prototype.outputDefined=function(){return!1},Kt.prototype.serialize=function(){return["var",this.name]};var Zt=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new B),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Jt(t,e){for(var n,r,i=t.length-1,o=0,a=i,s=0;o<=a;)if(n=t[s=Math.floor((o+a)/2)],r=t[s+1],n<=e){if(s===i||e<r)return s;o=s+1}else{if(!(n>e))throw new yt("Input is not a number.");a=s-1}return 0}Zt.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Zt.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new vt(e,[t]):"coerce"===n?new xt(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=t[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+(void 0===i?"undefined":r(i))+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var o=this.registry[i];if(o){var a=o.parse(t,this);if(!a)return null;if(this.expectedType){var s=this.expectedType,u=a.type;if("string"!==s.kind&&"number"!==s.kind&&"boolean"!==s.kind&&"object"!==s.kind&&"array"!==s.kind||"value"!==u.kind)if("color"!==s.kind&&"formatted"!==s.kind&&"resolvedImage"!==s.kind||"value"!==u.kind&&"string"!==u.kind){if(this.checkSubtype(s,u))return null}else a=n(a,s,e.typeAnnotation||"coerce");else a=n(a,s,e.typeAnnotation||"assert")}if(!(a instanceof gt)&&"resolvedImage"!==a.type.kind&&function t(e){if(e instanceof Kt)return t(e.boundExpression);if(e instanceof Ot&&"error"===e.name)return!1;if(e instanceof Pt)return!1;if(e instanceof Yt)return!1;var n=e instanceof xt||e instanceof vt,r=!0;return e.eachChild((function(e){r=n?r&&t(e):r&&e instanceof gt})),!!r&&(Ht(e)&&Xt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]))}(a)){var l=new Et;try{a=new gt(a.type,a.evaluate(l))}catch(t){return this.error(t.message),null}}return a}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?this.error("'undefined' value invalid. Use null instead."):"object"===(void 0===t?"undefined":r(t))?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+(void 0===t?"undefined":r(t))+" instead.")},Zt.prototype.concat=function(t,e,n){var r="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Zt(this.registry,r,e||null,i,this.errors)},Zt.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new z(r,t))},Zt.prototype.checkSubtype=function(t,e){var n=nt(t,e);return n&&this.error(n),n};var Qt=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};Qt.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,V);if(!n)return null;var r=[],i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],u=o,l=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=e.parse(s,l,i);if(!c)return null;i=i||c.type,r.push([a,c])}return new Qt(i,n,r)},Qt.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[Jt(e,r)].evaluate(t)},Qt.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},Qt.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},Qt.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var $t=te;function te(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}function ee(t,e,n){return t*(1-n)+e*n}te.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},te.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},te.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},te.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},te.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var ne=Object.freeze({__proto__:null,number:ee,color:function(t,e,n){return new at(ee(t.r,e.r,n),ee(t.g,e.g,n),ee(t.b,e.b,n),ee(t.a,e.a,n))},array:function(t,e,n){return t.map((function(t,r){return ee(t,e[r],n)}))}}),re=.95047,ie=1,oe=1.08883,ae=4/29,se=6/29,ue=3*se*se,le=se*se*se,ce=Math.PI/180,fe=180/Math.PI;function he(t){return t>le?Math.pow(t,1/3):t/ue+ae}function pe(t){return t>se?t*t*t:ue*(t-ae)}function de(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ge(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=ge(t.r),n=ge(t.g),r=ge(t.b),i=he((.4124564*e+.3575761*n+.1804375*r)/re),o=he((.2126729*e+.7151522*n+.072175*r)/ie);return{l:116*o-16,a:500*(i-o),b:200*(o-he((.0193339*e+.119192*n+.9503041*r)/oe)),alpha:t.a}}function me(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=ie*pe(e),n=re*pe(n),r=oe*pe(r),new at(de(3.2404542*n-1.5371385*e-.4985314*r),de(-.969266*n+1.8760108*e+.041556*r),de(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}var ve={forward:ye,reverse:me,interpolate:function(t,e,n){return{l:ee(t.l,e.l,n),a:ee(t.a,e.a,n),b:ee(t.b,e.b,n),alpha:ee(t.alpha,e.alpha,n)}}},_e={forward:function(t){var e=ye(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*fe;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*ce,n=t.c;return me({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:function(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}(t.h,e.h,n),c:ee(t.c,e.c,n),l:ee(t.l,e.l,n),alpha:ee(t.alpha,e.alpha,n)}}},be=Object.freeze({__proto__:null,lab:ve,hcl:_e}),we=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function xe(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}we.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=xe(e,t.base,n,r);else if("linear"===t.name)i=xe(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new $t(o[0],o[1],o[2],o[3]).solve(xe(e,1,n,r))}return i},we.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var a=r[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:a}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var s=r.slice(1);if(4!==s.length||s.some((function(t){return"number"!=typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,V)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=W:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<o.length;c+=2){var f=o[c],h=o[c+1],p=c+3,d=c+4;if("number"!=typeof f)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(u.length&&u[u.length-1][0]>=f)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',p);var g=e.parse(h,d,l);if(!g)return null;l=l||g.type,u.push([f,g])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new we(l,n,r,i,u):e.error("Type "+tt(l)+" is not interpolatable.")},we.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Jt(e,r),a=e[o],s=e[o+1],u=we.interpolationFactor(this.interpolation,r,a,s),l=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?ne[this.type.kind.toLowerCase()](l,c,u):"interpolate-hcl"===this.operator?_e.reverse(_e.interpolate(_e.forward(l),_e.forward(c),u)):ve.reverse(ve.interpolate(ve.forward(l),ve.forward(c),u))},we.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},we.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},we.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var Se=function(t,e){this.type=t,this.args=e};Se.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=a[o],u=e.parse(s,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,i.push(u)}var l=r&&i.some((function(t){return nt(r,t.type)}));return new Se(l?K:n,i)},Se.prototype.evaluate=function(t){for(var e,n=null,r=0,i=0,o=this.args;i<o.length&&(r++,(n=o[i].evaluate(t))&&n instanceof ct&&!n.available&&(e||(e=n.name),n=null,r===this.args.length&&(n=e)),null===n);i+=1);return n},Se.prototype.eachChild=function(t){this.args.forEach(t)},Se.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},Se.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Ee=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};Ee.prototype.evaluate=function(t){return this.result.evaluate(t)},Ee.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},Ee.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var o=t[i];if("string"!=typeof o)return e.error("Expected string, but found "+(void 0===o?"undefined":r(o))+" instead.",i);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var a=e.parse(t[i+1],i+1);if(!a)return null;n.push([o,a])}var s=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return s?new Ee(n,s):null},Ee.prototype.outputDefined=function(){return this.result.outputDefined()},Ee.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var Oe=function(t,e,n){this.type=t,this.index=e,this.input=n};Oe.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,V),r=e.parse(t[2],2,$(e.expectedType||K));if(!n||!r)return null;var i=r.type;return new Oe(i.itemType,n,r)},Oe.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new yt("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new yt("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new yt("Array index must be an integer, but found "+e+" instead.");return n[e]},Oe.prototype.eachChild=function(t){t(this.index),t(this.input)},Oe.prototype.outputDefined=function(){return!1},Oe.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Pe=function(t,e){this.type=H,this.needle=t,this.haystack=e};Pe.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,K),r=e.parse(t[2],2,K);return n&&r?rt(n.type,[H,Y,V,q,K])?new Pe(n,r):e.error("Expected first argument to be of type boolean, string, number or null, but found "+tt(n.type)+" instead"):null},Pe.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!it(e,["boolean","string","number","null"]))throw new yt("Expected first argument to be of type boolean, string, number or null, but found "+tt(pt(e))+" instead.");if(!it(n,["string","array"]))throw new yt("Expected second argument to be of type array or string, but found "+tt(pt(n))+" instead.");return n.indexOf(e)>=0},Pe.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},Pe.prototype.outputDefined=function(){return!0},Pe.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Ce=function(t,e,n){this.type=V,this.needle=t,this.haystack=e,this.fromIndex=n};Ce.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,K),r=e.parse(t[2],2,K);if(!n||!r)return null;if(!rt(n.type,[H,Y,V,q,K]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+tt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,V);return i?new Ce(n,r,i):null}return new Ce(n,r)},Ce.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!it(e,["boolean","string","number","null"]))throw new yt("Expected first argument to be of type boolean, string, number or null, but found "+tt(pt(e))+" instead.");if(!it(n,["string","array"]))throw new yt("Expected second argument to be of type array or string, but found "+tt(pt(n))+" instead.");if(this.fromIndex){var r=this.fromIndex.evaluate(t);return n.indexOf(e,r)}return n.indexOf(e)},Ce.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},Ce.prototype.outputDefined=function(){return!1},Ce.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Te=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};Te.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,f=s;c<f.length;c+=1){var h=f[c];if("number"!=typeof h&&"string"!=typeof h)return l.error("Branch labels must be numbers or strings.");if("number"==typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof h&&Math.floor(h)!==h)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,pt(h)))return null}else n=pt(h);if(void 0!==i[String(h)])return l.error("Branch labels must be unique.");i[String(h)]=o.length}var p=e.parse(u,a,r);if(!p)return null;r=r||p.type,o.push(p)}var d=e.parse(t[1],1,K);if(!d)return null;var g=e.parse(t[t.length-1],t.length-1,r);return g?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new Te(n,r,d,i,o,g):null},Te.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(pt(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},Te.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},Te.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&&this.otherwise.outputDefined()},Te.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],r={},i=0,o=Object.keys(this.cases).sort();i<o.length;i+=1){var a=o[i];void 0===(f=r[this.cases[a]])?(r[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[f][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,l=n;u<l.length;u+=1){var c=l[u],f=c[0],h=c[1];1===h.length?e.push(s(h[0])):e.push(h.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var Ne=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};Ne.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,H);if(!o)return null;var a=e.parse(t[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new Ne(n,r,s):null},Ne.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},Ne.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},Ne.prototype.outputDefined=function(){return this.branches.every((function(t){return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()},Ne.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Ie=function(t,e,n,r){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=r};function Me(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function Ae(t,e,n,r){return 0===r.compare(e,n)}function Le(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=H,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,K);if(!o)return null;if(!Me(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+tt(o.type)+"'.");var a=e.parse(t[2],2,K);if(!a)return null;if(!Me(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+tt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+tt(o.type)+"' and '"+tt(a.type)+"'.");r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new vt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new vt(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,Z)))return null}return new i(o,a,s)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=pt(o),u=pt(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new yt('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=pt(o),c=pt(a);if("string"!==l.kind||"string"!==c.kind)return e(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):e(i,o,a)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}Ie.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,K),r=e.parse(t[2],2,V);if(!n||!r)return null;if(!rt(n.type,[$(K),Y,K]))return e.error("Expected first argument to be of type array or string, but found "+tt(n.type)+" instead");if(4===t.length){var i=e.parse(t[3],3,V);return i?new Ie(n.type,n,r,i):null}return new Ie(n.type,n,r)},Ie.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!it(e,["string","array"]))throw new yt("Expected first argument to be of type array or string, but found "+tt(pt(e))+" instead.");if(this.endIndex){var r=this.endIndex.evaluate(t);return e.slice(n,r)}return e.slice(n)},Ie.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},Ie.prototype.outputDefined=function(){return!1},Ie.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var Re=Le("==",(function(t,e,n){return e===n}),Ae),ke=Le("!=",(function(t,e,n){return e!==n}),(function(t,e,n,r){return!Ae(0,e,n,r)})),Fe=Le("<",(function(t,e,n){return e<n}),(function(t,e,n,r){return r.compare(e,n)<0})),je=Le(">",(function(t,e,n){return e>n}),(function(t,e,n,r){return r.compare(e,n)>0})),De=Le("<=",(function(t,e,n){return e<=n}),(function(t,e,n,r){return r.compare(e,n)<=0})),Ue=Le(">=",(function(t,e,n){return e>=n}),(function(t,e,n,r){return r.compare(e,n)>=0})),Ge=function(t,e,n,r,i){this.type=Y,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Ge.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,V);if(!n)return null;var i=t[2];if("object"!==(void 0===i?"undefined":r(i))||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");var o=null;if(i.locale&&!(o=e.parse(i.locale,1,Y)))return null;var a=null;if(i.currency&&!(a=e.parse(i.currency,1,Y)))return null;var s=null;if(i["min-fraction-digits"]&&!(s=e.parse(i["min-fraction-digits"],1,V)))return null;var u=null;return i["max-fraction-digits"]&&!(u=e.parse(i["max-fraction-digits"],1,V))?null:new Ge(n,o,a,s,u)},Ge.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Ge.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Ge.prototype.outputDefined=function(){return!1},Ge.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var ze=function(t){this.type=V,this.input=t};ze.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+tt(n.type)+" instead."):new ze(n):null},ze.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new yt("Expected value to be of type string or array, but found "+tt(pt(e))+" instead.")},ze.prototype.eachChild=function(t){t(this.input)},ze.prototype.outputDefined=function(){return!1},ze.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Be={"==":Re,"!=":ke,">":je,"<":Fe,">=":Ue,"<=":De,array:vt,at:Oe,boolean:vt,case:Ne,coalesce:Se,collator:Pt,format:_t,image:bt,in:Pe,"index-of":Ce,interpolate:we,"interpolate-hcl":we,"interpolate-lab":we,length:ze,let:Ee,literal:gt,match:Te,number:vt,"number-format":Ge,object:vt,slice:Ie,step:Qt,string:vt,"to-boolean":xt,"to-color":xt,"to-number":xt,"to-string":xt,var:Kt,within:Yt};function qe(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var a=o?o.evaluate(t):1,s=ft(n,r,i,a);if(s)throw new yt(s);return new at(n/255*a,r/255*a,i/255*a,a)}function Ve(t,e){return t in e}function Ye(t,e){var n=e[t];return void 0===n?null:n}function He(t){return{type:t}}function We(t){return{result:"success",value:t}}function Xe(t){return{result:"error",value:t}}function Ke(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Ze(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Je(t){return!!t.expression&&t.expression.interpolated}function Qe(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":void 0===t?"undefined":r(t)}function $e(t){return"object"===(void 0===t?"undefined":r(t))&&null!==t&&!Array.isArray(t)}function tn(t){return t}function en(t,e){var n,i,o,a="color"===e.type,s=t.stops&&"object"===r(t.stops[0][0]),u=s||void 0!==t.property,l=s||!u,c=t.type||(Je(e)?"exponential":"interval");if(a&&((t=G({},t)).stops&&(t.stops=t.stops.map((function(t){return[t[0],at.parse(t[1])]}))),t.default?t.default=at.parse(t.default):t.default=at.parse(e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!be[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)n=an;else if("interval"===c)n=on;else if("categorical"===c){n=rn,i=Object.create(null);for(var f=0,h=t.stops;f<h.length;f+=1){var p=h[f];i[p[0]]=p[1]}o=r(t.stops[0][0])}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=sn}if(s){for(var d={},g=[],y=0;y<t.stops.length;y++){var m=t.stops[y],v=m[0].zoom;void 0===d[v]&&(d[v]={zoom:v,type:t.type,property:t.property,default:t.default,stops:[]},g.push(v)),d[v].stops.push([m[0].value,m[1]])}for(var _=[],b=0,w=g;b<w.length;b+=1){var x=w[b];_.push([d[x].zoom,en(d[x],e)])}var S={name:"linear"};return{kind:"composite",interpolationType:S,interpolationFactor:we.interpolationFactor.bind(void 0,S),zoomStops:_.map((function(t){return t[0]})),evaluate:function(n,r){var i=n.zoom;return an({stops:_,base:t.base},e,i).evaluate(i,r)}}}if(l){var E="exponential"===c?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:we.interpolationFactor.bind(void 0,E),zoomStops:t.stops.map((function(t){return t[0]})),evaluate:function(r){var a=r.zoom;return n(t,e,a,i,o)}}}return{kind:"source",evaluate:function(r,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?nn(t.default,e.default):n(t,e,s,i,o)}}}function nn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function rn(t,e,n,i,o){return nn((void 0===n?"undefined":r(n))===o?i[n]:void 0,t.default,e.default)}function on(t,e,n){if("number"!==Qe(n))return nn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=Jt(t.stops.map((function(t){return t[0]})),n);return t.stops[i][1]}function an(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Qe(n))return nn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=Jt(t.stops.map((function(t){return t[0]})),n),a=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],l=ne[e.type]||tn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=be[t.colorSpace];l=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),r=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return l(n,r,a)}}:l(s,u,a)}function sn(t,e,n){return"color"===e.type?n=at.parse(n):"formatted"===e.type?n=lt.fromString(n.toString()):"resolvedImage"===e.type?n=ct.fromString(n.toString()):Qe(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),nn(n,t.default,e.default)}Ot.register(Be,{error:[{kind:"error"},[Y],function(t,e){var n=e[0];throw new yt(n.evaluate(t))}],typeof:[Y,[K],function(t,e){return tt(pt(e[0].evaluate(t)))}],"to-rgba":[$(V,4),[W],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[W,[V,V,V],qe],rgba:[W,[V,V,V,V],qe],has:{type:H,overloads:[[[Y],function(t,e){return Ve(e[0].evaluate(t),t.properties())}],[[Y,X],function(t,e){var n=e[0],r=e[1];return Ve(n.evaluate(t),r.evaluate(t))}]]},get:{type:K,overloads:[[[Y],function(t,e){return Ye(e[0].evaluate(t),t.properties())}],[[Y,X],function(t,e){var n=e[0],r=e[1];return Ye(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[K,[Y],function(t,e){return Ye(e[0].evaluate(t),t.featureState||{})}],properties:[X,[],function(t){return t.properties()}],"geometry-type":[Y,[],function(t){return t.geometryType()}],id:[K,[],function(t){return t.id()}],zoom:[V,[],function(t){return t.globals.zoom}],"heatmap-density":[V,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[V,[],function(t){return t.globals.lineProgress||0}],accumulated:[K,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[V,He(V),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1)n+=i[r].evaluate(t);return n}],"*":[V,He(V),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1)n*=i[r].evaluate(t);return n}],"-":{type:V,overloads:[[[V,V],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[V],function(t,e){return-e[0].evaluate(t)}]]},"/":[V,[V,V],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[V,[V,V],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[V,[],function(){return Math.LN2}],pi:[V,[],function(){return Math.PI}],e:[V,[],function(){return Math.E}],"^":[V,[V,V],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[V,[V],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[V,[V],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[V,[V],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[V,[V],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[V,[V],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[V,[V],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[V,[V],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[V,[V],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[V,[V],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[V,[V],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[V,He(V),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[V,He(V),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[V,[V],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[V,[V],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[V,[V],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[V,[V],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[H,[Y,K],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[H,[K],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[H,[Y],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[H,[Y,K],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],a=i.value;return(void 0===o?"undefined":r(o))===(void 0===a?"undefined":r(a))&&o<a}],"filter-id-<":[H,[K],function(t,e){var n=e[0],i=t.id(),o=n.value;return(void 0===i?"undefined":r(i))===(void 0===o?"undefined":r(o))&&i<o}],"filter->":[H,[Y,K],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],a=i.value;return(void 0===o?"undefined":r(o))===(void 0===a?"undefined":r(a))&&o>a}],"filter-id->":[H,[K],function(t,e){var n=e[0],i=t.id(),o=n.value;return(void 0===i?"undefined":r(i))===(void 0===o?"undefined":r(o))&&i>o}],"filter-<=":[H,[Y,K],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],a=i.value;return(void 0===o?"undefined":r(o))===(void 0===a?"undefined":r(a))&&o<=a}],"filter-id-<=":[H,[K],function(t,e){var n=e[0],i=t.id(),o=n.value;return(void 0===i?"undefined":r(i))===(void 0===o?"undefined":r(o))&&i<=o}],"filter->=":[H,[Y,K],function(t,e){var n=e[0],i=e[1],o=t.properties()[n.value],a=i.value;return(void 0===o?"undefined":r(o))===(void 0===a?"undefined":r(a))&&o>=a}],"filter-id->=":[H,[K],function(t,e){var n=e[0],i=t.id(),o=n.value;return(void 0===i?"undefined":r(i))===(void 0===o?"undefined":r(o))&&i>=o}],"filter-has":[H,[K],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[H,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[H,[$(Y)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[H,[$(K)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[H,[Y,$(K)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[H,[Y,$(K)],function(t,e){var n=e[0],r=e[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:H,overloads:[[[H,H],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[He(H),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(!r[n].evaluate(t))return!1;return!0}]]},any:{type:H,overloads:[[[H,H],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[He(H),function(t,e){for(var n=0,r=e;n<r.length;n+=1)if(r[n].evaluate(t))return!0;return!1}]]},"!":[H,[H],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[H,[Y],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[Y,[Y],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Y,[Y],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Y,He(K),function(t,e){return e.map((function(e){return dt(e.evaluate(t))})).join("")}],"resolved-locale":[Y,[Z],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var un=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new Et,this._defaultValue=e?function(t){return"color"===t.type&&$e(t.default)?new at(0,0,0,0):"color"===t.type?at.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function ln(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in Be}function cn(t,e){var n=new Zt(Be,[],e?function(t){var e={color:W,string:Y,number:V,enum:Y,boolean:H,formatted:J,resolvedImage:Q};return"array"===t.type?$(e[t.value]||K,t.length):e[t.type]}(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?We(new un(r,e)):Xe(n.errors)}un.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},un.prototype.evaluate=function(t,e,n,r,i,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new yt("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var fn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Wt(e.expression)};fn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},fn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)};var hn=function(t,e,n,r){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Wt(e.expression),this.interpolationType=r};function pn(t,e){if("error"===(t=cn(t,e)).result)return t;var n=t.value.expression,r=Ht(n);if(!r&&!Ke(e))return Xe([new z("","data expressions not supported")]);var i=Xt(n,["zoom"]);if(!i&&!Ze(e))return Xe([new z("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof Ee)n=t(e.result);else if(e instanceof Se)for(var r=0,i=e.args;r<i.length;r+=1){var o=i[r];if(n=t(o))break}else(e instanceof Qt||e instanceof we)&&e.input instanceof Ot&&"zoom"===e.input.name&&(n=e);return n instanceof z?n:(e.eachChild((function(e){var r=t(e);r instanceof z?n=r:!n&&r?n=new z("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&r&&n!==r&&(n=new z("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n)}(n);if(!o&&!i)return Xe([new z("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof z)return Xe([o]);if(o instanceof we&&!Je(e))return Xe([new z("",'"interpolate" expressions cannot be used with this property')]);if(!o)return We(new fn(r?"constant":"source",t.value));var a=o instanceof we?o.interpolation:void 0;return We(new hn(r?"camera":"composite",t.value,o.labels,a))}hn.prototype.evaluateWithoutErrorHandling=function(t,e,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,r,i,o)},hn.prototype.evaluate=function(t,e,n,r,i,o){return this._styleExpression.evaluate(t,e,n,r,i,o)},hn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?we.interpolationFactor(this.interpolationType,t,e,n):0};var dn=function(t,e){this._parameters=t,this._specification=e,G(this,en(this._parameters,this._specification))};function gn(t){return"object"===(void 0===t?"undefined":r(t))?["literal",t]:t}function yn(t,e){var n=t.stops;if(!n)return function(t,e){var n=["get",t.property];if(void 0===t.default)return"string"===e.type?["string",n]:n;if("enum"===e.type)return["match",n,Object.keys(e.values),n,t.default];var r=["color"===e.type?"to-color":e.type,n,gn(t.default)];return"array"===e.type&&r.splice(1,0,e.value,e.length||null),r}(t,e);var i=n&&"object"===r(n[0][0]),o=i||void 0!==t.property,a=i||!o;return n=n.map((function(t){return!o&&e.tokens&&"string"==typeof t[1]?[t[0],Sn(t[1])]:[t[0],gn(t[1])]})),i?function(t,e,n){for(var r={},i={},o=[],a=0;a<n.length;a++){var s=n[a],u=s[0].zoom;void 0===r[u]&&(r[u]={zoom:u,type:t.type,property:t.property,default:t.default},i[u]=[],o.push(u)),i[u].push([s[0].value,s[1]])}if("exponential"===xn({},e)){for(var l=[mn(t),["linear"],["zoom"]],c=0,f=o;c<f.length;c+=1){var h=f[c];wn(l,h,_n(r[h],e,i[h]),!1)}return l}for(var p=["step",["zoom"]],d=0,g=o;d<g.length;d+=1){var y=g[d];wn(p,y,_n(r[y],e,i[y]),!0)}return bn(p),p}(t,e,n):a?function(t,e,n,r){void 0===r&&(r=["zoom"]);var i,o=xn(t,e),a=!1;if("interval"===o)i=["step",r],a=!0;else{if("exponential"!==o)throw new Error('Unknown zoom function type "'+o+'"');var s=void 0!==t.base?t.base:1;i=[mn(t),1===s?["linear"]:["exponential",s],r]}for(var u=0,l=n;u<l.length;u+=1){var c=l[u];wn(i,c[0],c[1],a)}return bn(i),i}(t,e,n):_n(t,e,n)}function mn(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function vn(t,e){return void 0!==t?t:void 0!==e?e:void 0}function _n(t,e,n){var r=xn(t,e),i=["get",t.property];if("categorical"===r&&"boolean"==typeof n[0][0]){for(var o=["case"],a=0,s=n;a<s.length;a+=1){var u=s[a];o.push(["==",i,u[0]],u[1])}return o.push(gn(vn(t.default,e.default))),o}if("categorical"===r){for(var l=["match",i],c=0,f=n;c<f.length;c+=1){var h=f[c];wn(l,h[0],h[1],!1)}return l.push(gn(vn(t.default,e.default))),l}if("interval"===r){for(var p=["step",["number",i]],d=0,g=n;d<g.length;d+=1){var y=g[d];wn(p,y[0],y[1],!0)}return bn(p),void 0===t.default?p:["case",["==",["typeof",i],"number"],p,gn(t.default)]}if("exponential"===r){for(var m=void 0!==t.base?t.base:1,v=[mn(t),1===m?["linear"]:["exponential",m],["number",i]],_=0,b=n;_<b.length;_+=1){var w=b[_];wn(v,w[0],w[1],!1)}return void 0===t.default?v:["case",["==",["typeof",i],"number"],v,gn(t.default)]}throw new Error("Unknown property function type "+r)}function bn(t){"step"===t[0]&&3===t.length&&(t.push(0),t.push(t[3]))}function wn(t,e,n,r){t.length>3&&e===t[t.length-2]||(r&&2===t.length||t.push(e),t.push(n))}function xn(t,e){return t.type?t.type:e.expression.interpolated?"exponential":"interval"}function Sn(t){for(var e=["concat"],n=/{([^{}]+)}/g,r=0,i=n.exec(t);null!==i;i=n.exec(t)){var o=t.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(1===e.length)return t;if(r<t.length)e.push(t.slice(r));else if(2===e.length)return["to-string",e[1]];return e}function En(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!En(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}dn.deserialize=function(t){return new dn(t._parameters,t._specification)},dn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var On={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Pn(t,e){return t<e?-1:t>e?1:0}function Cn(t){if(!t)return!0;var e=t[0];return t.length<=1?"any"!==e:"=="===e?Tn(t[1],t[2],"=="):"!="===e?Mn(Tn(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Tn(t[1],t[2],e):"any"===e?function(t){return["any"].concat(t.map(Cn))}(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(Cn)):"none"===e?["all"].concat(t.slice(1).map(Cn).map(Mn)):"in"===e?Nn(t[1],t.slice(2)):"!in"===e?Mn(Nn(t[1],t.slice(2))):"has"===e?In(t[1]):"!has"!==e||Mn(In(t[1]))}function Tn(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Nn(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return(void 0===t?"undefined":r(t))!==r(e[0])}))?["filter-in-large",t,["literal",e.sort(Pn)]]:["filter-in-small",t,["literal",e]]}}function In(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Mn(t){return["!",t]}function An(t){return function t(e,n){var i;if(En(e))return e;if(!e)return!0;var o,a=e[0];if(e.length<=1)return"any"!==a;if("=="===a||"!="===a||"<"===a||">"===a||"<="===a||">="===a){var s=e;o=function(t,e,n,i){var o;if("$type"===t)return[n,["geometry-type"],e];if(o="$id"===t?["id"]:["get",t],i&&null!==e){var a=void 0===e?"undefined":r(e);i[t]=a}return"=="===n&&"$id"!==t&&null===e?["all",["has",t],["==",o,null]]:"!="===n&&"$id"!==t&&null===e?["any",["!",["has",t]],["!=",o,null]]:[n,o,e]}(s[1],s[2],a,n)}else{if("any"===a){var u=e.slice(1).map((function(e){var n={},r=t(e,n),i=function(t){var e=[];for(var n in t){var r="$id"===n?["id"]:["get",n];e.push(["==",["typeof",r],t[n]])}return 0===e.length||(1===e.length?e[0]:["all"].concat(e))}(n);return!0===i?r:["case",i,r,!1]}));return["any"].concat(u)}if("all"===a){var l=e.slice(1).map((function(e){return t(e,n)}));return l.length>1?["all"].concat(l):(i=[]).concat.apply(i,l)}if("none"===a)return["!",t(["any"].concat(e.slice(1)),{})];o="in"===a?Ln(e[1],e.slice(2)):"!in"===a?Ln(e[1],e.slice(2),!0):"has"===a?Rn(e[1]):"!has"!==a||["!",Rn(e[1])]}return o}(t,{})}function Ln(t,e,n){if(void 0===n&&(n=!1),0===e.length)return n;var i;i="$type"===t?["geometry-type"]:"$id"===t?["id"]:["get",t];for(var o=!0,a=r(e[0]),s=0,u=e;s<u.length;s+=1){var l=u[s];if((void 0===l?"undefined":r(l))!==a){o=!1;break}}if(o&&("string"===a||"number"===a)){var c=e.sort().filter((function(t,n){return 0===n||e[n-1]!==t}));return["match",i,c,!n,n]}return[n?"all":"any"].concat(e.map((function(t){return[n?"!=":"==",i,t]})))}function Rn(t){return"$type"===t||("$id"===t?["!=",["id"],null]:["has",t])}var kn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Fn(t,e){var n={};for(var r in t)"ref"!==r&&(n[r]=t[r]);return kn.forEach((function(t){t in e&&(n[t]=e[t])})),n}function jn(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}if("object"===(void 0===t?"undefined":r(t))&&null!==t&&null!==e){if("object"!==(void 0===e?"undefined":r(e)))return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!jn(t[i],e[i]))return!1;return!0}return t===e}var Dn={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Un(t,e,n){n.push({command:Dn.addSource,args:[t,e[t]]})}function Gn(t,e,n){e.push({command:Dn.removeSource,args:[t]}),n[t]=!0}function zn(t,e,n,r){Gn(t,n,r),Un(t,e,n)}function Bn(t,e,n){var r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!jn(t[n][r],e[n][r]))return!1;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!jn(t[n][r],e[n][r]))return!1;return!0}function qn(t,e,n,r,i,o){var a;for(a in e=e||{},t=t||{})t.hasOwnProperty(a)&&(jn(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(jn(t[a],e[a])||n.push({command:o,args:[r,a,e[a],i]}))}function Vn(t){return t.id}function Yn(t,e){return t[e.id]=e,t}var Hn=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!=e&&e.__line__&&(this.line=e.__line__)},Wn=function(t){this.error=t,this.message=t.message;var e=t.message.match(/line (\d+)/);this.line=e?parseInt(e[1],10):0};function Xn(t){var e=t.key,n=t.value;return n?[new Hn(e,n,"constants have been deprecated as of v8")]:[]}function Kn(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Zn(t){if(Array.isArray(t))return t.map(Zn);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=Zn(t[n]);return e}return Kn(t)}function Jn(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=Qe(n);if("object"!==u)return[new Hn(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],f=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=pr;else if(i["*"])h=i["*"];else{if(!r["*"]){s.push(new Hn(e,n[l],'unknown property "'+l+'"'));continue}h=pr}s=s.concat(h({key:(e?e+".":e)+l,value:n[l],valueSpec:f,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var p in r)i[p]||r[p].required&&void 0===r[p].default&&void 0===n[p]&&s.push(new Hn(e,n,'missing required property "'+p+'"'));return s}function Qn(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,a=t.arrayElementValidator||pr;if("array"!==Qe(e))return[new Hn(o,e,"array expected, "+Qe(e)+" found")];if(n.length&&e.length!==n.length)return[new Hn(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Hn(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Qe(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function $n(t){var e=t.key,n=t.value,r=t.valueSpec,i=Qe(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Hn(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new Hn(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new Hn(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function tr(t){var e,n,r,i=t.valueSpec,o=Kn(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,l="array"===Qe(t.value.stops)&&"array"===Qe(t.value.stops[0])&&"object"===Qe(t.value.stops[0][0]),c=Jn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Hn(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Qn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:f})),"array"===Qe(n)&&0===n.length&&e.push(new Hn(t.key,n,"array must have at least one stop")),e},default:function(t){return pr({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new Hn(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new Hn(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Je(t.valueSpec)&&c.push(new Hn(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!Ke(t.valueSpec)?c.push(new Hn(t.key,t.value,"property functions not supported")):s&&!Ze(t.valueSpec)&&c.push(new Hn(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||c.push(new Hn(t.key,t.value,'"property" property is required')),c;function f(t){var e=[],o=t.value,s=t.key;if("array"!==Qe(o))return[new Hn(s,o,"array expected, "+Qe(o)+" found")];if(2!==o.length)return[new Hn(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==Qe(o[0]))return[new Hn(s,o,"object expected, "+Qe(o[0])+" found")];if(void 0===o[0].zoom)return[new Hn(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Hn(s,o,"object stop key must have value")];if(r&&r>Kn(o[0].zoom))return[new Hn(s,o[0].zoom,"stop zoom values must appear in ascending order")];Kn(o[0].zoom)!==r&&(r=Kn(o[0].zoom),n=void 0,a={}),e=e.concat(Jn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:$n,value:h}}))}else e=e.concat(h({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return ln(Zn(o[1]))?e.concat([new Hn(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(pr({key:s+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,r){var s=Qe(t.value),u=Kn(t.value),l=null!==t.value?t.value:r;if(e){if(s!==e)return[new Hn(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Hn(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return Ke(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Hn(t.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Hn(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Hn(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Hn(t.key,l,"integer expected, found "+u)]}}function er(t){var e=("property"===t.expressionContext?pn:cn)(Zn(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new Hn(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Hn(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Wt(n))return[new Hn(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Wt(n))return[new Hn(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Xt(n,["zoom","feature-state"]))return[new Hn(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ht(n))return[new Hn(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function nr(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Kn(n))&&i.push(new Hn(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(Kn(n))&&i.push(new Hn(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function rr(t){return En(Zn(t.value))?er(G({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,r=e.key;if("array"!==Qe(n))return[new Hn(r,n,"array expected, "+Qe(n)+" found")];var i,o=e.styleSpec,a=[];if(n.length<1)return[new Hn(r,n,"filter array must have at least 1 element")];switch(a=a.concat(nr({key:r+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Kn(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Kn(n[1])&&a.push(new Hn(r,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Hn(r,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(i=Qe(n[1]))&&a.push(new Hn(r+"[1]",n[1],"string expected, "+i+" found"));for(var s=2;s<n.length;s++)i=Qe(n[s]),"$type"===Kn(n[1])?a=a.concat(nr({key:r+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new Hn(r+"["+s+"]",n[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:r+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Qe(n[1]),2!==n.length?a.push(new Hn(r,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new Hn(r+"[1]",n[1],"string expected, "+i+" found"))}return a}(t)}function ir(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,a=t.objectKey,s=i[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return pr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=t.valueSpec||s[a];if(!c)return[new Hn(n,o,'unknown property "'+a+'"')];if("string"===Qe(o)&&Ke(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Hn(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var f=[];return"symbol"===t.layerType&&("text-field"===a&&r&&!r.glyphs&&f.push(new Hn(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&$e(Zn(o))&&"identity"===Kn(o.type)&&f.push(new Hn(n,o,'"text-font" does not support identity functions'))),f.concat(pr({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:a}))}function or(t){return ir(t,"paint")}function ar(t){return ir(t,"layout")}function sr(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Hn(r,n,'either "type" or "ref" is required'));var a,s=Kn(n.type),u=Kn(n.ref);if(n.id)for(var l=Kn(n.id),c=0;c<t.arrayIndex;c++){var f=i.layers[c];Kn(f.id)===l&&e.push(new Hn(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+f.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new Hn(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){Kn(t.id)===u&&(a=t)})),a?a.ref?e.push(new Hn(r,n.ref,"ref cannot reference another ref layer")):s=Kn(a.type):e.push(new Hn(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var h=i.sources&&i.sources[n.source],p=h&&Kn(h.type);h?"vector"===p&&"raster"===s?e.push(new Hn(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===p&&"raster"!==s?e.push(new Hn(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==p||n["source-layer"]?"raster-dem"===p&&"hillshade"!==s?e.push(new Hn(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===p&&h.lineMetrics||e.push(new Hn(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Hn(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Hn(r,n.source,'source "'+n.source+'" not found'))}else e.push(new Hn(r,n,'missing required property "source"'));return e=e.concat(Jn({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return pr({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:rr,layout:function(t){return Jn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return ar(G({layerType:s},t))}}})},paint:function(t){return Jn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return or(G({layerType:s},t))}}})}}}))}function ur(t){var e=t.value,n=t.key,r=Qe(e);return"string"!==r?[new Hn(n,e,"string expected, "+r+" found")]:[]}var lr={promoteId:function(t){var e=t.key,n=t.value;if("string"===Qe(n))return ur({key:e,value:n});var r=[];for(var i in n)r.push.apply(r,ur({key:e+"."+i,value:n[i]}));return r}};function cr(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new Hn(n,e,'"type" is required')];var o,a=Kn(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Jn({key:n,value:e,valueSpec:r["source_"+a.replace("-","_")],style:t.style,styleSpec:r,objectElementValidators:lr});case"geojson":if(o=Jn({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:lr}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],l=u[0],c=u[1],f="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,er({key:n+"."+s+".map",value:c,expressionContext:"cluster-map"})),o.push.apply(o,er({key:n+"."+s+".reduce",value:f,expressionContext:"cluster-reduce"}))}return o;case"video":return Jn({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return Jn({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new Hn(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nr({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function fr(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],a=Qe(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Hn("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=u&&r[u[1]]&&r[u[1]].transition?o.concat(pr({key:s,value:e[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?o.concat(pr({key:s,value:e[s],valueSpec:r[s],style:i,styleSpec:n})):o.concat([new Hn(s,e[s],'unknown property "'+s+'"')])}return o}var hr={"*":function(){return[]},array:Qn,boolean:function(t){var e=t.value,n=t.key,r=Qe(e);return"boolean"!==r?[new Hn(n,e,"boolean expected, "+r+" found")]:[]},number:$n,color:function(t){var e=t.key,n=t.value,r=Qe(n);return"string"!==r?[new Hn(e,n,"color expected, "+r+" found")]:null===ot(n)?[new Hn(e,n,'color expected, "'+n+'" found')]:[]},constants:Xn,enum:nr,filter:rr,function:tr,layer:sr,object:Jn,source:cr,light:fr,string:ur,formatted:function(t){return 0===ur(t).length?[]:er(t)},resolvedImage:function(t){return 0===ur(t).length?[]:er(t)}};function pr(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;return n.expression&&$e(Kn(e))?tr(t):n.expression&&ln(Zn(e))?er(t):n.type&&hr[n.type]?hr[n.type](t):Jn(G({},t,{valueSpec:n.type?r[n.type]:n}))}function dr(t){var e=t.value,n=t.key,r=ur(t);return r.length?r:(-1===e.indexOf("{fontstack}")&&r.push(new Hn(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new Hn(n,e,'"glyphs" url must include a "{range}" token')),r)}function gr(t,e){void 0===e&&(e=i);var n=[];return n=n.concat(pr({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:dr,"*":function(){return[]}}})),t.constants&&(n=n.concat(Xn({key:"constants",value:t.constants,style:t,styleSpec:e}))),yr(n)}function yr(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function mr(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return yr(t.apply(this,e))}}gr.source=mr(cr),gr.light=mr(fr),gr.layer=mr(sr),gr.filter=mr(rr),gr.paintProperty=mr(or),gr.layoutProperty=mr(ar);var vr=u((function(t,e){var n=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,12],n=[1,13],r=[1,9],i=[1,10],o=[1,11],a=[1,14],s=[1,15],u=[14,18,22,24],l=[18,22],c=[22,24],f={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:this.$=new String(t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(t),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=o[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,12:1,13:2,15:7,16:8,17:a,23:s},{1:[3]},{14:[1,16]},t(u,[2,7]),t(u,[2,8]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),t(u,[2,3]),t(u,[2,4]),t(u,[2,5]),t([14,18,21,22,24],[2,1]),t(u,[2,2]),{3:20,4:e,18:[1,17],19:18,20:19},{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:23,15:7,16:8,17:a,23:s,24:[1,21],25:22},{1:[2,6]},t(u,[2,13]),{18:[1,24],22:[1,25]},t(l,[2,16]),{21:[1,26]},t(u,[2,18]),{22:[1,28],24:[1,27]},t(c,[2,20]),t(u,[2,14]),{3:20,4:e,20:29},{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:30,15:7,16:8,17:a,23:s},t(u,[2,19]),{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:31,15:7,16:8,17:a,23:s},t(l,[2,17]),t(l,[2,15]),t(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,u=0,l=1,c=i.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(h.yy[p]=this.yy[p]);f.setInput(t,h.yy),h.yy.lexer=f,h.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var d=f.yylloc;i.push(d);var g=f.options&&f.options.ranges;function y(){var t;return"number"!=typeof(t=f.lex()||l)&&(t=e.symbols_[t]||t),t}"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,v,_,b,w,x,S,E,O={};;){if(v=n[n.length-1],this.defaultActions[v]?_=this.defaultActions[v]:(null!=m||(m=y()),_=o[v]&&o[v][m]),void 0===_||!_.length||!_[0]){var P="";for(w in E=[],o[v])this.terminals_[w]&&w>2&&E.push("'"+this.terminals_[w]+"'");P=f.showPosition?"Parse error on line "+(s+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==l?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(P,{text:f.match,token:this.terminals_[m]||m,line:f.yylineno,loc:d,expected:E})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+m);switch(_[0]){case 1:n.push(m),r.push(f.yytext),i.push(f.yylloc),n.push(_[1]),m=null,u=f.yyleng,a=f.yytext,s=f.yylineno,d=f.yylloc;break;case 2:if(x=this.productions_[_[1]][1],O.$=r[r.length-x],O._$={first_line:i[i.length-(x||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(x||1)].first_column,last_column:i[i.length-1].last_column},g&&(O._$.range=[i[i.length-(x||1)].range[0],i[i.length-1].range[1]]),void 0!==(b=this.performAction.apply(O,[a,u,s,h.yy,_[1],r,i].concat(c))))return b;x&&(n=n.slice(0,-1*x*2),r=r.slice(0,-1*x),i=i.slice(0,-1*x)),n.push(this.productions_[_[1]][0]),r.push(O.$),i.push(O._$),S=o[n[n.length-2]][n[n.length-1]],n.push(S);break;case 3:return!0}}return!0}},h={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function p(){this.yy={}}return f.lexer=h,p.prototype=f,f.Parser=p,new p}();e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)}}));function _r(t){if(t instanceof String||"string"==typeof t||t instanceof n)try{return vr.parse(t.toString())}catch(t){throw new Wn(t)}return t}function br(t,e){void 0===e&&(e=i);var n=t;try{n=_r(n)}catch(t){return[t]}return gr(n,e)}vr.parser,vr.Parser,vr.parse;var wr=15;function xr(t,e){return!t||"string"!==Qe(t)||!!t.match(e)}function Sr(t,e,n){var r=new Set(e),i=[];return Object.keys(t).forEach((function(e){if(!r.has(e)){var o=n?n+"."+e:null;i.push(new Hn(o,t[e],'Unsupported property "'+e+'"'))}})),i}var Er={StyleExpression:un,isExpression:ln,isExpressionFilter:En,createExpression:cn,createPropertyExpression:pn,normalizePropertyExpression:function(t,e){if($e(t))return new dn(t,e);if(ln(t)){var n=pn(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=at.parse(t)),{kind:"constant",evaluate:function(){return r}}},ZoomConstantExpression:fn,ZoomDependentExpression:hn,StylePropertyFunction:dn},Or={convertFunction:yn,createFunction:en,isFunction:$e},Pr={eachSource:L,eachLayer:R,eachProperty:k};br.parsed=br,br.latest=br,e.Color=at,e.ParsingError=Wn,e.ValidationError=Hn,e.composite=function(t){var e=[],n=[],r=[];for(var i in t.sources){var o=t.sources[i];if("vector"===o.type){var a=/^mapbox:\/\/(.*)/.exec(o.url);a&&(e.push(i),n.push(a[1]))}}if(e.length<2)return t;e.forEach((function(e){delete t.sources[e]}));var s=n.join(",");return t.sources[s]={type:"vector",url:"mapbox://"+s},t.layers.forEach((function(t){if(e.indexOf(t.source)>=0&&(t.source=s,"source-layer"in t)){if(r.indexOf(t["source-layer"])>=0)throw new Error("Conflicting source layer names");r.push(t["source-layer"])}})),t},e.convertFilter=An,e.derefLayers=function(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=Fn(t[r],e[t[r].ref]));return t},e.diff=function(t,e){if(!t)return[{command:Dn.setStyle,args:[e]}];var n=[];try{if(!jn(t.version,e.version))return[{command:Dn.setStyle,args:[e]}];jn(t.center,e.center)||n.push({command:Dn.setCenter,args:[e.center]}),jn(t.zoom,e.zoom)||n.push({command:Dn.setZoom,args:[e.zoom]}),jn(t.bearing,e.bearing)||n.push({command:Dn.setBearing,args:[e.bearing]}),jn(t.pitch,e.pitch)||n.push({command:Dn.setPitch,args:[e.pitch]}),jn(t.sprite,e.sprite)||n.push({command:Dn.setSprite,args:[e.sprite]}),jn(t.glyphs,e.glyphs)||n.push({command:Dn.setGlyphs,args:[e.glyphs]}),jn(t.transition,e.transition)||n.push({command:Dn.setTransition,args:[e.transition]}),jn(t.light,e.light)||n.push({command:Dn.setLight,args:[e.light]});var r={},i=[];!function(t,e,n,r){var i;for(i in e=e||{},t=t||{})t.hasOwnProperty(i)&&(e.hasOwnProperty(i)||Gn(i,n,r));for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?jn(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type&&Bn(t,e,i)?n.push({command:Dn.setGeoJSONSourceData,args:[i,e[i].data]}):zn(i,e,n,r)):Un(i,e,n))}(t.sources,e.sources,i,r);var o=[];t.layers&&t.layers.forEach((function(t){r[t.source]?n.push({command:Dn.removeLayer,args:[t.id]}):o.push(t)})),n=n.concat(i),function(t,e,n){e=e||[];var r,i,o,a,s,u,l,c=(t=t||[]).map(Vn),f=e.map(Vn),h=t.reduce(Yn,{}),p=e.reduce(Yn,{}),d=c.slice(),g=Object.create(null);for(r=0,i=0;r<c.length;r++)o=c[r],p.hasOwnProperty(o)?i++:(n.push({command:Dn.removeLayer,args:[o]}),d.splice(d.indexOf(o,i),1));for(r=0,i=0;r<f.length;r++)o=f[f.length-1-r],d[d.length-1-r]!==o&&(h.hasOwnProperty(o)?(n.push({command:Dn.removeLayer,args:[o]}),d.splice(d.lastIndexOf(o,d.length-i),1)):i++,u=d[d.length-r],n.push({command:Dn.addLayer,args:[p[o],u]}),d.splice(d.length-r,0,o),g[o]=!0);for(r=0;r<f.length;r++)if(a=h[o=f[r]],s=p[o],!g[o]&&!jn(a,s))if(jn(a.source,s.source)&&jn(a["source-layer"],s["source-layer"])&&jn(a.type,s.type)){for(l in qn(a.layout,s.layout,n,o,null,Dn.setLayoutProperty),qn(a.paint,s.paint,n,o,null,Dn.setPaintProperty),jn(a.filter,s.filter)||n.push({command:Dn.setFilter,args:[o,s.filter]}),jn(a.minzoom,s.minzoom)&&jn(a.maxzoom,s.maxzoom)||n.push({command:Dn.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]}),a)a.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?qn(a[l],s[l],n,o,l.slice(6),Dn.setPaintProperty):jn(a[l],s[l])||n.push({command:Dn.setLayerProperty,args:[o,l,s[l]]}));for(l in s)s.hasOwnProperty(l)&&!a.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?qn(a[l],s[l],n,o,l.slice(6),Dn.setPaintProperty):jn(a[l],s[l])||n.push({command:Dn.setLayerProperty,args:[o,l,s[l]]}))}else n.push({command:Dn.removeLayer,args:[o]}),u=d[d.lastIndexOf(o)+1],n.push({command:Dn.addLayer,args:[s,u]})}(o,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:Dn.setStyle,args:[e]}]}return n},e.expression=Er,e.featureFilter=function(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};En(t)||(t=Cn(t));var e=cn(t,On);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return{filter:function(t,n,r){return e.value.evaluate(t,n,{},r)},needGeometry:Array.isArray(t)&&0!==t.length&&"within"===t[0]}},e.format=function(t,e){return void 0===e&&(e=2),(t=a(t,i.$root)).layers&&(t.layers=t.layers.map((function(t){return a(t,i.layer)}))),function(t,e){var n,i,a;return e=e||{},n=JSON.stringify([1],void 0,void 0===e.indent?2:e.indent).slice(2,-3),i=""===n?1/0:void 0===e.maxLength?80:e.maxLength,a=e.replacer,function t(e,s,u){var l,c,f,h,p,d,g,y,m,v,_,b;if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0===(_=JSON.stringify(e,a)))return _;if(g=i-s.length-u,_.length<=g&&(m=_.replace(o,(function(t,e){return e||t+" "}))).length<=g)return m;if(null!=a&&(e=JSON.parse(_),a=void 0),"object"===(void 0===e?"undefined":r(e))&&null!==e){if(y=s+n,f=[],c=0,Array.isArray(e))for(v="[",l="]",g=e.length;c<g;c++)f.push(t(e[c],y,c===g-1?0:1)||"null");else for(v="{",l="}",g=(d=Object.keys(e)).length;c<g;c++)h=d[c],p=JSON.stringify(h)+": ",void 0!==(b=t(e[h],y,p.length+(c===g-1?0:1)))&&f.push(p+b);if(f.length>0)return[v,n+f.join(",\n"+y),l].join("\n"+s)}return _}(t,"",0)}(t,{indent:e})},e.function=Or,e.latest=i,e.migrate=function(t){var e=!1;if(7===t.version&&(t=function(t){t.version=8,L(t,(function(t){"video"===t.type&&void 0!==t.url&&U(t,"url","urls"),"video"===t.type&&t.coordinates.forEach((function(t){return t.reverse()}))})),R(t,(function(t){F(t,(function(t){void 0!==t["symbol-min-distance"]&&U(t,"symbol-min-distance","symbol-spacing")})),j(t,(function(t){void 0!==t["background-image"]&&U(t,"background-image","background-pattern"),void 0!==t["line-image"]&&U(t,"line-image","line-pattern"),void 0!==t["fill-image"]&&U(t,"fill-image","fill-pattern")}))})),k(t,{paint:!0,layout:!0},(function(e){var n=D(t,e.value);(function(t){return Array.isArray(t.stops)})(n)&&n.stops.forEach((function(e){e[1]=D(t,e[1])})),e.set(n)})),delete t.constants,R(t,(function(t){F(t,(function(t){delete t["text-max-size"],delete t["icon-max-size"]})),j(t,(function(e){e["text-size"]&&(t.layout||(t.layout={}),t.layout["text-size"]=e["text-size"],delete e["text-size"]),e["icon-size"]&&(t.layout||(t.layout={}),t.layout["icon-size"]=e["icon-size"],delete e["icon-size"])}))})),t.glyphs&&(t.glyphs=function(t){var e=A.parse(t),n=e.pathname.split("/");return"mapbox:"!==e.protocol?t:"fontstack"===e.hostname?"mapbox://fonts/mapbox/{fontstack}/{range}.pbf":"fonts"===e.hostname?"mapbox://fonts/"+n[2]+"/{fontstack}/{range}.pbf":void 0}(t.glyphs)),R(t,(function(t){F(t,(function(t){t["text-font"]&&(t["text-font"]=function(t){function e(t){return t.split(",").map((function(t){return t.trim()}))}if(Array.isArray(t))return t;if("string"==typeof t)return e(t);if("object"===(void 0===t?"undefined":r(t)))return t.stops.forEach((function(t){t[1]=e(t[1])})),t;throw new Error("unexpected font value")}(t["text-font"]))}))}));for(var e=0,n=t.layers.length-1;n>=0;n--)if("symbol"!==t.layers[n].type){e=n+1;break}var i=t.layers.splice(e);return i.reverse(),t.layers=t.layers.concat(i),t}(t),e=!0),8===t.version&&(e=function(t){var e=[];return R(t,(function(t){t.filter&&(t.filter=An(t.filter))})),k(t,{paint:!0,layout:!0},(function(t){var n=t.path,i=t.value,o=t.reference,a=t.set;ln(i)||("object"!==(void 0===i?"undefined":r(i))||Array.isArray(i)?o.tokens&&"string"==typeof i&&a(Sn(i)):(a(yn(i,o)),e.push(n.join("."))))})),t}(t),e=!0),!e)throw new Error("cannot migrate from",t.version);return t},e.v8=i,e.validate=br,e.validateMapboxApiSupported=function(t){var e=t;try{e=_r(e)}catch(t){return[t]}var n=gr(e,i).concat(function(t,e){var n=[],r=Sr(t,e.concat(["owner","id","cacheControl","draft","created","modified","visibility"]));return n.push.apply(n,r),(t.version>8||t.version<8)&&n.push(new Hn("version",t.version,"Style version must be 8")),xr(t.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||n.push(new Hn("glyphs",t.glyphs,"Styles must reference glyphs hosted by Mapbox")),xr(t.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||n.push(new Hn("sprite",t.sprite,"Styles must reference sprites hosted by Mapbox")),xr(t.visibility,/^(public|private)$/)||n.push(new Hn("visibility",t.visibility,"Style visibility must be public or private")),n}(e,Object.keys(i.$root)));return e.sources&&(n=n.concat(function(t){var e=[],n=0;return Object.keys(t).forEach((function(r,i){var o=function(t,e){var n=[];return n.push.apply(n,Sr(t,["type","url","tileSize"],"source")),xr(t.url,/^mapbox:\/\/([^/]*)$/)||n.push(new Hn("sources["+e+"]",t.url,"Source url must be a valid Mapbox tileset url")),n}(t[r],i);o.length||(n+=function(t){return t.url?t.url.split(",").length:0}(t[r])),e.push.apply(e,o)})),n>wr&&e.push(new Hn("sources",null,"Styles must contain "+wr+" or fewer sources")),e}(e.sources))),n},e.visit=Pr}).call(this,n(72),n(606).Buffer)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(14),o=u(n(75)),a=u(n(170)),s=n(78);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=(0,s.getXMLSerializer)(),e}return l(e,t),e.prototype.getType=function(){return a.default.XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var n=(0,s.parse)(t);return this.readFeatureFromDocument(n,e)}return(0,s.isDocument)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var n=(0,s.parse)(t);return this.readFeaturesFromDocument(n,e)}return(0,s.isDocument)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var n=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&(0,i.extend)(n,this.readFeaturesFromNode(r,e));return n},e.prototype.readFeaturesFromNode=function(t,e){return(0,r.abstract)()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var n=(0,s.parse)(t);return this.readGeometryFromDocument(n,e)}return(0,s.isDocument)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=(0,s.parse)(t);return this.readProjectionFromDocument(e)}return(0,s.isDocument)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeGeometryNode=function(t,e){return null},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readBoolean=function(t){return o((0,r.getAllTextContent)(t,!1))},e.readBooleanString=o,e.readDateTime=function(t){var e=(0,r.getAllTextContent)(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3},e.readDecimal=function(t){return a((0,r.getAllTextContent)(t,!1))},e.readDecimalString=a,e.readNonNegativeInteger=function(t){return s((0,r.getAllTextContent)(t,!1))},e.readNonNegativeIntegerString=s,e.readString=function(t){return(0,r.getAllTextContent)(t,!1).trim()},e.writeBooleanTextNode=function(t,e){u(t,e?"1":"0")},e.writeCDATASection=function(t,e){t.appendChild((0,r.getDocument)().createCDATASection(e))},e.writeDateTimeTextNode=function(t,e){var n=new Date(1e3*e),o=n.getUTCFullYear()+"-"+(0,i.padNumber)(n.getUTCMonth()+1,2)+"-"+(0,i.padNumber)(n.getUTCDate(),2)+"T"+(0,i.padNumber)(n.getUTCHours(),2)+":"+(0,i.padNumber)(n.getUTCMinutes(),2)+":"+(0,i.padNumber)(n.getUTCSeconds(),2)+"Z";t.appendChild((0,r.getDocument)().createTextNode(o))},e.writeDecimalTextNode=function(t,e){var n=e.toPrecision();t.appendChild((0,r.getDocument)().createTextNode(n))},e.writeNonNegativeIntegerTextNode=function(t,e){var n=e.toString();t.appendChild((0,r.getDocument)().createTextNode(n))},e.writeStringTextNode=u;var r=n(78),i=n(225);function o(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function a(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function s(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function u(t,e){t.appendChild((0,r.getDocument)().createTextNode(e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.finishService=function(){return{type:r.SERVICE.FINISH}},e.startService=function(t){return{type:r.SERVICE.START,service:t}},e.showServiceForm=function(t){return{type:r.SERVICE.SHOW_FORM,show:t}};var r=n(28)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asColorLike=function(t){return Array.isArray(t)?(0,r.toString)(t):t};var r=n(147)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.getLegend=function(t,e,n){var r=!0,i=!1,o=void 0;try{for(var a,s=t.layers[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.name===n&&void 0!==u.legend&&null!==u.legend){if("html"===u.legend.type)return{type:"html",html:u.legend.contents};if("img"===u.legend.type)return{type:"img",images:[u.legend.contents]};if("nolegend"===u.legend.type)return{type:"nolegend"}}}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}switch(t.type){case"wms":return R.getLegend(t,e,n);default:return{type:"nolegend"}}};var o=H(n(2)),a=n(9),s=H(n(794)),u=n(22),l=H(n(79)),c=H(n(669)),f=Y(n(27)),h=Y(n(37)),p=n(234),d=Y(n(16)),g=Y(n(323)),y=H(n(114)),m=H(n(324)),v=H(n(143)),_=H(n(673)),b=H(n(119)),w=H(n(121)),x=Y(n(5)),S=H(n(339)),E=H(n(152)),O=H(n(341)),P=Y(n(78)),C=H(n(66)),T=H(n(353)),N=n(351),I=H(N),M=H(n(352)),A=Y(n(41)),L=H(n(349)),R=Y(n(718)),k=Y(n(727)),F=Y(n(735)),j=Y(n(737)),D=Y(n(750)),U=Y(n(752)),G=n(305),z=n(90),B=H(n(755)),q=H(n(756)),V=H(n(757));function Y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function H(t){return t&&t.__esModule?t:{default:t}}var W=new y.default,X=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.olLayers={},t.currentInteraction=null,t.intervals={},t.updateMapSize=t.updateMapSize.bind(t),t.sketchFeature=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Component),i(e,[{key:"updateSource",value:function(t){var e=this.props.mapSources[t],n=this.olLayers[t];switch(e.type){case"wms":R.updateLayer(this.map,n,e);break;case"xyz":k.updateLayer(this.map,n,e);break;case"ags":F.updateLayer(this.map,n,e);break;case"vector":case"wfs":case"ags-vector":case"geojson":j.updateLayer(this.map,n,e,this.props.mapView.interactionType);break;case"bing":D.updateLayer(this.map,n,e);break;case"usng":U.updateLayer(this.map,n,e);break;default:console.info("Unhandled map-source type: "+e.type)}}},{key:"createLayer",value:function(t){switch(t.type){case"wms":return R.createLayer(t);case"xyz":return k.createLayer(t);case"ags":return F.createLayer(t);case"vector":case"wfs":case"ags-vector":case"geojson":return j.createLayer(t);case"bing":return D.createLayer(t);case"usng":return U.createLayer(t);default:throw new Error("Unhandled creation of map-source type: "+t.type)}}},{key:"wmsGetFeatureInfoQuery",value:function(t,e,n){var r=this,i=this.map.getView().getProjection(),o=this.props.mapView,a=d.getMapSourceName(n),s=function(e){r.props.store.dispatch(h.resultsForQuery(t,n,!0,[],e)),setTimeout((function(){r.checkQueryForCompleteness(t,n)}),200)},u=e.filter((function(t){return t.geometry&&"Point"===t.geometry.type}));if(0!==u.length){var l=u[0].geometry.coordinates,c=this.olLayers[a].getSource(),f={FEATURE_COUNT:1e3,QUERY_LAYERS:d.getLayerName(n),INFO_FORMAT:"application/vnd.ogc.gml"},p=c.getFeatureInfoUrl(l,o.resolution,i.getCode(),f);fetch(p,{headers:{"Access-Control-Request-Headers":"*"}}).then((function(t){return t.text()})).then((function(e){if(e){var i=(new _.default).readFeatures(e),o=W.writeFeaturesObject(i).features;r.props.store.dispatch(h.resultsForQuery(t,n,!1,o))}else s();r.checkQueryForCompleteness(t,n)})).catch((function(e,i){s(),r.checkQueryForCompleteness(t,n)}))}else s("No valid selection geometry.")}},{key:"checkQueryForCompleteness",value:function(t,e){var n=this.props.queries[t],r=!0;if(n&&n.layers){var i=!0,o=!1,a=void 0;try{for(var s,u=n.layers[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;r=r&&(n.results[l]||l===e)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}else n&&n.layers.length>0&&(r=!1);r&&(n.runOptions&&n.runOptions.zoomToResults&&this.props.zoomToResults(n),this.props.store.dispatch(h.finishQuery(t)))}},{key:"wfsGetFeatureQuery",value:function(t,e,n){var i=this,o=this.map.getView().getProjection(),a=d.getMapSourceName(n),s=this.props.mapSources[a],u=o;s.wgs84Hack&&(u=new x.get("EPSG:4326"));var l=this.olLayers[a];l||(l=this.createLayer(s));var c="text/xml; subtype=gml/2.1.2";s.params.outputFormat&&(c=s.params.outputFormat);var f=(0,G.buildWfsQuery)(e,s,o,c),p=s.urls[0]+"?"+d.formatUrlParameters(s.params),g=c.toLowerCase().indexOf("json")>0;fetch(p,{method:"POST",body:f,headers:{"Access-Control-Request-Headers":"*"}}).then((function(t){return t.text()})).then((function(e){if(e)if(e.search(/(ows|wfs):exception/i)>=0){for(var a=P.parse(e),l=["ows:ExceptionText","wfs:ExceptionText"],c="",f=0,p=l.length;f<p;f++)for(var m=a.getElementsByTagName(l[f]),_=0,b=m.length;_<b;_++)c+=P.getAllTextContent(m[_])+"\n";void 0!==("undefined"==typeof console?"undefined":r(console))&&console.error(c),i.props.store.dispatch(h.resultsForQuery(t,n,!0,[],c))}else{var w=[];if(g)w=JSON.parse(e).features;else{var x=(new v.default).readFeatures(e,{featureProjection:o,dataProjection:u}),S=new y.default,E=!0,O=!1,C=void 0;try{for(var T,N=x[Symbol.iterator]();!(E=(T=N.next()).done);E=!0){var I=T.value,M=S.writeFeatureObject(I);M.properties.boundedBy=I.getGeometry().getExtent(),w.push(M)}}catch(t){O=!0,C=t}finally{try{!E&&N.return&&N.return()}finally{if(O)throw C}}}w=d.transformFeatures(s.transforms,w),i.props.store.dispatch(h.resultsForQuery(t,n,!1,w))}i.checkQueryForCompleteness(t,n)})).catch((function(){i.props.store.dispatch(h.resultsForQuery(t,n,!0,[],"Server error. Check network logs.")),i.checkQueryForCompleteness(t,n)}))}},{key:"agsFeatureQuery",value:function(t,e,n){var r=this,i=d.getMapSourceName(n),o=this.props.mapSources[i],a=this.olLayers[i];a||(a=this.createLayer(o));var s=function(t){return t.replace("*","%")},u=function(t,e,n){return"number"==typeof n?e+" "+t+" "+n:e+" "+t+" '"+n+"'"},l={like:function(t,e){return t+" like '"+s(e)+"'"},ilike:function(t,e){return"upper("+t+") like upper('"+s(e)+"')"},eq:function(t,e){return u("=",t,e)},ge:function(t,e){return u(">=",t,e)},gt:function(t,e){return u(">",t,e)},le:function(t,e){return u("<=",t,e)},lt:function(t,e){return u("<",t,e)}},c=new m.default,f={f:"json",returnGeometry:"true",spatialReference:JSON.stringify({wkid:102100}),inSR:102100,outSR:102100,outFields:"*"};if(e.selection.length>0){var p=e.selection[0].geometry;if("Point"===p.type){var g=2*this.map.getView().getResolution(),v=p.coordinates;p.type="Polygon",p.coordinates=[[[v[0]+g,v[1]+g],[v[0]+g,v[1]-g],[v[0]-g,v[1]-g],[v[0]-g,v[1]+g]]]}var _=W.readGeometry(p);f.geometryType={Point:"esriGeometryPoint",MultiPoint:"esriGeometryMultipoint",LineString:"esriGeometryPolyline",Polygon:"esriGeometryPolygon"}[p.type],f.geometry=c.writeGeometry(_),f.spatialRel="esriSpatialRelIntersects"}var b=[],w=!0,x=!1,S=void 0;try{for(var E,O=e.fields[Symbol.iterator]();!(w=(E=O.next()).done);w=!0){var P=E.value;b.push(l[P.comparitor](P.name,P.value))}}catch(t){x=!0,S=t}finally{try{!w&&O.return&&O.return()}finally{if(x)throw S}}f.where=b.join(" and ");var C=Object.assign({},f,o.params),T=o.urls[0]+"/query/";d.xhr({url:T,method:"get",type:"jsonp",data:C,success:function(e){if(e)if(e.error&&200!==e.error.code)console.error(e.error),r.props.store.dispatch(h.resultsForQuery(t,n,!0,[]));else{var i=c.readFeatures(e),a=new y.default,s=[],u=!0,l=!1,f=void 0;try{for(var p,g=i[Symbol.iterator]();!(u=(p=g.next()).done);u=!0){var m=p.value,v=a.writeFeatureObject(m);v.properties.boundedBy=m.getGeometry().getExtent(),s.push(v)}}catch(t){l=!0,f=t}finally{try{!u&&g.return&&g.return()}finally{if(l)throw f}}s=d.transformFeatures(o.transforms,s),r.props.store.dispatch(h.resultsForQuery(t,n,!1,s))}},error:function(){r.props.store.dispatch(h.resultsForQuery(t,n,!0,[]))},complete:function(){r.checkQueryForCompleteness(t,n)}})}},{key:"vectorLayerQuery",value:function(t,e,n){var r=d.getMapSourceName(n),i=this.props.mapSources[r],o=this.olLayers[r];o||(o=this.createLayer(i));var a=o.getSource(),s=new y.default,u=[],l=e.selection[0];if(l&&l.geometry&&"Point"===l.geometry.type){var c=l.geometry.coordinates;a.forEachFeatureAtCoordinateDirect(c,(function(t){var e=s.writeFeatureObject(t);null!==e.properties&&u.push(e)}))}this.props.store.dispatch(h.resultsForQuery(t,n,!1,u)),this.checkQueryForCompleteness(t,n)}},{key:"runQuery",value:function(t,e){var n=t[e];n.layers&&0!==n.layers.length||this.props.finishQuery(e);var r=!0,i=!1,o=void 0;try{for(var a,s=n.layers[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=d.getMapSourceName(u);switch(this.props.mapSources[l].type){case"wms":this.wmsGetFeatureInfoQuery(e,n.selection,u);break;case"wfs":this.wfsGetFeatureQuery(e,n,u);break;case"ags-vector":this.agsFeatureQuery(e,n,u);break;case"geojson":case"vector":this.vectorLayerQuery(e,n,u)}}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"checkQueries",value:function(t){for(var e in t){var n=t[e];n&&"new"===n.progress&&n.layers.length>0&&(this.props.store.dispatch(h.startQuery(e)),this.runQuery(t,e))}if(t.order.length>0){var r=t.order[0],i=t[r];if("finished"===i.progress){var o=JSON.stringify(i.filter),a=(0,c.default)(o);this.currentQueryId===r&&this.currentQueryFilter===a||(this.renderQueryLayer(i),this.currentQueryId=r,this.currentQueryFilter=a)}}else{var s=this.props.mapSources.results;s&&s.features&&s.features.length>0&&this.props.store.dispatch(f.clearFeatures("results","results"))}}},{key:"removeRefreshInterval",value:function(t){this.intervals[t]&&(clearInterval(this.intervals[t]),delete this.intervals[t])}},{key:"refreshLayer",value:function(t){switch(t.type){case"wms":var e=this.olLayers[t.name].getSource(),n=e.getParams();n[".ck"]=l.default.v4(),e.updateParams(n)}}},{key:"createRefreshInterval",value:function(t){var e=this;this.intervals.hasOwnProperty(t.name)||(this.intervals[t.name]=setInterval((function(){e.refreshLayer(t)}),1e3*t.refresh))}},{key:"renderQueryLayer",value:function(t){if(this.props.mapSources.results){this.props.store.dispatch(f.clearFeatures("results","results"));var e=Object.keys(t.results)[0];if(!0!==t.results[e].failed){var n=d.matchFeatures(t.results[e],t.filter);this.props.store.dispatch(f.addFeatures("results",n))}}else console.error('No "results" layer has been defined, cannot do smart query rendering.')}},{key:"refreshMapSources",value:function(){var t=!0===this.props.printOnly,e=f.getActiveMapSources(this.props.mapSources,t);for(var n in this.olLayers)e.indexOf(n)<0&&(this.olLayers[n].setVisible(!1),this.removeRefreshInterval(n));var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,l=this.props.mapSources[u];this.olLayers[u]?(this.updateSource(u),this.olLayers[u].setVisible(!0)):(this.olLayers[u]=this.createLayer(l),this.map.addLayer(this.olLayers[u])),this.olLayers[u].setZIndex(l.zIndex),this.olLayers[u].setOpacity(l.opacity),null!==l.refresh?this.createRefreshInterval(l):null===l.refresh&&this.intervals[u]&&this.removeRefreshInterval(u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"addSelectionFeatures",value:function(t,e){var n=t.map((function(t){return W.writeFeatureObject(t)})),r=0===e||isNaN(e)?0:e,i=n;if(0!==r){var o=d.projectFeatures(n,"EPSG:3857","EPSG:4326");i=d.projectFeatures(o.map((function(t){var e=g.bufferFeature(t,r);return e.properties={buffer:!0},e})),"EPSG:4326","EPSG:3857")}this.props.setSelectionFeatures(n),this.props.setFeatures("selection",i)}},{key:"configureSelectionLayer",value:function(){var t=new b.default;this.selectionLayer=new w.default({source:t}),j.applyStyle(this.selectionLayer,{layers:[{on:!0,style:this.props.selectionStyle}]})}},{key:"componentDidMount",value:function(){var t=this;this.configureSelectionLayer();var e={};this.props.center?(e.center=this.props.center,this.props.zoom?e.zoom=this.props.zoom:this.props.resolution&&(e.resolution=this.props.resolution)):(e.center=this.props.mapView.center,this.props.mapView.zoom?e.zoom=this.props.mapView.zoom:e.resolution=this.props.mapView.resolution),this.props.config.view&&["extent","center","zoom","maxZoom","minZoom"].forEach((function(n){t.props.config.view[n]&&(e[n]=t.props.config.view[n])})),this.map=new O.default({target:this.mapDiv,layers:[this.selectionLayer],logo:!1,view:new E.default(e),controls:function(t){var e=[];!1!==t.allowRotate&&e.push(new L.default);var n=Object.assign({enabled:!1,units:"metric"},t.scaleLine);return!1!==n.enabled&&e.push(new S.default({units:n.units})),e}(this.props.config)}),this.map.on("moveend",(function(){var e=t.map.getView();t.props.store.dispatch(h.setView({center:e.getCenter(),resolution:e.getResolution(),zoom:e.getZoom()}))})),this.map.on("pointermove",(function(e){var n=h.cursor(e.coordinate);if(t.props.store.dispatch(n),t.sketchFeature){var r=d.geomToJson(t.sketchFeature.getGeometry());t.props.store.dispatch(h.updateSketchGeometry(r))}})),this.props.mapRenderedCallback&&this.map.on("postrender",this.props.mapRenderedCallback),this.refreshMapSources()}},{key:"activateDrawTool",value:function(t,e,n){var r=this,i=null===e,o=d.getMapSourceName(e),a=this.props.mapSources[o];void 0===t&&(t=null);var s=this.selectionLayer.getSource();if(i||(s=this.olLayers[o].getSource()),this.stopDrawing(),this.currentInteraction=t,null!==t){if("Select"===t)this.drawTool=new T.default({toggleCondition:A.shiftKeyOnly,layers:[this.olLayers[o]]}),this.drawTool.on("select",(function(t){var e=t.target.getFeatures();r.addSelectionFeatures(e.getArray(),r.props.selectionBuffer)}));else if("Modify"===t||"Edit"===t||"Remove"===t){var u=null;try{u=f.getLayerFromPath(this.props.mapSources,e)}catch(t){}var l=function(n){r.props.setEditPath(e),r.props.setFeatures(z.EDIT_LAYER_NAME,n,!0),"Remove"===t?r.props.removeFeature(e,n[0]):n&&n.length>0&&("Edit"===t?r.props.onEditProperties(n[0]):"Modify"===t&&r.props.changeTool("_Modify",z.EDIT_LAYER_NAME+"/"+z.EDIT_LAYER_NAME))};if(["wfs","vector","geojson"].indexOf(a.type)>=0)this.drawTool=new T.default({layers:[this.olLayers[o]],style:null}),this.drawTool.on("select",(function(t){l([W.writeFeatureObject(t.selected[0])])}));else if(u&&u.queryAs.length>0){var c=this.olLayers[z.EDIT_LAYER_NAME].getSource();this.drawTool=new I.default({type:"Point",source:c}),this.drawTool.on("drawend",(function(t){var e=d.getMapSourceName(u.queryAs[0]),n=r.props.mapSources[e],i=d.featureToJson(t.feature),o=r.map.getView().getProjection(),a=10;try{n.config["pixel-tolerance"]&&(a=parseFloat(n.config["pixel-tolerance"]))}catch(t){}if(a>0){var s=a*r.props.mapView.resolution;i=d.getSquareBuffer(i.geometry.coordinates,s)}c.clear(),(0,G.wfsGetFeatures)({selection:[i],fields:[]},n,o).then((function(t){l(t)}))}))}}else if("_Modify"===t){var p=s.getFeatures();this.drawTool=new M.default({features:new C.default(p)})}else{var g=this.olLayers[z.EDIT_LAYER_NAME].getSource(),y={type:t};"Box"===t&&(y.type="Circle",y.geometryFunction=(0,N.createBox)()),this.drawTool=new I.default(y),!0===n&&"MultiPoint"!==t?this.drawTool.on("drawstart",(function(t){s.clear(),r.sketchFeature=t.feature})):this.drawTool.on("drawstart",(function(t){r.sketchFeature=t.feature})),i?this.drawTool.on("drawend",(function(e){r.sketchFeature=null,r.props.store.dispatch(h.updateSketchGeometry(null));var n=[e.feature];"MultiPoint"===t&&(n=r.selectionLayer.getSource().getFeatures()).push(e.feature),r.addSelectionFeatures(n,r.props.selectionBuffer)})):this.drawTool.on("drawend",(function(t){var n=W.writeFeatureObject(t.feature);g.clear(),r.props.saveFeature(e,n),r.sketchFeature=null,r.props.store.dispatch(h.updateSketchGeometry(null))}))}this.drawTool&&this.map.addInteraction(this.drawTool)}}},{key:"stopDrawing",value:function(){this.drawTool&&(this.map.removeInteraction(this.drawTool),this.drawTool=null,this.currentInteraction=null)}},{key:"updateMapSize",value:function(){if(this.map&&this.mapDiv){this.map.updateSize();var t=this.mapDiv.getElementsByTagName("canvas");if(t&&t[0]&&"none"!==t[0].style.display)return!0}return!1}},{key:"componentDidUpdate",value:function(t){if(this.props.mapView.extent){var e=this.props.mapView.extent.bbox,n=this.props.mapView.extent.projection;if(n){var r=this.map.getView().getProjection();e=x.transformExtent(e,x.get(n),r)}this.map.getView().fit(e,{size:this.map.getSize()})}else if(this.props.mapView){var i=this.map.getView(),o=this.props.mapView,a=i.getCenter(),s=i.getResolution();a[0]===o.center[0]&&a[1]===o.center[1]&&s===o.resolution||(this.map.getView().setCenter(o.center),this.map.getView().setResolution(o.resolution)),o.zoom&&i.getZoom()!==o.zoom&&this.map.getView().setZoom(o.zoom)}if(this.selectionLayer){if(this.props.selectionBuffer!==t.selectionBuffer){var u=this.props.selectionFeatures.map((function(t){return W.readFeature(t)}));u.length>0&&this.addSelectionFeatures(u,this.props.selectionBuffer)}if(this.props.selectionFeatures!==t.selectionFeatures){var l=this.selectionLayer.getSource();l.clear(),this.props.selectionFeatures.forEach((function(t){l.addFeature(W.readFeature(t))}))}}if(this.checkQueries(this.props.queries),this.map){this.refreshMapSources();var c=this.props.mapView.interactionType;if(c!==t.mapView.interactionType||this.props.mapView.activeSource!==t.mapView.activeSource||c!==this.currentInteraction){var f=null===this.props.mapView.activeSource;if(this.activateDrawTool(this.props.mapView.interactionType,this.props.mapView.activeSource,f),["Polygon","LineString","Box","Point","MultiPoint"].indexOf(this.props.mapView.interactionType)>=0){var h={Box:"Polygon",MultiPoint:"Point"},p=this.props.selectionFeatures.filter((function(t){return t.geometry.type===c||void 0!==h[c]&&t.geometry.type===h[c]}));this.props.setSelectionFeatures(p),this.props.setFeatures("selection",p)}}}}},{key:"render",value:function(){var t=this;this.map&&setTimeout(this.updateMapSize,250);var e=this.updateMapSize;if(!e())var n=setInterval((function(){e()&&clearInterval(n)}),250);var r=this.props.config||{},i=!0===r.enableZoomJump;return o.default.createElement("div",{className:"map",ref:function(e){t.mapDiv=e}},o.default.createElement(B.default,{store:this.props.store}),o.default.createElement(s.default,{handleWidth:!0,handleHeight:!0,onResize:this.updateMapSize}),o.default.createElement("div",{className:"map-tools"},i&&o.default.createElement(q.default,{store:this.props.store}),o.default.createElement(V.default,{saveFeature:this.props.saveFeature,editPath:this.props.mapView.editPath,olLayers:this.olLayers,setFeatures:this.props.setFeatures,changeTool:this.props.changeTool,interactionType:this.props.mapView.interactionType,activeSource:this.props.mapView.activeSource,setZoom:this.props.setZoom,zoom:this.props.mapView.zoom,showZoom:!0===r.showZoom})))}}]),e}();X.defaultProps={services:{}},e.default=(0,a.connect)((function(t){return{mapSources:t.mapSources,mapView:t.map,queries:t.query,serviceName:t.query.service,config:t.config.map||{},selectionStyle:t.config.selectionStyle||{},selectionBuffer:d.convertLength(t.map.selectionBuffer,t.map.selectionBufferUnits,"m"),selectionFeatures:t.map.selectionFeatures}}),(function(t){return{changeTool:function(e,n){t(h.changeTool(e,n))},finishQuery:function(e){t(h.finishQuery(e))},onEditProperties:function(e){t((0,p.setEditFeature)(e))},setSelectionFeatures:function(e){t(h.clearSelectionFeatures()),e.forEach((function(e){t(h.addSelectionFeature(e))}))},setFeatures:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t(f.clearFeatures(e)),t(f.addFeatures(e,n,r))},zoomToResults:function(e){var n=d.getExtentForQuery(e.results);n&&t(h.zoomToExtent(n))},setEditPath:function(e){return t(h.setEditPath(e))},saveFeature:function(e,n){t(f.saveFeature(e,n))},setZoom:function(e){return t(h.setView({zoom:e}))},removeFeature:function(e,n){t((0,p.removeFeature)(e,n))}}}))((0,u.withTranslation)()(X))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(153),i=n(11),o=d(n(729)),a=d(n(247)),s=d(n(60)),u=d(n(8)),l=n(5),c=d(n(731)),f=d(n(356)),h=n(84),p=n(96);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:m,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:o.default,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return g(e,t),e.prototype.canExpireCache=function(){if(!r.ENABLE_RASTER_REPROJECTION)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(r.ENABLE_RASTER_REPROJECTION){var i=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getGutterForProjection=function(t){return r.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,l.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(r.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!(0,l.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!r.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!(0,l.equivalent)(n,e)){var o=(0,i.getUid)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=(0,p.getForProjection)(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!r.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||(0,l.equivalent)(n,e))return this.tileCache;var o=(0,i.getUid)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new a.default(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,n,r,i,o){var a=[t,e,n],l=this.getTileCoordForTileUrlFunction(a,i),c=l?this.tileUrlFunction(l,r,i):void 0,f=new this.tileClass(a,void 0!==c?s.default.IDLE:s.default.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=o,f.addEventListener(u.default.CHANGE,this.handleTileChange.bind(this)),f},e.prototype.getTile=function(t,e,n,i,o){var a=this.getProjection();if(r.ENABLE_RASTER_REPROJECTION&&a&&o&&!(0,l.equivalent)(a,o)){var s=this.getTileCacheForProjection(o),u=[t,e,n],f=void 0,p=(0,h.getKey)(u);s.containsKey(p)&&(f=s.get(p));var d=this.getKey();if(f&&f.key==d)return f;var g=this.getTileGridForProjection(a),y=this.getTileGridForProjection(o),m=this.getTileCoordForTileUrlFunction(u,o),v=new c.default(a,g,o,y,u,m,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return v.key=d,f?(v.interimTile=f,v.refreshInterimChain(),s.replace(p,v)):s.set(p,v),v}return this.getTileInternal(t,e,n,i,a||o)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,a=(0,h.getKeyZXY)(t,e,n),u=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=u){var l=o;o=this.createTile_(t,e,n,r,i,u),l.getState()==s.default.IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,r,i,u),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(r.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(r.ENABLE_RASTER_REPROJECTION){var n=(0,l.get)(t);if(n){var o=(0,i.getUid)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(f.default);function m(t,e){t.getImage().src=e}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(60)),i=n(93),o=u(n(128)),a=u(n(8)),s=n(11);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return l(e,t),e.prototype.changed=function(){this.dispatchEvent(a.default.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r.default.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r.default.LOADED){t.interimTile=null;break}t.getState()==r.default.LOADING?e=t:t.getState()==r.default.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==r.default.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){(0,s.abstract)()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:(0,i.easeIn)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(734)),i=o(n(360));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default);e.default=s},function(t,e,n){"use strict";n.r(e);var r=n(0),i={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},o={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},a=/[\s_\-\/\(\)]/g;function s(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(a,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(a,"")===i)return t[n]}var u=function(t){var e,n,a,u={},l=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),c={proj:"projName",datum:"datumCode",rf:function(t){u.rf=parseFloat(t)},lat_0:function(t){u.lat0=t*r.D2R},lat_1:function(t){u.lat1=t*r.D2R},lat_2:function(t){u.lat2=t*r.D2R},lat_ts:function(t){u.lat_ts=t*r.D2R},lon_0:function(t){u.long0=t*r.D2R},lon_1:function(t){u.long1=t*r.D2R},lon_2:function(t){u.long2=t*r.D2R},alpha:function(t){u.alpha=parseFloat(t)*r.D2R},lonc:function(t){u.longc=t*r.D2R},x_0:function(t){u.x0=parseFloat(t)},y_0:function(t){u.y0=parseFloat(t)},k_0:function(t){u.k0=parseFloat(t)},k:function(t){u.k0=parseFloat(t)},a:function(t){u.a=parseFloat(t)},b:function(t){u.b=parseFloat(t)},r_a:function(){u.R_A=!0},zone:function(t){u.zone=parseInt(t,10)},south:function(){u.utmSouth=!0},towgs84:function(t){u.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){u.to_meter=parseFloat(t)},units:function(t){u.units=t;var e=s(o,t);e&&(u.to_meter=e.to_meter)},from_greenwich:function(t){u.from_greenwich=t*r.D2R},pm:function(t){var e=s(i,t);u.from_greenwich=(e||parseFloat(t))*r.D2R},nadgrids:function(t){"@null"===t?u.datumCode="none":u.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(u.axis=t)}};for(e in l)n=l[e],e in c?"function"==typeof(a=c[e])?a(n):u[a]=n:u[e]=n;return"string"==typeof u.datumCode&&"WGS84"!==u.datumCode&&(u.datumCode=u.datumCode.toLowerCase()),u},l=1,c=/\s/,f=/[A-Za-z]/,h=/[A-Za-z84]/,p=/[,\]]/,d=/[\d\.E\-\+]/;function g(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=l}function y(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return m(e,t),t}),r);e&&(t[e]=i)}function m(t,e){if(Array.isArray(t)){var n,r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void m(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&m(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&m(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void y(e,r,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return m(t,e[r]);return y(e,r,t)}else e[r]=t;else e[r]=!0}else e[t]=!0}g.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;c.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case l:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},g.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(p.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},g.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=l)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=l,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},g.prototype.number=function(t){if(!d.test(t)){if(p.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},g.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},g.prototype.keyword=function(t){if(h.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=l)}if(!p.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},g.prototype.neutral=function(t){if(f.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(d.test(t))return this.word=t,void(this.state=3);if(!p.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},g.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var v=.017453292519943295;function _(t){return t*v}var b=function(t){var e=function(t){return new g(t).output()}(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return m(e,i),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",_],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",_],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",_],["lat0","latitude_of_origin",_],["lat0","standard_parallel_1",_],["lat1","standard_parallel_1",_],["lat2","standard_parallel_2",_],["azimuth","Azimuth"],["alpha","azimuth",_],["srsCode","name"]].forEach((function(e){return function(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}(t,e)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=_(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i};function w(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?w[t]=u(arguments[1]):w[t]=b(arguments[1]):w[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?w.apply(e,t):w(t)}));if("string"==typeof t){if(t in w)return w[t]}else"EPSG"in t?w["EPSG:"+t.EPSG]=t:"ESRI"in t?w["ESRI:"+t.ESRI]=t:"IAU2000"in t?w["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(w);var x=w,S=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],E=["3857","900913","3785","102113"],O=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in x}(t))return x[t];if(function(t){return S.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=b(t);if(function(t){var e=s(t,"authority");if(e){var n=s(e,"epsg");return n&&E.indexOf(n)>-1}}(e))return x["EPSG:3857"];var n=function(t){var e=s(t,"extension");if(e)return s(e,"proj4")}(e);return n?u(n):e}return function(t){return"+"===t[0]}(t)?u(t):void 0},P=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},C=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},T=n(3),N=function(t,e,n){var i=t*n,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(r.HALF_PI-e))/i},I=function(t,e){for(var n,i,o=.5*t,a=r.HALF_PI-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=i=r.HALF_PI-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-a,Math.abs(i)<=1e-10)return a;return-9999};function M(t){return t}var A=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=C(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,o=t.y;if(o*r.R2D>90&&o*r.R2D<-90&&i*r.R2D>180&&i*r.R2D<-180)return null;if(Math.abs(Math.abs(o)-r.HALF_PI)<=r.EPSLN)return null;if(this.sphere)e=this.x0+this.a*this.k0*Object(T.default)(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(r.FORTPI+.5*o));else{var a=Math.sin(o),s=N(this.e,o,a);e=this.x0+this.a*this.k0*Object(T.default)(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,o=t.y-this.y0;if(this.sphere)n=r.HALF_PI-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var a=Math.exp(-o/(this.a*this.k0));if(-9999===(n=I(this.e,a)))return null}return e=Object(T.default)(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:M,inverse:M,names:["longlat","identity"]}],L={},R=[];function k(t,e){var n=R.length;return t.names?(R[n]=t,t.names.forEach((function(t){L[t.toLowerCase()]=n})),this):(console.log(e),!0)}var F={start:function(){A.forEach(k)},add:k,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==L[e]&&R[L[e]]?R[L[e]]:void 0}},j={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},D=j.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};j.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var U={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},G=function(t,e,n,i,o,a){var s={};return s.datum_type=void 0===t||"none"===t?r.PJD_NODATUM:r.PJD_WGS84,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=r.PJD_3PARAM),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=r.PJD_7PARAM,s.datum_params[3]*=r.SEC_TO_RAD,s.datum_params[4]*=r.SEC_TO_RAD,s.datum_params[5]*=r.SEC_TO_RAD,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=i,s.es=o,s.ep2=a,s};function z(t,e){if(!(this instanceof z))return new z(t);e=e||function(t){if(t)throw t};var n=O(t);if("object"==typeof n){var i=z.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var o=s(U,n.datumCode);o&&(n.datum_params=o.towgs84?o.towgs84.split(","):null,n.ellps=o.ellipse,n.datumName=o.datumName?o.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var a=function(t,e,n,i,o){if(!t){var a=s(j,i);a||(a=D),t=a.a,e=a.b,n=a.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<r.EPSLN)&&(o=!0,e=t),{a:t,b:e,rf:n,sphere:o}}(n.a,n.b,n.rf,n.ellps,n.sphere),u=function(t,e,n,i){var o=t*t,a=e*e,s=(o-a)/o,u=0;return i?(o=(t*=1-s*(r.SIXTH+s*(r.RA4+s*r.RA6)))*t,s=0):u=Math.sqrt(s),{es:s,e:u,ep2:(o-a)/a}}(a.a,a.b,a.rf,n.R_A),l=n.datum||G(n.datumCode,n.datum_params,a.a,a.b,u.es,u.ep2);P(this,n),P(this,i),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=u.es,this.e=u.e,this.ep2=u.ep2,this.datum=l,this.init(),e(null,this)}else e(t)}else e(t)}z.projections=F,z.projections.start();var B=z;function q(t,e,n){var i,o,a,s,u=t.x,l=t.y,c=t.z?t.z:0;if(l<-r.HALF_PI&&l>-1.001*r.HALF_PI)l=-r.HALF_PI;else if(l>r.HALF_PI&&l<1.001*r.HALF_PI)l=r.HALF_PI;else{if(l<-r.HALF_PI)return{x:-1/0,y:-1/0,z:t.z};if(l>r.HALF_PI)return{x:1/0,y:1/0,z:t.z}}return u>Math.PI&&(u-=2*Math.PI),o=Math.sin(l),s=Math.cos(l),a=o*o,{x:((i=n/Math.sqrt(1-e*a))+c)*s*Math.cos(u),y:(i+c)*s*Math.sin(u),z:(i*(1-e)+c)*o}}function V(t,e,n,i){var o,a,s,u,l,c,f,h,p,d,g,y,m,v,_,b=t.x,w=t.y,x=t.z?t.z:0;if(o=Math.sqrt(b*b+w*w),a=Math.sqrt(b*b+w*w+x*x),o/n<1e-12){if(v=0,a/n<1e-12)return r.HALF_PI,_=-i,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(w,b);s=x/a,h=(u=o/a)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*u*u)),p=s*l,m=0;do{m++,c=e*(f=n/Math.sqrt(1-e*p*p))/(f+(_=o*h+x*p-f*(1-e*p*p))),y=(g=s*(l=1/Math.sqrt(1-c*(2-c)*u*u)))*h-(d=u*(1-c)*l)*p,h=d,p=g}while(y*y>1e-24&&m<30);return{x:v,y:Math.atan(g/Math.abs(d)),z:_}}function Y(t){return t===r.PJD_3PARAM||t===r.PJD_7PARAM}var H=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===r.PJD_3PARAM?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==r.PJD_7PARAM||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:t.datum_type===r.PJD_NODATUM||e.datum_type===r.PJD_NODATUM?n:t.es!==e.es||t.a!==e.a||Y(t.datum_type)||Y(e.datum_type)?(n=q(n,t.es,t.a),Y(t.datum_type)&&(n=function(t,e,n){if(e===r.PJD_3PARAM)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===r.PJD_7PARAM){var i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+u*t.z)+i,y:c*(l*t.x+t.y-s*t.z)+o,z:c*(-u*t.x+s*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),Y(e.datum_type)&&(n=function(t,e,n){if(e===r.PJD_3PARAM)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===r.PJD_7PARAM){var i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],l=n[5],c=n[6],f=(t.x-i)/c,h=(t.y-o)/c,p=(t.z-a)/c;return{x:f+l*h-u*p,y:-l*f+h+s*p,z:u*f-s*h+p}}}(n,e.datum_type,e.datum_params)),V(n,e.es,e.a,e.b)):n},W=function(t,e,n){var r,i,o,a=n.x,s=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=u,i="z"),t.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l},X=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},K=function(t){Z(t.x),Z(t.y)};function Z(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function J(t,e,n){var i;return Array.isArray(n)&&(n=X(n)),K(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===r.PJD_3PARAM||t.datum.datum_type===r.PJD_7PARAM)&&"WGS84"!==e.datumCode||(e.datum.datum_type===r.PJD_3PARAM||e.datum.datum_type===r.PJD_7PARAM)&&"WGS84"!==t.datumCode}(t,e)&&(n=J(t,i=new B("WGS84"),n),t=i),"enu"!==t.axis&&(n=W(t,!1,n)),"longlat"===t.projName?n={x:n.x*r.D2R,y:n.y*r.D2R,z:n.z||0}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=H(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*r.R2D,y:n.y*r.R2D,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?W(e,!0,n):n}var Q=B("WGS84");function $(t,e,n){var r,i,o;return Array.isArray(n)?(r=J(t,e,n)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=J(t,e,n),2===(o=Object.keys(n)).length?i:(o.forEach((function(r){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i))}function tt(t){return t instanceof B?t:t.oProj?t.oProj:B(t)}var et=function(t,e,n){t=tt(t);var r,i=!1;return void 0===e?(e=t,t=Q,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=Q,i=!0),e=tt(e),n?$(t,e,n):(r={forward:function(n){return $(t,e,n)},inverse:function(n){return $(e,t,n)}},i&&(r.oProj=e),r)},nt=6,rt="AJSAJS",it="AFAFAF",ot=65,at=73,st=79,ut=86,lt=90,ct={forward:ft,inverse:function(t){var e=gt(mt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:ht};function ft(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,n){var r=yt(n);return function(t,e,n){var r=n-1,i=rt.charCodeAt(r),o=it.charCodeAt(r),a=i+t-1,s=o+e,u=!1;return a>lt&&(a=a-lt+ot-1,u=!0),(a===at||i<at&&a>at||(a>at||i<at)&&u)&&a++,(a===st||i<st&&a>st||(a>st||i<st)&&u)&&++a===at&&a++,a>lt&&(a=a-lt+ot-1),s>ut?(s=s-ut+ot-1,u=!0):u=!1,(s===at||o<at&&s>at||(s>at||o<at)&&u)&&s++,(s===st||o<st&&s>st||(s>st||o<st)&&u)&&++s===at&&s++,s>ut&&(s=s-ut+ot-1),String.fromCharCode(a)+String.fromCharCode(s)}(Math.floor(t/1e5),Math.floor(e/1e5)%20,r)}(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}(function(t){var e,n,r,i,o,a,s=t.lat,u=t.lon,l=6378137,c=pt(s),f=pt(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60),s>=56&&s<64&&u>=3&&u<12&&(a=32),s>=72&&s<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37)),o=pt(6*(a-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),r=.006739496752268451*Math.cos(c)*Math.cos(c);var h=.9996*e*((i=Math.cos(c)*(f-o))+(1-n+r)*i*i*i/6+(5-18*n+n*n+72*r-.39089081163157013)*i*i*i*i*i/120)+5e5,p=.9996*(l*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+e*Math.tan(c)*(i*i/2+(5-n+9*r+4*r*r)*i*i*i*i/24+(61-58*n+n*n+600*r-2.2240339282485886)*i*i*i*i*i*i/720));return s<0&&(p+=1e7),{northing:Math.round(p),easting:Math.round(h),zoneNumber:a,zoneLetter:function(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}(s)}}({lat:t[1],lon:t[0]}),e)}function ht(t){var e=gt(mt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function pt(t){return t*(Math.PI/180)}function dt(t){return t/Math.PI*180}function gt(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,a,s,u,l,c,f,h,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,y=e;r<"N"&&(y-=1e7),c=6*(i-1)-180+3,h=(f=y/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*f)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*f)+151*d*d*d/96*Math.sin(6*f),o=p/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),a=Math.tan(h)*Math.tan(h),s=.006739496752268451*Math.cos(h)*Math.cos(h),u=.99330562*p/Math.pow(1-.00669438*Math.sin(h)*Math.sin(h),1.5),l=g/(.9996*o);var m=h-o*Math.tan(h)/u*(l*l/2-(5+3*a+10*s-4*s*s-.06065547077041606)*l*l*l*l/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*l*l*l*l*l*l/720);m=dt(m);var v,_=(l-(1+2*a+s)*l*l*l/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*l*l*l*l*l/120)/Math.cos(h);if(_=c+dt(_),t.accuracy){var b=gt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});v={top:b.lat,right:b.lon,bottom:m,left:_}}else v={lat:m,lon:_};return v}function yt(t){var e=t%nt;return 0===e&&(e=nt),e}function mt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);for(var u=yt(a),l=function(t,e){for(var n=rt.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(++n===at&&n++,n===st&&n++,n>lt){if(i)throw"Bad character: "+t;n=ot,i=!0}r+=1e5}return r}(r.charAt(0),u),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=it.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(++n===at&&n++,n===st&&n++,n>ut){if(i)throw"Bad character: "+t;n=ot,i=!0}r+=1e5}return r}(r.charAt(1),u);c<vt(s);)c+=2e6;var f=n-o;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var h,p,d,g=f/2,y=0,m=0;return g>0&&(h=1e5/Math.pow(10,g),p=t.substring(o,o+g),y=parseFloat(p)*h,d=t.substring(o+g),m=parseFloat(d)*h),{easting:y+l,northing:m+c,zoneLetter:s,zoneNumber:a,accuracy:h}}function vt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function _t(t,e,n){if(!(this instanceof _t))return new _t(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}_t.fromMGRS=function(t){return new _t(ht(t))},_t.prototype.toMGRS=function(t){return ft([this.x,this.y],t)};var bt=_t,wt=.01068115234375,xt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*wt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*wt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},St=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},Et=function(t,e,n){for(var i=1/(1-e),o=t,a=20;a;--a){var s=Math.sin(o),u=1-e*s*s;if(o-=u=(St(o,s,Math.cos(o),n)-t)*(u*Math.sqrt(u))*i,Math.abs(u)<r.EPSLN)return o}return o},Ot=n(70),Pt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=xt(this.es),this.ml0=St(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,o=t.x,a=t.y,s=Object(T.default)(o-this.long0),u=Math.sin(a),l=Math.cos(a);if(this.es){var c=l*s,f=Math.pow(c,2),h=this.ep2*Math.pow(l,2),p=Math.pow(h,2),d=Math.abs(l)>r.EPSLN?Math.tan(a):0,g=Math.pow(d,2),y=Math.pow(g,2);e=1-this.es*Math.pow(u,2),c/=Math.sqrt(e);var m=St(a,u,l,this.en);n=this.a*(this.k0*c*(1+f/6*(1-g+h+f/20*(5-18*g+y+14*h-58*g*h+f/42*(61+179*y-y*g-479*g)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+u*s*c/2*(1+f/12*(5-g+9*h+4*p+f/30*(61+y-58*g+270*h-330*g*h+f/56*(1385+543*y-y*g-3111*g))))))+this.y0}else{var v=l*Math.sin(s);if(Math.abs(Math.abs(v)-1)<r.EPSLN)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=l*Math.cos(s)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(i))>=1){if(v-1>r.EPSLN)return 93;i=0}else i=Math.acos(i);a<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,o,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Et(e,this.es,this.en),Math.abs(n)<r.HALF_PI){var u=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>r.EPSLN?Math.tan(n):0,f=this.ep2*Math.pow(l,2),h=Math.pow(f,2),p=Math.pow(c,2),d=Math.pow(p,2);e=1-this.es*Math.pow(u,2);var g=a*Math.sqrt(e)/this.k0,y=Math.pow(g,2);i=n-(e*=c)*y/(1-this.es)*.5*(1-y/12*(5+3*p-9*f*p+f-4*h-y/30*(61+90*p-252*f*p+45*d+46*f-y/56*(1385+3633*p+4095*d+1574*d*p)))),o=Object(T.default)(this.long0+g*(1-y/6*(1+2*p+f-y/20*(5+28*p+24*d+8*f*p+6*f-y/42*(61+662*p+1320*d+720*d*p))))/l)}else i=r.HALF_PI*Object(Ot.a)(s),o=0;else{var m=Math.exp(a/this.k0),v=.5*(m-1/m),_=this.lat0+s/this.k0,b=Math.cos(_);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(v,2))),i=Math.asin(e),s<0&&(i=-i),o=0===v&&0===b?0:Object(T.default)(Math.atan2(v,b)+this.long0)}return t.x=o,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Ct=function(t){var e=Math.exp(t);return(e-1/e)/2},Tt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},Nt=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return e+n*Math.sin(2*e)},It=function(t,e,n){for(var r,i,o=Math.sin(e),a=Math.cos(e),s=Ct(n),u=function(t){var e=Math.exp(t);return(e+1/e)/2}(n),l=2*a*u,c=-2*o*s,f=t.length-1,h=t[f],p=0,d=0,g=0;--f>=0;)r=d,i=p,h=l*(d=h)-r-c*(p=g)+t[f],g=c*d-i+l*p;return[(l=o*u)*h-(c=a*s)*g,l*g+c*h]},Mt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Nt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=Object(T.default)(t.x-this.long0),n=t.y;n=Nt(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(o*i,Tt(r,i*a)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Tt(1,e)+1))),t<0?-e:e}(Math.tan(e));var s,u,l=It(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,u=1/0),t.x=s,t.y=u,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=It(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Ct(r));var a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r);i=Math.atan2(a*l,Tt(u,l*s)),r=Math.atan2(u,l*s),e=Object(T.default)(r+this.long0),n=Nt(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},At={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(Object(T.default)(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*r.D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Mt.init.apply(this),this.forward=Mt.forward,this.inverse=Mt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Lt=function(t,e){return Math.pow((1-t)/(1+t),e)},Rt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+r.FORTPI)/(Math.pow(Math.tan(.5*this.lat0+r.FORTPI),this.C)*Lt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+r.FORTPI),this.C)*Lt(this.e*Math.sin(n),this.ratexp))-r.HALF_PI,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+r.FORTPI)/this.K,1/this.C),o=20;o>0&&(n=2*Math.atan(i*Lt(this.e*Math.sin(t.y),-.5*this.e))-r.HALF_PI,!(Math.abs(n-t.y)<1e-14));--o)t.y=n;return o?(t.x=e,t.y=n,t):null},names:["gauss"]},kt={init:function(){Rt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=Object(T.default)(t.x-this.long0),Rt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Rt.inverse.apply(this,[t]),t.x=Object(T.default)(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Ft={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r.EPSLN&&(this.k0=.5*(1+Object(Ot.a)(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=r.EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r.EPSLN&&(this.k0=.5*this.cons*C(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/N(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=C(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r.HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,o,a,s,u=t.x,l=t.y,c=Math.sin(l),f=Math.cos(l),h=Object(T.default)(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=r.EPSLN&&Math.abs(l+this.lat0)<=r.EPSLN?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*f*Math.cos(h)),t.x=this.a*e*f*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*f*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,c,this.e))-r.HALF_PI,o=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=r.EPSLN?(a=N(this.e,l*this.con,this.con*c),s=2*this.a*this.k0*a/this.cons,t.x=this.x0+s*Math.sin(u-this.long0),t.y=this.y0-this.con*s*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<r.EPSLN?(e=2*this.a*this.k0/(1+o*Math.cos(h)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(h))),t.y=e*(this.cosX0*i-this.sinX0*o*Math.cos(h))+this.y0),t.x=e*o*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,i,o,a;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=r.EPSLN?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/s),e=Math.abs(this.coslat0)<r.EPSLN?this.lat0>0?Object(T.default)(this.long0+Math.atan2(t.x,-1*t.y)):Object(T.default)(this.long0+Math.atan2(t.x,t.y)):Object(T.default)(this.long0+Math.atan2(t.x*Math.sin(u),s*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=r.EPSLN){if(s<=r.EPSLN)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*I(this.e,i),e=this.con*Object(T.default)(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=r.EPSLN?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/s),e=Object(T.default)(this.long0+Math.atan2(t.x*Math.sin(o),s*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),n=-1*I(this.e,Math.tan(.5*(r.HALF_PI+a)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(r.HALF_PI+t))*Math.pow((1-e)/(1+e),.5*n)}},jt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+a/this.alpha,u=0,l=o,c=-1e3,f=0;Math.abs(l-c)>1e-7;){if(++f>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=s,t.y=l,t},names:["somerc"]},Dt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,o=N(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=N(this.e,this.lat1,Math.sin(this.lat1)),u=N(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var l=Math.pow(s,this.bl),c=Math.pow(u,this.bl);i=.5*((r=this.el/l)-1/r);var f=(this.el*this.el-c*l)/(this.el*this.el+c*l),h=(c-l)/(c+l),p=Object(T.default)(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*p)/h)/this.bl,this.long0=Object(T.default)(this.long0);var d=Object(T.default)(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/i),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(o,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,o=t.x,a=t.y,s=Object(T.default)(o-this.long0);if(Math.abs(Math.abs(a)-r.HALF_PI)<=r.EPSLN)i=a>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(r.FORTPI+i*this.gamma0*.5)),e=-1*i*r.HALF_PI*this.al/this.bl;else{var u=N(this.e,a,Math.sin(a)),l=this.el/Math.pow(u,this.bl),c=.5*(l-1/l),f=.5*(l+1/l),h=Math.sin(this.bl*s),p=(c*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/f;n=Math.abs(Math.abs(p)-1)<=r.EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-p)/(1+p))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=r.EPSLN?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),o=.5*(i-1/i),a=.5*(i+1/i),s=Math.sin(this.bl*e/this.al),u=(s*Math.cos(this.gamma0)+o*Math.sin(this.gamma0))/a,l=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<r.EPSLN?(t.x=this.long0,t.y=r.HALF_PI):Math.abs(u+1)<r.EPSLN?(t.x=this.long0,t.y=-1*r.HALF_PI):(t.y=I(this.e,l),t.x=Object(T.default)(this.long0-Math.atan2(o*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Ut={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<r.EPSLN)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=C(this.e,e,n),o=N(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),u=C(this.e,a,s),l=N(this.e,this.lat2,a),c=N(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>r.EPSLN?this.ns=Math.log(i/u)/Math.log(o/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=r.EPSLN&&(n=Object(Ot.a)(n)*(r.HALF_PI-2*r.EPSLN));var i,o,a=Math.abs(Math.abs(n)-r.HALF_PI);if(a>r.EPSLN)i=N(this.e,n,Math.sin(n)),o=this.a*this.f0*Math.pow(i,this.ns);else{if((a=n*this.ns)<=0)return null;o=0}var s=this.ns*Object(T.default)(e-this.long0);return t.x=this.k0*(o*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-o*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,o,a,s=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+u*u),n=1):(e=-Math.sqrt(s*s+u*u),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*s,n*u)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(o=I(this.e,i)))return null}else o=-r.HALF_PI;return a=Object(T.default)(l/this.ns+this.long0),t.x=a,t.y=o,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Gt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,a,s,u=t.x,l=t.y,c=Object(T.default)(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,a,s,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,l+=1}while(0===s&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},zt=n(33),Bt=n(98),qt=n(99),Vt=n(100),Yt=n(101),Ht=n(102),Wt=n(71),Xt=function(t,e,n,r,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN},Kt={init:function(){this.sphere||(this.e0=Object(Bt.default)(this.es),this.e1=Object(qt.default)(this.es),this.e2=Object(Vt.default)(this.es),this.e3=Object(Yt.default)(this.es),this.ml0=this.a*Object(zt.default)(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=Object(T.default)(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=Object(Ht.default)(this.a,this.e,o),u=Math.tan(i)*Math.tan(i),l=r*Math.cos(i),c=l*l,f=this.es*a*a/(1-this.es);e=s*l*(1-c*u*(1/6-(8-u+8*f)*c/120)),n=this.a*Object(zt.default)(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*o/a*c*(.5+(5-u+6*f)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,o=t.y/this.a;if(this.sphere){var a=o+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(a))}else{var s=this.ml0/this.a+o,u=Xt(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-r.HALF_PI)<=r.EPSLN)return t.x=this.long0,t.y=r.HALF_PI,o<0&&(t.y*=-1),t;var l=Object(Ht.default)(this.a,this.e,Math.sin(u)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(u),2),h=i*this.a/l,p=h*h;e=u-l*Math.tan(u)/c*h*h*(.5-(1+3*f)*h*h/24),n=h*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(u)}return t.x=Object(T.default)(n+this.long0),t.y=Object(Wt.default)(e),t},names:["Cassini","Cassini_Soldner","cass"]},Zt=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},Jt={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-r.HALF_PI)<r.EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<r.EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Zt(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,e=t*t,n[0]+=.17222222222222222*e,n[1]=.06388888888888888*e,e*=t,n[0]+=.10257936507936508*e,n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Zt(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,o,a,s,u,l,c,f,h=t.x,p=t.y;if(h=Object(T.default)(h-this.long0),this.sphere){if(a=Math.sin(p),f=Math.cos(p),i=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+f*i:1+this.sinph0*a+this.cosph0*f*i)<=r.EPSLN)return null;e=(n=Math.sqrt(2/n))*f*Math.sin(h),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.phi0)<r.EPSLN)return null;n=r.FORTPI-.5*p,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=i}}else{switch(u=0,l=0,c=0,i=Math.cos(h),o=Math.sin(h),a=Math.sin(p),s=Zt(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(u=s/this.qp,l=Math.sqrt(1-u*u)),this.mode){case this.OBLIQ:c=1+this.sinb1*u+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=r.HALF_PI+p,s=this.qp-s;break;case this.S_POLE:c=p-r.HALF_PI,s=this.qp+s}if(Math.abs(c)<r.EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*u-this.sinb1*l*i):(c=Math.sqrt(2/(1+l*i)))*u*this.ymf,e=this.xmf*c*l*o;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*o,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,o,a,s,u,l=t.x/this.a,c=t.y/this.a;if(this.sphere){var f,h=0,p=0;if((n=.5*(f=Math.sqrt(l*l+c*c)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(n),h=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=r.EPSLN?0:Math.asin(c*p/f),l*=p,c=h*f;break;case this.OBLIQ:n=Math.abs(f)<=r.EPSLN?this.phi0:Math.asin(h*this.sinph0+c*p*this.cosph0/f),l*=p*this.cosph0,c=(h-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:c=-c,n=r.HALF_PI-n;break;case this.S_POLE:n-=r.HALF_PI}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,c):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,c*=this.dd,(s=Math.sqrt(l*l+c*c))<r.EPSLN)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*s/this.rq),i=Math.cos(o),l*=o=Math.sin(o),this.mode===this.OBLIQ?(u=i*this.sinb1+c*o*this.cosb1/s,a=this.qp*u,c=s*this.cosb1*i-c*this.sinb1*o):(u=c*o/s,a=this.qp*u,c=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(a=l*l+c*c))return t.x=0,t.y=this.phi0,t;u=1-a/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(l,c),n=function(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}(Math.asin(u),this.apa)}return t.x=Object(T.default)(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Qt=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},$t={init:function(){Math.abs(this.lat1+this.lat2)<r.EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=C(this.e3,this.sin_po,this.cos_po),this.qs1=Zt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=C(this.e3,this.sin_po,this.cos_po),this.qs2=Zt(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Zt(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>r.EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Zt(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*Object(T.default)(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,a=this.phi1z(this.e3,n)),o=Object(T.default)(i/this.ns0+this.long0),t.x=o,t.y=a,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,o,a,s=Qt(.5*e);if(t<r.EPSLN)return s;for(var u=t*t,l=1;l<=25;l++)if(s+=a=.5*(o=1-(i=t*(n=Math.sin(s)))*i)*o/Math.cos(s)*(e/(1-u)-n/o+.5/t*Math.log((1-i)/(1+i))),Math.abs(a)<=1e-7)return s;return null}},te={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,o,a,s,u,l=t.x,c=t.y;return i=Object(T.default)(l-this.long0),e=Math.sin(c),n=Math.cos(c),o=Math.cos(i),(a=this.sin_p14*e+this.cos_p14*n*o)>0||Math.abs(a)<=r.EPSLN?(s=this.x0+1*this.a*n*Math.sin(i)/a,u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*o)/a):(s=this.x0+this.infinity_dist*n*Math.sin(i),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*o)),t.x=s,t.y=u,t},inverse:function(t){var e,n,r,i,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=Qt(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=Object(T.default)(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},ee={init:function(){this.sphere||(this.k0=C(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,o=Object(T.default)(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var a=Zt(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=Object(T.default)(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r.HALF_PI:r.HALF_PI;for(var i,o,a,s,u=Math.asin(.5*e),l=0;l<30;l++)if(o=Math.sin(u),a=Math.cos(u),s=t*o,u+=i=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return u;return NaN}(this.e,2*t.y*this.k0/this.a),e=Object(T.default)(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},ne={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=Object(T.default)(e-this.long0),i=Object(Wt.default)(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=Object(T.default)(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Object(Wt.default)(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},re=n(381),ie=n.n(re),oe={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,o=n-this.long0,a=i/r.SEC_TO_RAD*1e-5,s=o,u=1,l=0;for(e=1;e<=10;e++)u*=a,l+=this.A[e]*u;var c,f=l,h=s,p=1,d=0,g=0,y=0;for(e=1;e<=6;e++)c=d*f+p*h,p=p*f-d*h,d=c,g=g+this.B_re[e]*p-this.B_im[e]*d,y=y+this.B_im[e]*p+this.B_re[e]*d;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,o=t.y,a=i-this.x0,s=(o-this.y0)/this.a,u=a/this.a,l=1,c=0,f=0,h=0;for(e=1;e<=6;e++)n=c*s+l*u,l=l*s-c*u,c=n,f=f+this.C_re[e]*l-this.C_im[e]*c,h=h+this.C_im[e]*l+this.C_re[e]*c;for(var p=0;p<this.iterations;p++){var d,g=f,y=h,m=s,v=u;for(e=2;e<=6;e++)d=y*f+g*h,g=g*f-y*h,y=d,m+=(e-1)*(this.B_re[e]*g-this.B_im[e]*y),v+=(e-1)*(this.B_im[e]*g+this.B_re[e]*y);g=1,y=0;var _=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)d=y*f+g*h,g=g*f-y*h,y=d,_+=e*(this.B_re[e]*g-this.B_im[e]*y),b+=e*(this.B_im[e]*g+this.B_re[e]*y);var w=_*_+b*b;f=(m*_+v*b)/w,h=(v*_-m*b)/w}var x=f,S=h,E=1,O=0;for(e=1;e<=9;e++)E*=x,O+=this.D[e]*E;var P=this.lat0+O*r.SEC_TO_RAD*1e5,C=this.long0+S;return t.x=C,t.y=P,t},names:["New_Zealand_Map_Grid","nzmg"]},ae={init:function(){},forward:function(t){var e=t.x,n=t.y,r=Object(T.default)(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=Object(T.default)(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},se={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=xt(this.es)},forward:function(t){var e,n,i=t.x,o=t.y;if(i=Object(T.default)(i-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(o),s=20;s;--s){var u=(this.m*o+Math.sin(o)-a)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<r.EPSLN)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*i*(this.m+Math.cos(o)),n=this.a*this.C_y*o}else{var l=Math.sin(o),c=Math.cos(o);n=this.a*St(o,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,o;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Qt((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Qt(Math.sin(e)/this.n)),i=Object(T.default)(i+this.long0),e=Object(Wt.default)(e)):(e=Et(t.y/this.a,this.es,this.en),(o=Math.abs(e))<r.HALF_PI?(o=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(e)),i=Object(T.default)(n)):o-r.EPSLN<r.HALF_PI&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},ue=n(382),le=n.n(ue),ce={init:function(){Math.abs(this.lat1+this.lat2)<r.EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Object(Bt.default)(this.es),this.e1=Object(qt.default)(this.es),this.e2=Object(Vt.default)(this.es),this.e3=Object(Yt.default)(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=C(this.e,this.sinphi,this.cosphi),this.ml1=Object(zt.default)(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<r.EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=C(this.e,this.sinphi,this.cosphi),this.ml2=Object(zt.default)(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Object(zt.default)(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Object(zt.default)(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*Object(T.default)(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=Object(T.default)(this.long0+o/this.ns),r=Object(Wt.default)(this.g-n/this.a),t.x=i,t.y=r,t;var a=this.g-n/this.a;return r=Xt(a,this.e0,this.e1,this.e2,this.e3),i=Object(T.default)(this.long0+o/this.ns),t.x=i,t.y=r,t},names:["Equidistant_Conic","eqdc"]},fe={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,o=t.y,a=Object(T.default)(i-this.long0);Math.abs(o)<=r.EPSLN&&(e=this.x0+this.R*a,n=this.y0);var s=Qt(2*Math.abs(o/Math.PI));(Math.abs(a)<=r.EPSLN||Math.abs(Math.abs(o)-r.HALF_PI)<=r.EPSLN)&&(e=this.x0,n=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var u=.5*Math.abs(Math.PI/a-a/Math.PI),l=u*u,c=Math.sin(s),f=Math.cos(s),h=f/(c+f-1),p=h*h,d=h*(2/c-1),g=d*d,y=Math.PI*this.R*(u*(h-g)+Math.sqrt(l*(h-g)*(h-g)-(g+l)*(p-g)))/(g+l);a<0&&(y=-y),e=this.x0+y;var m=l+h;return y=Math.PI*this.R*(d*m-u*Math.sqrt((g+l)*(l+1)-m*m))/(g+l),n=o>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,o,a,s,u,l,c,f,h,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,a=(i=t.x/h)*i+(o=t.y/h)*o,h=3*(o*o/(l=-2*(s=-Math.abs(o)*(1+a))+1+2*o*o+a*a)+(2*(u=s-2*o*o+i*i)*u*u/l/l/l-9*s*u/l/l)/27)/(c=(s-u*u/3/l)/l)/(f=2*Math.sqrt(-c/3)),Math.abs(h)>1&&(h=h>=0?1:-1),p=Math.acos(h)/3,n=t.y>=0?(-f*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI:-(-f*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI,e=Math.abs(i)<r.EPSLN?this.long0:Object(T.default)(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(i*i-o*o)+a*a))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},he={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,o,a,s,u,l,c,f,h,p,d,g,y,m,v,_,b,w,x,S,E=t.x,O=t.y,P=Math.sin(t.y),C=Math.cos(t.y),N=Object(T.default)(E-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=r.EPSLN?(t.x=this.x0+this.a*(r.HALF_PI-O)*Math.sin(N),t.y=this.y0-this.a*(r.HALF_PI-O)*Math.cos(N),t):Math.abs(this.sin_p12+1)<=r.EPSLN?(t.x=this.x0+this.a*(r.HALF_PI+O)*Math.sin(N),t.y=this.y0+this.a*(r.HALF_PI+O)*Math.cos(N),t):(_=this.sin_p12*P+this.cos_p12*C*Math.cos(N),v=(m=Math.acos(_))/Math.sin(m),t.x=this.x0+this.a*v*C*Math.sin(N),t.y=this.y0+this.a*v*(this.cos_p12*P-this.sin_p12*C*Math.cos(N)),t):(e=Object(Bt.default)(this.es),n=Object(qt.default)(this.es),i=Object(Vt.default)(this.es),o=Object(Yt.default)(this.es),Math.abs(this.sin_p12-1)<=r.EPSLN?(a=this.a*Object(zt.default)(e,n,i,o,r.HALF_PI),s=this.a*Object(zt.default)(e,n,i,o,O),t.x=this.x0+(a-s)*Math.sin(N),t.y=this.y0-(a-s)*Math.cos(N),t):Math.abs(this.sin_p12+1)<=r.EPSLN?(a=this.a*Object(zt.default)(e,n,i,o,r.HALF_PI),s=this.a*Object(zt.default)(e,n,i,o,O),t.x=this.x0+(a+s)*Math.sin(N),t.y=this.y0+(a+s)*Math.cos(N),t):(u=P/C,l=Object(Ht.default)(this.a,this.e,this.sin_p12),c=Object(Ht.default)(this.a,this.e,P),f=Math.atan((1-this.es)*u+this.es*l*this.sin_p12/(c*C)),b=0===(h=Math.atan2(Math.sin(N),this.cos_p12*Math.tan(f)-this.sin_p12*Math.cos(N)))?Math.asin(this.cos_p12*Math.sin(f)-this.sin_p12*Math.cos(f)):Math.abs(Math.abs(h)-Math.PI)<=r.EPSLN?-Math.asin(this.cos_p12*Math.sin(f)-this.sin_p12*Math.cos(f)):Math.asin(Math.sin(N)*Math.cos(f)/Math.sin(h)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),m=l*b*(1-(w=b*b)*(y=(d=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es))*d)*(1-y)/6+(x=w*b)/8*(g=p*d)*(1-2*y)+(S=x*b)/120*(y*(4-7*y)-3*p*p*(1-7*y))-S*b/48*g),t.x=this.x0+m*Math.sin(h),t.y=this.y0+m*Math.cos(h),t))},inverse:function(t){var e,n,i,o,a,s,u,l,c,f,h,p,d,g,y,m,v,_,b,w,x,S;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r.HALF_PI*this.a)return;return n=e/this.a,i=Math.sin(n),o=Math.cos(n),a=this.long0,Math.abs(e)<=r.EPSLN?s=this.lat0:(s=Qt(o*this.sin_p12+t.y*i*this.cos_p12/e),u=Math.abs(this.lat0)-r.HALF_PI,a=Math.abs(u)<=r.EPSLN?this.lat0>=0?Object(T.default)(this.long0+Math.atan2(t.x,-t.y)):Object(T.default)(this.long0-Math.atan2(-t.x,t.y)):Object(T.default)(this.long0+Math.atan2(t.x*i,e*this.cos_p12*o-t.y*this.sin_p12*i))),t.x=a,t.y=s,t}return l=Object(Bt.default)(this.es),c=Object(qt.default)(this.es),f=Object(Vt.default)(this.es),h=Object(Yt.default)(this.es),Math.abs(this.sin_p12-1)<=r.EPSLN?(p=this.a*Object(zt.default)(l,c,f,h,r.HALF_PI),e=Math.sqrt(t.x*t.x+t.y*t.y),s=Xt((p-e)/this.a,l,c,f,h),a=Object(T.default)(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=r.EPSLN?(p=this.a*Object(zt.default)(l,c,f,h,r.HALF_PI),e=Math.sqrt(t.x*t.x+t.y*t.y),s=Xt((e-p)/this.a,l,c,f,h),a=Object(T.default)(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),y=Math.atan2(t.x,t.y),d=Object(Ht.default)(this.a,this.e,this.sin_p12),m=Math.cos(y),_=-(v=this.e*this.cos_p12*m)*v/(1-this.es),b=3*this.es*(1-_)*this.sin_p12*this.cos_p12*m/(1-this.es),S=1-_*(x=(w=e/d)-_*(1+_)*Math.pow(w,3)/6-b*(1+3*_)*Math.pow(w,4)/24)*x/2-w*x*x*x/6,g=Math.asin(this.sin_p12*Math.cos(x)+this.cos_p12*Math.sin(x)*m),a=Object(T.default)(this.long0+Math.asin(Math.sin(y)*Math.sin(x)/Math.cos(g))),s=Math.atan((1-this.es*S*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es)),t.x=a,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},pe={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,o,a,s,u,l=t.x,c=t.y;return i=Object(T.default)(l-this.long0),e=Math.sin(c),n=Math.cos(c),o=Math.cos(i),((a=this.sin_p14*e+this.cos_p14*n*o)>0||Math.abs(a)<=r.EPSLN)&&(s=1*this.a*n*Math.sin(i),u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*o)),t.x=s,t.y=u,t},inverse:function(t){var e,n,i,o,a,s,u;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Qt(e/this.a),i=Math.sin(n),o=Math.cos(n),s=this.long0,Math.abs(e)<=r.EPSLN?(u=this.lat0,t.x=s,t.y=u,t):(u=Qt(o*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.abs(this.lat0)-r.HALF_PI,Math.abs(a)<=r.EPSLN?(s=this.lat0>=0?Object(T.default)(this.long0+Math.atan2(t.x,-t.y)):Object(T.default)(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=u,t):(s=Object(T.default)(this.long0+Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i)),t.x=s,t.y=u,t))},names:["ortho"]},de=1,ge=2,ye=3,me=4,ve=5,_e=6,be={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function we(t,e,n,i){var o;return t<r.EPSLN?(i.value=be.AREA_0,o=0):(o=Math.atan2(e,n),Math.abs(o)<=r.FORTPI?i.value=be.AREA_0:o>r.FORTPI&&o<=r.HALF_PI+r.FORTPI?(i.value=be.AREA_1,o-=r.HALF_PI):o>r.HALF_PI+r.FORTPI||o<=-(r.HALF_PI+r.FORTPI)?(i.value=be.AREA_2,o=o>=0?o-r.SPI:o+r.SPI):(i.value=be.AREA_3,o+=r.HALF_PI)),o}function xe(t,e){var n=t+e;return n<-r.SPI?n+=r.TWO_PI:n>+r.SPI&&(n-=r.TWO_PI),n}var Se={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=r.HALF_PI-r.FORTPI/2?this.face=ve:this.lat0<=-(r.HALF_PI-r.FORTPI/2)?this.face=_e:Math.abs(this.long0)<=r.FORTPI?this.face=de:Math.abs(this.long0)<=r.HALF_PI+r.FORTPI?this.face=this.long0>0?ge:me:this.face=ye,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,o,a,s,u={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===ve)o=r.HALF_PI-e,n>=r.FORTPI&&n<=r.HALF_PI+r.FORTPI?(l.value=be.AREA_0,i=n-r.HALF_PI):n>r.HALF_PI+r.FORTPI||n<=-(r.HALF_PI+r.FORTPI)?(l.value=be.AREA_1,i=n>0?n-r.SPI:n+r.SPI):n>-(r.HALF_PI+r.FORTPI)&&n<=-r.FORTPI?(l.value=be.AREA_2,i=n+r.HALF_PI):(l.value=be.AREA_3,i=n);else if(this.face===_e)o=r.HALF_PI+e,n>=r.FORTPI&&n<=r.HALF_PI+r.FORTPI?(l.value=be.AREA_0,i=-n+r.HALF_PI):n<r.FORTPI&&n>=-r.FORTPI?(l.value=be.AREA_1,i=-n):n<-r.FORTPI&&n>=-(r.HALF_PI+r.FORTPI)?(l.value=be.AREA_2,i=-n-r.HALF_PI):(l.value=be.AREA_3,i=n>0?-n+r.SPI:-n-r.SPI);else{var c,f,h,p,d,g;this.face===ge?n=xe(n,+r.HALF_PI):this.face===ye?n=xe(n,+r.SPI):this.face===me&&(n=xe(n,-r.HALF_PI)),p=Math.sin(e),d=Math.cos(e),g=Math.sin(n),c=d*Math.cos(n),f=d*g,h=p,this.face===de?i=we(o=Math.acos(c),h,f,l):this.face===ge?i=we(o=Math.acos(f),h,-c,l):this.face===ye?i=we(o=Math.acos(-c),h,-f,l):this.face===me?i=we(o=Math.acos(-f),h,c,l):(o=i=0,l.value=be.AREA_0)}return s=Math.atan(12/r.SPI*(i+Math.acos(Math.sin(i)*Math.cos(r.FORTPI))-r.HALF_PI)),a=Math.sqrt((1-Math.cos(o))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===be.AREA_1?s+=r.HALF_PI:l.value===be.AREA_2?s+=r.SPI:l.value===be.AREA_3&&(s+=1.5*r.SPI),u.x=a*Math.cos(s),u.y=a*Math.sin(s),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,t.x=u.x,t.y=u.y,t},inverse:function(t){var e,n,i,o,a,s,u,l,c,f,h,p,d={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=be.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=be.AREA_1,e-=r.HALF_PI):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=be.AREA_2,e=e<0?e+r.SPI:e-r.SPI):(g.value=be.AREA_3,e+=r.HALF_PI),c=r.SPI/12*Math.tan(e),a=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(a),(u=1-(i=Math.cos(e))*i*(o=Math.tan(n))*o*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?u=-1:u>1&&(u=1),this.face===ve)l=Math.acos(u),d.phi=r.HALF_PI-l,g.value===be.AREA_0?d.lam=s+r.HALF_PI:g.value===be.AREA_1?d.lam=s<0?s+r.SPI:s-r.SPI:g.value===be.AREA_2?d.lam=s-r.HALF_PI:d.lam=s;else if(this.face===_e)l=Math.acos(u),d.phi=l-r.HALF_PI,g.value===be.AREA_0?d.lam=-s+r.HALF_PI:g.value===be.AREA_1?d.lam=-s:g.value===be.AREA_2?d.lam=-s-r.HALF_PI:d.lam=s<0?-s-r.SPI:-s+r.SPI;else{var y,m,v;c=(y=u)*y,m=(c+=(v=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*v)>=1?0:Math.sqrt(1-c),g.value===be.AREA_1?(c=m,m=-v,v=c):g.value===be.AREA_2?(m=-m,v=-v):g.value===be.AREA_3&&(c=m,m=v,v=-c),this.face===ge?(c=y,y=-m,m=c):this.face===ye?(y=-y,m=-m):this.face===me&&(c=y,y=m,m=-c),d.phi=Math.acos(-v)-r.HALF_PI,d.lam=Math.atan2(m,y),this.face===ge?d.lam=xe(d.lam,-r.HALF_PI):this.face===ye?d.lam=xe(d.lam,-r.SPI):this.face===me&&(d.lam=xe(d.lam,+r.HALF_PI))}return 0!==this.es&&(f=d.phi<0?1:0,h=Math.tan(d.phi),p=this.b/Math.sqrt(h*h+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),f&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Ee=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Oe=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Pe=r.R2D/5,Ce=1/Pe,Te=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Ne={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=Object(T.default)(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Pe);i<0?i=0:i>=18&&(i=17),n=r.R2D*(n-Ce*i);var o={x:Te(Ee[i],n)*e,y:Te(Oe[i],n)};return t.y<0&&(o.y=-o.y),o.x=o.x*this.a*.8487+this.x0,o.y=o.y*this.a*1.3523+this.y0,o},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Ee[18][0],e.y=t.y<0?-r.HALF_PI:r.HALF_PI;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(Oe[n][0]>e.y)--n;else{if(!(Oe[n+1][0]<=e.y))break;++n}var i=Oe[n],o=5*(e.y-i[0])/(Oe[n+1][0]-i[0]);o=function(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}((function(t){return(Te(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)}),o,r.EPSLN,100),e.x/=Te(Ee[n],o),e.y=(5*n+o)*r.D2R,t.y<0&&(e.y=-e.y)}return e.x=Object(T.default)(e.x+this.long0),e},names:["Robinson","robin"]},Ie={init:function(){this.name="geocent"},forward:function(t){return q(t,this.es,this.a)},inverse:function(t){return V(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};et.defaultDatum="WGS84",et.Proj=B,et.WGS84=new et.Proj("WGS84"),et.Point=bt,et.toPoint=X,et.defs=x,et.transform=J,et.mgrs=ct,et.version="__VERSION__",function(t){t.Proj.projections.add(Pt),t.Proj.projections.add(Mt),t.Proj.projections.add(At),t.Proj.projections.add(kt),t.Proj.projections.add(Ft),t.Proj.projections.add(jt),t.Proj.projections.add(Dt),t.Proj.projections.add(Ut),t.Proj.projections.add(Gt),t.Proj.projections.add(Kt),t.Proj.projections.add(Jt),t.Proj.projections.add($t),t.Proj.projections.add(te),t.Proj.projections.add(ee),t.Proj.projections.add(ne),t.Proj.projections.add(ie.a),t.Proj.projections.add(oe),t.Proj.projections.add(ae),t.Proj.projections.add(se),t.Proj.projections.add(le.a),t.Proj.projections.add(ce),t.Proj.projections.add(fe),t.Proj.projections.add(he),t.Proj.projections.add(pe),t.Proj.projections.add(Se),t.Proj.projections.add(Ne),t.Proj.projections.add(Ie)}(et),e.default=et},function(t,e,n){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(599)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t))return t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(e.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e,n){var r=n(15),i=n(10).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(10),i=n(52),o=n(85),a=n(257),s=n(25).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(136)("keys"),i=n(104);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(10).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(15),i=n(6),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(53)(Function.call,n(44).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var r=n(15),i=n(194).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(55),i=n(62);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";var r=n(85),i=n(1),o=n(39),a=n(38),s=n(126),u=n(201),l=n(123),c=n(45),f=n(20)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,y,m){u(n,e,d);var v,_,b,w=function(t){if(!h&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",S="values"==g,E=!1,O=t.prototype,P=O[f]||O["@@iterator"]||g&&O[g],C=P||w(g),T=g?S?w("entries"):C:void 0,N="Array"==e&&O.entries||P;if(N&&(b=c(N.call(new t)))!==Object.prototype&&b.next&&(l(b,x,!0),r||"function"==typeof b[f]||a(b,f,p)),S&&P&&"values"!==P.name&&(E=!0,C=function(){return P.call(this)}),r&&!m||!h&&!E&&O[f]||a(O,f,C),s[e]=C,s[x]=p,g)if(v={values:S?C:w("values"),keys:y?C:w("keys"),entries:T},m)for(_ in v)_ in O||o(O,_,v[_]);else i(i.P+i.F*(h||E),e,v);return v}},function(t,e,n){"use strict";var r=n(107),i=n(103),o=n(123),a={};n(38)(a,n(20)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(160),i=n(62);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(20)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(126),i=n(20)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(25),i=n(103);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(124),i=n(20)("iterator"),o=n(126);t.exports=n(52).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(478);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){"use strict";var r=n(26),i=n(106),o=n(21);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,l=void 0===u?n:i(u,n);l>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var r=n(87),i=n(274),o=n(126),a=n(43);t.exports=n(200)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(139),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=void 0!==/()??/.exec("")[1];(s||u)&&(a=function(t){var e,n,a,l,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",r.call(c))),s&&(e=c.lastIndex),a=i.call(c,t),s&&a&&(c.lastIndex=c.global?a.index+a[0].length:e),u&&a&&a.length>1&&o.call(a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a}),t.exports=a},function(t,e,n){"use strict";var r=n(159)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,a=n(53),s=n(264),u=n(193),l=n(189),c=n(10),f=c.process,h=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,y=0,m={},v=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},_=function(t){v.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){s("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete m[t]},"process"==n(54)(f)?r=function(t){f.nextTick(a(v,t,1))}:g&&g.now?r=function(t){g.now(a(v,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:h,clear:p}},function(t,e,n){var r=n(10),i=n(212).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(54)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){"use strict";var r=n(34);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";var r=n(10),i=n(23),o=n(85),a=n(166),s=n(38),u=n(112),l=n(12),c=n(110),f=n(55),h=n(21),p=n(284),d=n(108).f,g=n(25).f,y=n(208),m=n(123),v="prototype",_="Wrong index!",b=r.ArrayBuffer,w=r.DataView,x=r.Math,S=r.RangeError,E=r.Infinity,O=b,P=x.abs,C=x.pow,T=x.floor,N=x.log,I=x.LN2,M=i?"_b":"buffer",A=i?"_l":"byteLength",L=i?"_o":"byteOffset";function R(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,l=u>>1,c=23===e?C(2,-24)-C(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===E?(i=t!=t?1:0,r=u):(r=T(N(t)/I),t*(o=C(2,-r))<1&&(r--,o*=2),(t+=r+l>=1?c/o:c*C(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(t*o-1)*C(2,e),r+=l):(i=t*C(2,l-1)*C(2,e),r=0));e>=8;a[f++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function k(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-E:E;r+=C(2,e),c-=a}return(l?-1:1)*r*C(2,c-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function j(t){return[255&t]}function D(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return R(t,52,8)}function z(t){return R(t,23,4)}function B(t,e,n){g(t[v],e,{get:function(){return this[n]}})}function q(t,e,n,r){var i=p(+n);if(i+e>t[A])throw S(_);var o=t[M]._b,a=i+t[L],s=o.slice(a,a+e);return r?s:s.reverse()}function V(t,e,n,r,i,o){var a=p(+n);if(a+e>t[A])throw S(_);for(var s=t[M]._b,u=a+t[L],l=r(+i),c=0;c<e;c++)s[u+c]=l[o?c:e-c-1]}if(a.ABV){if(!l((function(){b(1)}))||!l((function(){new b(-1)}))||l((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var Y,H=(b=function(t){return c(this,b),new O(p(t))})[v]=O[v],W=d(O),X=0;W.length>X;)(Y=W[X++])in b||s(b,Y,O[Y]);o||(H.constructor=b)}var K=new w(new b(2)),Z=w[v].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(w[v],{setInt8:function(t,e){Z.call(this,t,e<<24>>24)},setUint8:function(t,e){Z.call(this,t,e<<24>>24)}},!0)}else b=function(t){c(this,b,"ArrayBuffer");var e=p(t);this._b=y.call(new Array(e),0),this[A]=e},w=function(t,e,n){c(this,w,"DataView"),c(t,b,"DataView");var r=t[A],i=f(e);if(i<0||i>r)throw S("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw S("Wrong length!");this[M]=t,this[L]=i,this[A]=n},i&&(B(b,"byteLength","_l"),B(w,"buffer","_b"),B(w,"byteLength","_l"),B(w,"byteOffset","_o")),u(w[v],{getInt8:function(t){return q(this,1,t)[0]<<24>>24},getUint8:function(t){return q(this,1,t)[0]},getInt16:function(t){var e=q(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=q(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return F(q(this,4,t,arguments[1]))},getUint32:function(t){return F(q(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return k(q(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return k(q(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){V(this,1,t,j,e)},setUint8:function(t,e){V(this,1,t,j,e)},setInt16:function(t,e){V(this,2,t,D,e,arguments[2])},setUint16:function(t,e){V(this,2,t,D,e,arguments[2])},setInt32:function(t,e){V(this,4,t,U,e,arguments[2])},setUint32:function(t,e){V(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){V(this,4,t,z,e,arguments[2])},setFloat64:function(t,e){V(this,8,t,G,e,arguments[2])}});m(b,"ArrayBuffer"),m(w,"DataView"),s(w[v],a.VIEW,!0),e.ArrayBuffer=b,e.DataView=w},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,n;
/*!
  * Reqwest! A general purpose XHR connection manager
  * license MIT (c) Dustin Diaz 2015
  * https://github.com/ded/reqwest
  */n=function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=__webpack_require__(591)}catch(t){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(t){if(!0===t.crossOrigin){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(t){return t}};function succeed(t){var e=protocolRe.exec(t.url);return e=e&&e[1]||context.location.protocol,httpsRe.test(e)?twoHundo.test(t.request.status):!!t.request.response}function handleReadyState(t,e,n){return function(){return t._aborted?n(t.request):t._timedOut?n(t.request,"Request is aborted: timeout"):void(t.request&&4==t.request[readyState]&&(t.request.onreadystatechange=noop,succeed(t)?e(t.request):n(t.request)))}}function setHeaders(t,e){var n,r=e.headers||{};r.Accept=r.Accept||defaultHeaders.accept[e.type]||defaultHeaders.accept["*"];var i="undefined"!=typeof FormData&&e.data instanceof FormData;for(n in e.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||i||(r[contentType]=e.contentType||defaultHeaders.contentType),r)r.hasOwnProperty(n)&&"setRequestHeader"in t&&t.setRequestHeader(n,r[n])}function setCredentials(t,e){void 0!==e.withCredentials&&void 0!==t.withCredentials&&(t.withCredentials=!!e.withCredentials)}function generalCallback(t){lastValue=t}function urlappend(t,e){return t+(/\?/.test(t)?"&":"?")+e}function handleJsonp(t,e,n,r){var i=uniqid++,o=t.jsonpCallback||"callback",a=t.jsonpCallbackName||reqwest.getcallbackPrefix(i),s=new RegExp("((^|\\?|&)"+o+")=([^&]+)"),u=r.match(s),l=doc.createElement("script"),c=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return u?"?"===u[3]?r=r.replace(s,"$1="+a):a=u[3]:r=urlappend(r,o+"="+a),context[a]=generalCallback,l.type="text/javascript",l.src=r,l.async=!0,void 0===l.onreadystatechange||f||(l.htmlFor=l.id="_reqwest_"+i),l.onload=l.onreadystatechange=function(){if(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c)return!1;l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),e(lastValue),lastValue=void 0,head.removeChild(l),c=1},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(t,e){var n,r=this.o,i=(r.method||"GET").toUpperCase(),o="string"==typeof r?r:r.url,a=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=i||!a||(o=urlappend(o,a),a=null),"jsonp"==r.type?handleJsonp(r,t,e,o):((n=r.xhr&&r.xhr(r)||xhr(r)).open(i,o,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=t,n.onerror=e,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,t,e),r.before&&r.before(n),s?setTimeout((function(){n.send(a)}),200):n.send(a),n)}function Reqwest(t,e){this.o=t,this.fn=e,init.apply(this,arguments)}function setType(t){if(null!==t)return t.match("json")?"json":t.match("javascript")?"js":t.match("text")?"html":t.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(t){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(t)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(t){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(t){return error(resp,"Could not parse JSON in response",t)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(t,e,n){for(t=self.request,self._responseArgs.resp=t,self._responseArgs.msg=e,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(t,e,n);complete(t)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout((function(){timedOut()}),o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push((function(){o.error.apply(o,arguments)})),o.complete&&this._completeHandlers.push((function(){o.complete.apply(o,arguments)})),this.request=getRequest.call(this,success,error)}function reqwest(t,e){return new Reqwest(t,e)}function normalize(t){return t?t.replace(/\r?\n/g,"\r\n"):""}function serial(t,e){var n,r,i,o,a=t.name,s=t.tagName.toLowerCase(),u=function(t){t&&!t.disabled&&e(a,normalize(t.attributes.value&&t.attributes.value.specified?t.value:t.text))};if(!t.disabled&&a)switch(s){case"input":/reset|button|image|file/i.test(t.type)||(n=/checkbox/i.test(t.type),r=/radio/i.test(t.type),i=t.value,(!n&&!r||t.checked)&&e(a,normalize(n&&""===i?"on":i)));break;case"textarea":e(a,normalize(t.value));break;case"select":if("select-one"===t.type.toLowerCase())u(t.selectedIndex>=0?t.options[t.selectedIndex]:null);else for(o=0;t.length&&o<t.length;o++)t.options[o].selected&&u(t.options[o])}}function eachFormElement(){var t,e,n=this,r=function(t,e){var r,i,o;for(r=0;r<e.length;r++)for(o=t[byTag](e[r]),i=0;i<o.length;i++)serial(o[i],n)};for(e=0;e<arguments.length;e++)t=arguments[e],/input|select|textarea/i.test(t.tagName)&&serial(t,n),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var t={};return eachFormElement.apply((function(e,n){e in t?(t[e]&&!isArray(t[e])&&(t[e]=[t[e]]),t[e].push(n)):t[e]=n}),arguments),t}function buildParams(t,e,n,r){var i,o,a,s=/\[\]$/;if(isArray(e))for(o=0;e&&o<e.length;o++)a=e[o],n||s.test(t)?r(t,a):buildParams(t+"["+("object"==typeof a?o:"")+"]",a,n,r);else if(e&&"[object Object]"===e.toString())for(i in e)buildParams(t+"["+i+"]",e[i],n,r);else r(t,e)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(t,e){return t=t||function(){},e=e||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(e)),this},always:function(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function(t){return this.fail(t)}},reqwest.serializeArray=function(){var t=[];return eachFormElement.apply((function(e,n){t.push({name:e,value:n})}),arguments),t},reqwest.serialize=function(){if(0===arguments.length)return"";var t,e=Array.prototype.slice.call(arguments,0);return(t=e.pop())&&t.nodeType&&e.push(t)&&(t=null),t&&(t=t.type),("map"==t?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString).apply(null,e)},reqwest.toQueryString=function(t,e){var n,r,i=e||!1,o=[],a=encodeURIComponent,s=function(t,e){e="function"==typeof e?e():null==e?"":e,o[o.length]=a(t)+"="+a(e)};if(isArray(t))for(r=0;t&&r<t.length;r++)s(t[r].name,t[r].value);else for(n in t)t.hasOwnProperty(n)&&buildParams(n,t[n],i,s);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(t,e){return t&&(t.type&&(t.method=t.type)&&delete t.type,t.dataType&&(t.type=t.dataType),t.jsonpCallback&&(t.jsonpCallbackName=t.jsonpCallback)&&delete t.jsonpCallback,t.jsonp&&(t.jsonpCallback=t.jsonp)),new Reqwest(t,e)},reqwest.ajaxSetup=function(t){for(var e in t=t||{})globalSetupOptions[e]=t[e]},reqwest},module.exports?module.exports=n():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unByKey=function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,r.unlistenByKey)(t[e]);else(0,r.unlistenByKey)(t)};var r=n(24),i=a(n(128)),o=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return s(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.default.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,r.listen)(this,t[o],e);return i}return(0,r.listen)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,r.listenOnce)(this,t[o],e);return i}return(0,r.listenOnce)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interpolatePoint=function(t,e,n,o,a,s){var u=NaN,l=NaN,c=(n-e)/o;if(1===c)u=t[e],l=t[e+1];else if(2==c)u=(1-a)*t[e]+a*t[e+o],l=(1-a)*t[e+1]+a*t[e+o+1];else if(0!==c){for(var f=t[e],h=t[e+1],p=0,d=[0],g=e+o;g<n;g+=o){var y=t[g],m=t[g+1];p+=Math.sqrt((y-f)*(y-f)+(m-h)*(m-h)),d.push(p),f=y,h=m}var v=a*p,_=(0,r.binarySearch)(d,v);if(_<0){var b=(v-d[-_-2])/(d[-_-1]-d[-_-2]),w=e+(-_-2)*o;u=(0,i.lerp)(t[w],t[w+o],b),l=(0,i.lerp)(t[w+1],t[w+o+1],b)}else u=t[e+_*o],l=t[e+_*o+1]}return s?(s[0]=u,s[1]=l,s):[u,l]},e.lineStringCoordinateAtM=o,e.lineStringsCoordinateAtM=function(t,e,n,r,i,a,s){if(s)return o(t,e,n[n.length-1],r,i,a);var u;if(i<t[r-1])return a?((u=t.slice(0,r))[r-1]=i,u):null;if(t[t.length-1]<i)return a?((u=t.slice(t.length-r))[r-1]=i,u):null;for(var l=0,c=n.length;l<c;++l){var f=n[l];if(e!=f){if(i<t[e+r-1])return null;if(i<=t[f-1])return o(t,e,f,r,i,!1);e=f}}return null};var r=n(14),i=n(19);function o(t,e,n,r,o,a){if(n==e)return null;var s;if(o<t[e+r-1])return a?((s=t.slice(e,e+r))[r-1]=o,s):null;if(t[n-1]<o)return a?((s=t.slice(n-r,n))[r-1]=o,s):null;if(o==t[e+r-1])return t.slice(e,e+r);for(var u=e/r,l=n/r;u<l;){var c=u+l>>1;o<t[(c+1)*r-1]?l=c:u=c+1}var f=t[u*r-1];if(o==f)return t.slice((u-1)*r,(u-1)*r+r);var h=(o-f)/(t[(u+1)*r-1]-f);s=[];for(var p=0;p<r-1;++p)s.push((0,i.lerp)(t[(u-1)*r+p],t[u*r+p],h));return s.push(o),s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=h(n(46)),o=h(n(17)),a=h(n(76)),s=n(222),u=n(142),l=n(77),c=n(116),f=n(129);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return p(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return(0,s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,f.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,i.default.XY)},e.prototype.getType=function(){return o.default.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,l.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.default);e.default=d},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function i(t,e,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=r(t,e,u,i),e=u}return o}Object.defineProperty(e,"__esModule",{value:!0}),e.linearRing=r,e.linearRings=i,e.linearRingss=function(t,e,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var u=n[a];o+=i(t,e,u,r),e=u[u.length-1]}return o}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInteriorPointOfArray=o,e.getInteriorPointsOfMultiArray=function(t,e,n,r,i){for(var a=[],s=0,u=n.length;s<u;++s){var l=n[s];a=o(t,e,l,r,i,2*s,a),e=l[l.length-1]}return a};var r=n(14),i=n(172);function o(t,e,n,o,a,s,u){for(var l,c,f,h,p,d,g,y=a[s+1],m=[],v=0,_=n.length;v<_;++v){var b=n[v];for(h=t[b-o],d=t[b-o+1],l=e;l<b;l+=o)p=t[l],g=t[l+1],(y<=d&&g<=y||d<=y&&y<=g)&&(f=(y-d)/(g-d)*(p-h)+h,m.push(f)),h=p,d=g}var w=NaN,x=-1/0;for(m.sort(r.numberSafeCompareFunction),h=m[0],l=1,c=m.length;l<c;++l){p=m[l];var S=Math.abs(p-h);S>x&&(f=(h+p)/2,(0,i.linearRingsContainsXY)(t,e,n,o,f,y)&&(w=f,x=S)),h=p}return isNaN(w)&&(w=a[s]),u?(u.push(w,y,x),u):[w,y,x]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GMLNS=void 0;var r=n(14),i=v(n(88)),o=n(75),a=v(n(175)),s=v(n(46)),u=v(n(65)),l=v(n(221)),c=v(n(117)),f=v(n(89)),h=v(n(118)),p=v(n(47)),d=v(n(35)),g=n(13),y=n(5),m=n(78);function v(t){return t&&t.__esModule?t:{default:t}}var _=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=e.GMLNS="http://www.opengis.net/gml",w=/^[\s\xa0]*$/,x=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.featureType=r.featureType,n.featureNS=r.featureNS,n.srsName=r.srsName,n.schemaLocation="",n.FEATURE_COLLECTION_PARSERS={},n.FEATURE_COLLECTION_PARSERS[n.namespace]={featureMember:(0,m.makeArrayPusher)(n.readFeaturesInternal),featureMembers:(0,m.makeReplacer)(n.readFeaturesInternal)},n}return _(e,t),e.prototype.readFeaturesInternal=function(t,e){var n=t.localName,r=null;if("FeatureCollection"==n)r=(0,m.pushParseAndPop)([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==n||"featureMember"==n){var i=e[0],o=i.featureType,a=i.featureNS;if(!o&&t.childNodes){o=[],a={};for(var s=0,u=t.childNodes.length;s<u;++s){var l=t.childNodes[s];if(1===l.nodeType){var c=l.nodeName.split(":").pop();if(-1===o.indexOf(c)){var f="",h=0,p=l.namespaceURI;for(var d in a){if(a[d]===p){f=d;break}++h}f||(a[f="p"+h]=p),o.push(f+":"+c)}}}"featureMember"!=n&&(i.featureType=o,i.featureNS=a)}if("string"==typeof a){var g=a;(a={}).p0=g}var y={},v=Array.isArray(o)?o:[o];for(var _ in a){var b={};for(s=0,u=v.length;s<u;++s)(-1===v[s].indexOf(":")?"p0":v[s].split(":")[0])===_&&(b[v[s].split(":").pop()]="featureMembers"==n?(0,m.makeArrayPusher)(this.readFeatureElement,this):(0,m.makeReplacer)(this.readFeatureElement,this));y[a[_]]=b}r="featureMember"==n?(0,m.pushParseAndPop)(void 0,y,t,e):(0,m.pushParseAndPop)([],y,t,e)}return null===r&&(r=[]),r},e.prototype.readGeometryElement=function(t,e){var n=e[0];n.srsName=t.firstElementChild.getAttribute("srsName"),n.srsDimension=t.firstElementChild.getAttribute("srsDimension");var r=(0,m.pushParseAndPop)(null,this.GEOMETRY_PARSERS,t,e,this);return r?Array.isArray(r)?(0,o.transformExtentWithOptions)(r,n):(0,o.transformGeometryWithOptions)(r,!1,n):void 0},e.prototype.readFeatureElementInternal=function(t,e,n){for(var r,o={},a=t.firstElementChild;a;a=a.nextElementSibling){var s=void 0,u=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=(0,m.getAllTextContent)(a,!1),w.test(s)&&(s=void 0)):(n&&(s=this.readGeometryElement(a,e)),s?"boundedBy"!==u&&(r=u):s=this.readFeatureElementInternal(a,e,!1)),o[u]?(o[u]instanceof Array||(o[u]=[o[u]]),o[u].push(s)):o[u]=s;var l=a.attributes.length;if(l>0){o[u]={_content_:o[u]};for(var c=0;c<l;c++){var f=a.attributes[c].name;o[u][f]=a.attributes[c].value}}}if(n){var h=new i.default(o);r&&h.setGeometryName(r);var p=t.getAttribute("fid")||(0,m.getAttributeNS)(t,this.namespace,"id");return p&&h.setId(p),h}return o},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var n=this.readFlatCoordinatesFromNode_(t,e);if(n)return new p.default(n,s.default.XYZ)},e.prototype.readMultiPoint=function(t,e){var n=(0,m.pushParseAndPop)([],this.MULTIPOINT_PARSERS_,t,e,this);return n?new f.default(n):void 0},e.prototype.readMultiLineString=function(t,e){var n=(0,m.pushParseAndPop)([],this.MULTILINESTRING_PARSERS_,t,e,this);if(n)return new c.default(n)},e.prototype.readMultiPolygon=function(t,e){var n=(0,m.pushParseAndPop)([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(n)return new h.default(n)},e.prototype.pointMemberParser_=function(t,e){(0,m.parseNode)(this.POINTMEMBER_PARSERS_,t,e,this)},e.prototype.lineStringMemberParser_=function(t,e){(0,m.parseNode)(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},e.prototype.polygonMemberParser_=function(t,e){(0,m.parseNode)(this.POLYGONMEMBER_PARSERS_,t,e,this)},e.prototype.readLineString=function(t,e){var n=this.readFlatCoordinatesFromNode_(t,e);return n?new u.default(n,s.default.XYZ):void 0},e.prototype.readFlatLinearRing_=function(t,e){return(0,m.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)||void 0},e.prototype.readLinearRing=function(t,e){var n=this.readFlatCoordinatesFromNode_(t,e);if(n)return new l.default(n,s.default.XYZ)},e.prototype.readPolygon=function(t,e){var n=(0,m.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(n&&n[0]){var i,o=n[0],a=[o.length],u=void 0;for(u=1,i=n.length;u<i;++u)(0,r.extend)(o,n[u]),a.push(o.length);return new d.default(o,s.default.XYZ,a)}},e.prototype.readFlatCoordinatesFromNode_=function(t,e){return(0,m.pushParseAndPop)(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){return this.readGeometryElement(t,[this.getReadOptions(t,e||{})])||null},e.prototype.readFeaturesFromNode=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&(0,g.assign)(n,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[n])||[]},e.prototype.readProjectionFromNode=function(t){return(0,y.get)(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(a.default);x.prototype.namespace=b,x.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},x.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},x.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},x.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:(0,m.makeArrayPusher)(x.prototype.pointMemberParser_),pointMembers:(0,m.makeArrayPusher)(x.prototype.pointMemberParser_)}},x.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:(0,m.makeArrayPusher)(x.prototype.lineStringMemberParser_),lineStringMembers:(0,m.makeArrayPusher)(x.prototype.lineStringMemberParser_)}},x.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:(0,m.makeArrayPusher)(x.prototype.polygonMemberParser_),polygonMembers:(0,m.makeArrayPusher)(x.prototype.polygonMemberParser_)}},x.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:(0,m.makeArrayPusher)(x.prototype.readFlatCoordinatesFromNode_)}},x.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,m.makeArrayPusher)(x.prototype.readLineString)}},x.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,m.makeArrayPusher)(x.prototype.readPolygon)}},x.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:(0,m.makeReplacer)(x.prototype.readFlatLinearRing_)}},e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.padNumber=function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},e.compareVersions=function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(144)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.geometryName=n||"the_geom",o.geometry=r,o.srsName=i,o}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseCatalog=function(t,e){for(var n=e.getElementsByTagName("*"),o=0,a=n.length;o<a;o++){n[o].setAttribute("uuid",r.default.v4())}return function t(e,n,r){for(var o=[],a=0,s=r.childNodes.length;a<s;a++){var c=r.childNodes[a],f=!1,h=null;if(n&&n.id&&(h=n.id),"group"===c.tagName){var p=u(c);o.push({type:i.CATALOG.ADD_GROUP,child:p}),f=p,o=o.concat(t(e,p,c))}else if("layer"===c.tagName){var d=l(e,c);o.push({type:i.CATALOG.ADD_LAYER,child:d}),f=d}f&&f.id&&o.push({type:i.CATALOG.ADD_CHILD,parentId:h,childId:f.id})}return o}(t,null,e)},e.setLegendVisibility=function(t,e){return{type:i.CATALOG.LEGEND_VIS,id:t,on:e}},e.setGroupExpand=function(t,e){return{type:i.CATALOG.GROUP_VIS,id:t,expand:e}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(79)),i=n(28),o=s(n(16)),a=s(n(27));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function u(t){var e={id:t.getAttribute("uuid"),children:[],label:t.getAttribute("title"),expand:o.parseBoolean(t.getAttribute("expand")),multiple:o.parseBoolean(t.getAttribute("multiple"),!0)},n=t.parentNode;return n&&"group"===n.tagName&&(e.parent=n.getAttribute("uuid")),e}function l(t,e){var n={id:e.getAttribute("uuid"),label:e.getAttribute("title"),legend:o.parseBoolean(e.getAttribute("show-legend"),!0),src:[],favorite:!1,refreshEnabled:!1,refresh:null,metadata_url:null,tools:[],tip:e.getAttribute("tip")},r=["down","up","fade","unfade","zoomto","upload","download","legend-toggle","draw-point","draw-line","draw-polygon","draw-modify","draw-remove","draw-edit","clear"],i=!0,s=!1,u=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var f=l.value;o.parseBoolean(e.getAttribute(f),!1)?n.tools.push(f):r[f]&&n.tools.push(f)}}catch(t){s=!0,u=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}["refresh","minresolution","maxresolution"].forEach((function(t){var r=e.getAttribute(t);r&&(n[t]=parseFloat(r))}));var h=!1,p=e.getAttribute("src");p&&function(){var e=t.getState().mapSources,r=["minresolution","maxresolution","label"],i=function(t){var i=t.split("/"),o={mapSourceName:i[0],layerName:null};i.length>1&&(o.layerName=i[1]),n.src.push(o),h=h||a.isFavoriteLayer(e,o),r.forEach((function(t){var r=e[o.mapSourceName][t];!n[t]&&r&&(n[t]=r)}))},o=!0,s=!1,u=void 0;try{for(var l,c=p.split(";")[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)i(l.value)}catch(t){s=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}}();var d=o.getTagContents(e,"metadata",!0)[0];d&&(n.metadata_url=d),n.favorite=h;var g=e.parentNode;return g&&"group"===g.tagName&&(n.parent=g.getAttribute("uuid")),n}},function(t,e,n){var r,i={includes:{},globals:{},delimiter:">",compact:!1,_copy:function(t,e){for(var n in e=e||[],t)e[n]=t[n];return e},_size:function(t){return t instanceof Array?t.length:t||0},_iter:function(t,e){this.idx=t,this.size=e,this.length=e,this.sign="#",this.toString=function(){return this.idx+this.sign.length-1}},_pipe:function(t,e){var n,r,o,a;if(n=e.shift()){o=(r=n.split(this.delimiter)).shift().trim();try{a=i.pipes[o].apply(null,[t].concat(r)),t=this._pipe(a,e)}catch(t){}}return t},_eval:function(t,e,n){var r,o,a=this._pipe(t,e),s=a,u=-1;if(a instanceof Array)for(a="",r=s.length;++u<r;)o={iter:new this._iter(u,r)},a+=n?i.up(n,s[u],o):s[u];else a instanceof Object&&(a=i.up(n,s));return a},_test:function(t,e,n,r){var o=i.up(e,n,r).split(/\{\{\s*else\s*\}\}/);return(!1===t?o[1]:o[0])||""},_bridge:function(t,e){e="."==e?"\\.":e.replace(/\$/g,"\\$");var n,r,i,o=new RegExp("{{\\s*"+e+"([^/}]+\\w*)?}}|{{/"+e+"\\s*}}","g"),a=t.match(o)||[],s=0,u=0,l=-1;for(r=0;r<a.length&&(n=r,l=t.indexOf(a[n],l+1),a[n].indexOf("{{/")>-1?u++:s++,s!==u);r++);return u=(s=t.indexOf(a[0]))+a[0].length,i=l+a[n].length,[t.substring(s,i),t.substring(u,l)]},up:function(t,e,n){e=e||{},n=n||{};var r,o,a,s,u,l,c,f,h,p,d=/\{\{(.+?)\}\}/g,g=t.match(d)||[],y=[],m=0,v=0;for(n.pipes&&this._copy(n.pipes,this.pipes),n.includes&&this._copy(n.includes,this.includes),n.globals&&this._copy(n.globals,this.globals),n.delimiter&&(this.delimiter=n.delimiter),void 0!==n.compact&&(this.compact=n.compact);r=g[m++];)if(c=void 0,l="",s=r.indexOf("/}}")>-1,u=0===(o=(o=r.substr(2,r.length-(s?5:4))).replace(/`(.+?)`/g,(function(t,n){return i.up("{{"+n+"}}",e)}))).trim().indexOf("if "),(y=o.split("|")).shift(),o=o.replace(/^\s*if/,"").split("|").shift().trim(),a=u?"if":o.split("|")[0],p=e[o],u&&!y.length&&(y=["notempty"]),!s&&t.indexOf("{{/"+a)>-1&&(r=(c=this._bridge(t,a))[0],l=c[1],m+=r.match(d).length-1),!/^\{\{\s*else\s*\}\}$/.test(r)){if(void 0!==(f=this.globals[o]))c=this._eval(f,y,l);else if(h=this.includes[o])h instanceof Function&&(h=h()),c=this._pipe(i.up(h,e,n),y);else if(o.indexOf("#")>-1)n.iter.sign=o,c=this._pipe(n.iter,y);else if("."===o)c=this._pipe(e,y);else if(o.indexOf(".")>-1){for(o=o.split("."),(p=i.globals[o[0]])?v=1:(v=0,p=e);p&&v<o.length;)p=p[o[v++]];c=this._eval(p,y,l)}else u?c=this._pipe(p,y):p instanceof Array?c=this._eval(p,y,l):l?c=p?i.up(l,p):void 0:e.hasOwnProperty(o)&&(c=this._pipe(p,y));c instanceof Array&&(c=this._eval(c,y,l)),u&&(c=this._test(c,l,e,n)),t=t.replace(r,void 0===c?"???":c)}return this.compact?t.replace(/>\s+</g,"><"):t}};i.pipes={empty:function(t){return(!t||0===(t+"").trim().length)&&t},notempty:function(t){return!(!t||!(t+"").trim().length)&&t},blank:function(t,e){return t||0===t?t:e},more:function(t,e){return i._size(t)>e&&t},less:function(t,e){return i._size(t)<e&&t},ormore:function(t,e){return i._size(t)>=e&&t},orless:function(t,e){return i._size(t)<=e&&t},between:function(t,e,n){return(t=i._size(t))>=e&&t<=n&&t},equals:function(t,e){return t==e&&t},notequals:function(t,e){return t!=e&&t},like:function(t,e){return!!new RegExp(e,"i").test(t)&&t},notlike:function(t,e){return!i.pipes.like(t,e)&&t},upcase:function(t){return String(t).toUpperCase()},downcase:function(t){return String(t).toLowerCase()},capcase:function(t){return t.replace(/(?:^|\s)\S/g,(function(t){return t.toUpperCase()}))},chop:function(t,e){return t.length>e?t.substr(0,e)+"...":t},tease:function(t,e){var n=t.split(/\s+/);return n.slice(0,e).join(" ")+(n.length>e?"...":"")},trim:function(t){return t.trim()},pack:function(t){return t.trim().replace(/\s{2,}/g," ")},round:function(t){return Math.round(+t)},clean:function(t){return String(t).replace(/<\/?[^>]+>/gi,"")},size:function(t){return t.length},length:function(t){return t.length},reverse:function(t){return[].concat(t).reverse()},join:function(t,e){return t.join(e)},limit:function(t,e,n){return t.slice(+n||0,+e+(+n||0))},split:function(t,e){return t.split(e||",")},choose:function(t,e,n){return t?e:n||""},toggle:function(t,e,n,r){return n.split(",")[e.match(/\w+/g).indexOf(t+"")]||r},sort:function(t,e){return[].concat(t).sort(e?function(t,n){return t[e]>n[e]?1:-1}:void 0)},fix:function(t,e){return(+t).toFixed(e)},mod:function(t,e){return+t%+e},divisible:function(t,e){return!(!t||+t%e!=0)&&t},even:function(t){return!(!t||0!=(1&+t))&&t},odd:function(t){return!(!t||1!=(1&+t))&&t},number:function(t){return parseFloat(t.replace(/[^\-\d\.]/g,""))},url:function(t){return encodeURI(t)},bool:function(t){return!!t},falsy:function(t){return!t},first:function(t){return 0===t.idx},last:function(t){return t.idx===t.size-1},call:function(t,e){return t[e].apply(t,[].slice.call(arguments,2))},set:function(t,e){return i.globals[e]=t,""},log:function(t){return console.log(t),t}},"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),t.exports?t.exports=i:void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=h(n(91)),o=n(18),a=n(147),s=h(n(8)),u=h(n(230)),l=n(315),c=h(n(318)),f=h(n(232));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=this,s=e||{},f=void 0!==s.opacity?s.opacity:1,h=void 0!==s.rotation?s.rotation:0,p=void 0!==s.scale?s.scale:1,d=void 0!==s.rotateWithView&&s.rotateWithView;(n=t.call(this,{opacity:f,rotation:h,scale:p,displacement:void 0!==s.displacement?s.displacement:[0,0],rotateWithView:d})||this).anchor_=void 0!==s.anchor?s.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==s.anchorOrigin?s.anchorOrigin:c.default.TOP_LEFT,n.anchorXUnits_=void 0!==s.anchorXUnits?s.anchorXUnits:u.default.FRACTION,n.anchorYUnits_=void 0!==s.anchorYUnits?s.anchorYUnits:u.default.FRACTION,n.crossOrigin_=void 0!==s.crossOrigin?s.crossOrigin:null;var g=void 0!==s.img?s.img:null,y=void 0!==s.imgSize?s.imgSize:null,m=s.src;(0,o.assert)(!(void 0!==m&&g),4),(0,o.assert)(!g||g&&y,5),void 0!==m&&0!==m.length||!g||(m=g.src||(0,r.getUid)(g)),(0,o.assert)(void 0!==m&&m.length>0,6);var v=void 0!==s.src?i.default.IDLE:i.default.LOADED;return n.color_=void 0!==s.color?(0,a.asArray)(s.color):null,n.iconImage_=(0,l.get)(g,m,y,n.crossOrigin_,v,n.color_),n.offset_=void 0!==s.offset?s.offset:[0,0],n.offsetOrigin_=void 0!==s.offsetOrigin?s.offsetOrigin:c.default.TOP_LEFT,n.origin_=null,n.size_=void 0!==s.size?s.size:null,n}return p(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==u.default.FRACTION||this.anchorYUnits_==u.default.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==u.default.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==u.default.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=c.default.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=c.default.TOP_RIGHT&&this.anchorOrigin_!=c.default.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=c.default.BOTTOM_LEFT&&this.anchorOrigin_!=c.default.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=c.default.TOP_LEFT){var n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;t=t.slice(),this.offsetOrigin_!=c.default.TOP_RIGHT&&this.offsetOrigin_!=c.default.BOTTOM_RIGHT||(t[0]=r[0]-n[0]-t[0]),this.offsetOrigin_!=c.default.BOTTOM_LEFT&&this.offsetOrigin_!=c.default.BOTTOM_RIGHT||(t[1]=r[1]-n[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(s.default.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(s.default.CHANGE,t)},e}(f.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={FRACTION:"fraction",PIXELS:"pixels"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listenImage=h;var r=l(n(317)),i=l(n(91)),o=n(24),a=l(n(8)),s=n(4),u=n(82);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e,n,r,o,a,s){var u=t.call(this,e,n,r,i.default.IDLE)||this;return u.src_=o,u.image_=new Image,null!==a&&(u.image_.crossOrigin=a),u.unlisten_=null,u.state=i.default.IDLE,u.imageLoadFunction_=s,u}return c(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=i.default.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,s.getHeight)(this.extent)/this.image_.height),this.state=i.default.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=i.default.IDLE&&this.state!=i.default.ERROR||(this.state=i.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=h(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(r.default);function h(t,e,n){var r=t;if(r.src&&u.IMAGE_DECODE){var i=!0;return r.decode().then((function(){i&&e()})).catch((function(t){i&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())})),function(){i=!1}}var s=[(0,o.listenOnce)(r,a.default.LOAD,e),(0,o.listenOnce)(r,a.default.ERROR,n)];return function(){s.forEach(o.unlistenByKey)}}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.displacement_=t.displacement}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return(0,r.abstract)()},t.prototype.getImage=function(t){return(0,r.abstract)()},t.prototype.getHitDetectionImage=function(t){return(0,r.abstract)()},t.prototype.getImageState=function(){return(0,r.abstract)()},t.prototype.getImageSize=function(){return(0,r.abstract)()},t.prototype.getHitDetectionImageSize=function(){return(0,r.abstract)()},t.prototype.getOrigin=function(){return(0,r.abstract)()},t.prototype.getSize=function(){return(0,r.abstract)()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){(0,r.abstract)()},t.prototype.load=function(){(0,r.abstract)()},t.prototype.unlistenImageChange=function(t){(0,r.abstract)()},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(319)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return i(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setEditFeature=function(t){return{type:r.EDITOR.START_EDIT,feature:t}},e.finishEditing=function(){return{type:r.EDITOR.FINISH_EDIT}},e.removeFeature=function(t,e){return{type:r.EDITOR.REMOVE,feature:e,source:t}};var r=n(28)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=s(n(30)),o=n(5),a=s(n(92));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this;return n.projection_=(0,o.get)(e.projection),n.attributions_=c(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:a.default.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return u(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,r.abstract)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=c(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(i.default);function c(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=function(t){return t&&t.__esModule?t:{default:t}}(n(327)),o=n(4),a=n(13),s=function(){function t(t){this.rbush_=new i.default(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,r.getUid)(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],u={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=u,this.items_[(0,r.getUid)(s)]=u}this.rbush_.load(n)},t.prototype.remove=function(t){var e=(0,r.getUid)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[(0,r.getUid)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,o.equals)(i,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return(0,a.isEmpty)(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,o.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(32),o=c(n(335)),a=c(n(180)),s=n(58),u=c(n(681)),l=n(36);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=(0,l.create)(),n.pixelTransform=(0,l.create)(),n.inversePixelTransform=(0,l.create)(),n.context=null,n.containerReused=!1,n}return f(e,t),e.prototype.useContainer=function(t,e,n){var r,o,a=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===a&&(u=t.firstElementChild)instanceof HTMLCanvasElement&&(o=u.getContext("2d")),o&&o.canvas.style.transform===e?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=a;var s=r.style;s.position="absolute",s.width="100%",s.height="100%";var u=(o=(0,i.createCanvasContext2D)()).canvas;r.appendChild(u),(s=u.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=o}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,o=e.size[0]*i/2,a=e.size[1]*i/2,u=e.viewState.rotation,c=(0,r.getTopLeft)(n),f=(0,r.getTopRight)(n),h=(0,r.getBottomRight)(n),p=(0,r.getBottomLeft)(n);(0,l.apply)(e.coordinateToPixelTransform,c),(0,l.apply)(e.coordinateToPixelTransform,f),(0,l.apply)(e.coordinateToPixelTransform,h),(0,l.apply)(e.coordinateToPixelTransform,p),t.save(),(0,s.rotateAtOffset)(t,-u,o,a),t.beginPath(),t.moveTo(c[0]*i,c[1]*i),t.lineTo(f[0]*i,f[1]*i),t.lineTo(h[0]*i,h[1]*i),t.lineTo(p[0]*i,p[1]*i),t.clip(),(0,s.rotateAtOffset)(t,u,o,a)},e.prototype.clipUnrotated=function(t,e,n){var i=(0,r.getTopLeft)(n),o=(0,r.getTopRight)(n),a=(0,r.getBottomRight)(n),s=(0,r.getBottomLeft)(n);(0,l.apply)(e.coordinateToPixelTransform,i),(0,l.apply)(e.coordinateToPixelTransform,o),(0,l.apply)(e.coordinateToPixelTransform,a),(0,l.apply)(e.coordinateToPixelTransform,s);var u=this.inversePixelTransform;(0,l.apply)(u,i),(0,l.apply)(u,o),(0,l.apply)(u,a),(0,l.apply)(u,s),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new o.default(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(a.default.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(a.default.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=i/2,u=o/2,c=r/e,f=-c,h=-t[0]+a,p=-t[1];return(0,l.compose)(this.tempTransform_,s,u,c,f,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var r,i=(0,l.apply)(this.inversePixelTransform,t.slice()),o=this.context;try{r=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:r}return 0===r[3]?null:r},e}(u.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOrder=function(t,e){return parseInt((0,r.getUid)(t),10)-parseInt((0,r.getUid)(e),10)},e.getSquaredTolerance=function(t,e){var n=c(t,e);return n*n},e.getTolerance=c,e.renderFeature=function(t,e,n,r,s,u){var c=!1,f=n.getImage();if(f){var h=f.getImageState();h==i.default.LOADED||h==i.default.ERROR?f.unlistenImageChange(s):(h==i.default.IDLE&&f.load(),h=f.getImageState(),f.listenImageChange(s),c=!0)}return function(t,e,n,r,i){var s=n.getGeometryFunction()(e);if(s){var u=s.simplifyTransformed(r,i);if(n.getRenderer())!function t(e,n,r,i){if(n.getType()!=o.default.GEOMETRY_COLLECTION)e.getBuilder(r.getZIndex(),a.default.DEFAULT).drawCustom(n,i,r.getRenderer());else for(var s=n.getGeometries(),u=0,l=s.length;u<l;++u)t(e,s[u],r,i)}(t,u,n,e);else(0,l[u.getType()])(t,u,n,e)}}(t,e,n,r,u),c};var r=n(11),i=s(n(91)),o=s(n(17)),a=s(n(238));function s(t){return t&&t.__esModule?t:{default:t}}var u=.5,l={Point:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=i.default.LOADED)return;var s=t.getBuilder(n.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawPoint(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!!o)),l.drawText(e,r)}},LineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),a.default.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},Polygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var s=t.getBuilder(n.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,r)}},MultiPoint:function(t,e,n,r){var o=n.getImage();if(o){if(o.getImageState()!=i.default.LOADED)return;var s=t.getBuilder(n.getZIndex(),a.default.IMAGE);s.setImageStyle(o,t.addDeclutter(!1)),s.drawMultiPoint(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!!o)),l.drawText(e,r)}},MultiLineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),a.default.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),a.default.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},MultiPolygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var s=t.getBuilder(n.getZIndex(),a.default.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,r)}},GeometryCollection:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,l[a[i].getType()])(t,a[i],n,r)}},Circle:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var s=t.getBuilder(n.getZIndex(),a.default.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(e,r)}var u=n.getText();if(u){var l=t.getBuilder(n.getZIndex(),a.default.TEXT);l.setTextStyle(u,t.addDeclutter(!1)),l.drawText(e,r)}}};function c(t,e){return u*t/e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_ZOOM=42,e.DEFAULT_TILE_SIZE=256},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.disable=function(t){return void 0!==t?0:void 0},e.none=function(t){return void 0!==t?t:void 0},e.createSnapToN=function(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}},e.createSnapToZero=function(t){var e=t||(0,r.toRadians)(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}};var r=n(19)},function(t,e){var n=null,r=null;function i(t,e,n){t.addEventListener(e,(function(t){var i=new MouseEvent(n,t);i.pointerId=1,i.isPrimary=!0,i.pointerType="mouse",i.width=1,i.height=1,i.tiltX=0,i.tiltY=0,"buttons"in t&&0!==t.buttons?i.pressure=.5:i.pressure=0;var o=t.target;null!==r&&(o=r,"mouseup"===e&&(r=null)),o.dispatchEvent(i),i.defaultPrevented&&t.preventDefault()}))}function o(t,e,r){t.addEventListener(e,(function(t){for(var i=t.changedTouches,o=i.length,a=0;a<o;a++){var s=new CustomEvent(r,{bubbles:!0,cancelable:!0});s.ctrlKey=t.ctrlKey,s.shiftKey=t.shiftKey,s.altKey=t.altKey,s.metaKey=t.metaKey;var u=i.item(a);s.clientX=u.clientX,s.clientY=u.clientY,s.screenX=u.screenX,s.screenY=u.screenY,s.pageX=u.pageX,s.pageY=u.pageY;var l=u.target.getBoundingClientRect();s.offsetX=u.clientX-l.left,s.offsetY=u.clientY-l.top,s.pointerId=1+u.identifier,s.button=0,s.buttons=1,s.movementX=0,s.movementY=0,s.region=null,s.relatedTarget=null,s.x=s.clientX,s.y=s.clientY,s.pointerType="touch",s.width=1,s.height=1,s.tiltX=0,s.tiltY=0,s.pressure=1,"touchstart"===e&&null===n&&(n=u.identifier),s.isPrimary=u.identifier===n,"touchend"===e&&s.isPrimary&&(n=null),t.target.dispatchEvent(s),s.defaultPrevented&&t.preventDefault()}}))}"PointerEvent"in window||(Element.prototype.setPointerCapture=Element.prototype.setCapture,Element.prototype.releasePointerCapture=Element.prototype.releaseCapture,"TouchEvent"in window||(i(document,"mousedown","pointerdown"),i(document,"mousemove","pointermove"),i(document,"mouseup","pointerup")),o(document,"touchstart","pointerdown"),o(document,"touchmove","pointermove"),o(document,"touchend","pointerup"))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={ACTIVE:"active"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateSourceResolution=function(t,e,n,r){var o=(0,a.transform)(n,e,t),s=(0,a.getPointResolution)(e,r,n),u=e.getMetersPerUnit();void 0!==u&&(s*=u);var l=t.getMetersPerUnit();void 0!==l&&(s/=l);var c=t.getExtent();if(!c||(0,i.containsCoordinate)(c,o)){var f=(0,a.getPointResolution)(t,s,o)/s;isFinite(f)&&f>0&&(s/=f)}return s},e.render=function(t,e,n,a,u,l,c,f,h,p,d){var g=(0,r.createCanvasContext2D)(Math.round(n*t),Math.round(n*e));if(0===h.length)return g.canvas;g.scale(n,n);var y=(0,i.createEmpty)();h.forEach((function(t,e,n){(0,i.extend)(y,t.extent)}));var m=(0,i.getWidth)(y),v=(0,i.getHeight)(y),_=(0,r.createCanvasContext2D)(Math.round(n*m/a),Math.round(n*v/a)),b=n/a;h.forEach((function(t,e,n){var r=t.extent[0]-y[0],o=-(t.extent[3]-y[3]),a=(0,i.getWidth)(t.extent),s=(0,i.getHeight)(t.extent);_.drawImage(t.image,p,p,t.image.width-2*p,t.image.height-2*p,r*b,o*b,a*b,s*b)}));var w=(0,i.getTopLeft)(c);return f.getTriangles().forEach((function(t,e,r){var i=t.source,u=t.target,c=i[0][0],f=i[0][1],h=i[1][0],p=i[1][1],d=i[2][0],m=i[2][1],v=(u[0][0]-w[0])/l,b=-(u[0][1]-w[1])/l,x=(u[1][0]-w[0])/l,S=-(u[1][1]-w[1])/l,E=(u[2][0]-w[0])/l,O=-(u[2][1]-w[1])/l,P=c,C=f;c=0,f=0;var T=[[h-=P,p-=C,0,0,x-v],[d-=P,m-=C,0,0,E-v],[0,0,h,p,S-b],[0,0,d,m,O-b]],N=(0,o.solveLinearSystem)(T);if(N){g.save(),g.beginPath();var I=(v+x+E)/3,M=(b+S+O)/3,A=s(I,M,v,b),L=s(I,M,x,S),R=s(I,M,E,O);g.moveTo(L[0],L[1]),g.lineTo(A[0],A[1]),g.lineTo(R[0],R[1]),g.clip(),g.transform(N[0],N[2],N[1],N[3],v,b),g.translate(y[0]-P,y[3]-C),g.scale(a/n,-a/n),g.drawImage(_.canvas,0,0),g.restore()}})),d&&(g.save(),g.strokeStyle="black",g.lineWidth=1,f.getTriangles().forEach((function(t,e,n){var r=t.target,i=(r[0][0]-w[0])/l,o=-(r[0][1]-w[1])/l,a=(r[1][0]-w[0])/l,s=-(r[1][1]-w[1])/l,u=(r[2][0]-w[0])/l,c=-(r[2][1]-w[1])/l;g.beginPath(),g.moveTo(a,s),g.lineTo(i,o),g.lineTo(u,c),g.closePath(),g.stroke()})),g.restore()),g.canvas};var r=n(32),i=n(4),o=n(19),a=n(5);function s(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(730)),i=n(84),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,i.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove((0,i.getKey)(t.tileCoord)),t.release())}.bind(this))}},e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createFromTemplate=a,e.createFromTemplates=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=a(t[i],e);return s(r)},e.createFromTileUrlFunctions=s,e.nullTileUrlFunction=function(t,e,n){},e.expandUrl=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e};var r=n(18),i=n(19),o=n(84);function a(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,u,l){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(a,(function(){var t=s[0],n=e.getFullTileRange(t);return(0,r.assert)(n,55),(n.getHeight()-s[2]-1).toString()})):void 0}}function s(t){return 1===t.length?t[0]:function(e,n,r){if(e){var a=(0,o.hash)(e),s=(0,i.modulo)(a,t.length);return t[s](e,n,r)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getId=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=s(i),a=s(n(79));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){return a.default.v4()};e.getId=u;var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={value:t.value?t.value:t.field.default?t.field.default:""},n.onChange=n.onChange.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"getId",value:function(){return u()}},{key:"getValue",value:function(){return this.state.value}},{key:"getName",value:function(){return this.props.field.name}},{key:"onChange",value:function(t){var e=t.target.value;this.setState({value:e}),this.setValue(this.getName(),e)}},{key:"setValue",value:function(t,e){this.props.setValue(t,e)}},{key:"render",value:function(){var t=this.getId();return o.default.createElement("div",{className:"service-input"},o.default.createElement("label",{htmlFor:"input-"+t},this.props.field.label),o.default.createElement("input",{onChange:this.onChange,value:this.state.value,type:"text",id:"input-"+t}))}}]),e}();e.default=l},function(t,e,n){"use strict";n.r(e),e.default=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";n.r(e);var r=n(375),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();e.default=o},function(t,e,n){"use strict";t.exports=n(604)},function(t,e,n){"use strict";n.r(e);var r=n(254),i=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),o=n(250),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object),f=function(t){if(!Object(o.default)(t)||"[object Object]"!=Object(r.default)(t))return!1;var e=i(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c},h=n(255),p=n.n(h),d={INIT:"@@redux/INIT"};function g(t,e,n){var r;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(g)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],s=a,u=!1;function l(){s===a&&(s=a.slice())}function c(){return o}function h(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return l(),s.push(t),function(){if(e){e=!1,l();var n=s.indexOf(t);s.splice(n,1)}}}function y(t){if(!f(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,t)}finally{u=!1}for(var e=a=s,n=0;n<e.length;n++)(0,e[n])();return t}return y({type:d.INIT}),(r={dispatch:y,subscribe:h,getState:c,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,y({type:d.INIT})}})[p.a]=function(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[p.a]=function(){return this},t},r}function y(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function m(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o=Object.keys(n),a=void 0;try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:d.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+d.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){a=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=t[u],f=l(c,e);if(void 0===f){var h=y(u,e);throw new Error(h)}i[u]=f,r=r||f!==c}return r?i:t}}function v(t,e){return function(){return e(t.apply(void 0,arguments))}}function _(t,e){if("function"==typeof t)return v(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"==typeof a&&(r[o]=v(a,e))}return r}function b(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}var w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function x(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,i){var o,a=t(n,r,i),s=a.dispatch,u={getState:a.getState,dispatch:function(t){return s(t)}};return o=e.map((function(t){return t(u)})),s=b.apply(void 0,o)(a.dispatch),w({},a,{dispatch:s})}}}n.d(e,"createStore",(function(){return g})),n.d(e,"combineReducers",(function(){return m})),n.d(e,"bindActionCreators",(function(){return _})),n.d(e,"applyMiddleware",(function(){return x})),n.d(e,"compose",(function(){return b}))},function(t,e,n){"use strict";n.r(e);var r=n(135),i=n.n(r),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i.a?i.a.toStringTag:void 0,l=Object.prototype.toString,c=i.a?i.a.toStringTag:void 0;e.default=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?function(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}(t):function(t){return l.call(t)}(t)}},function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var i,o=function(t){return t&&t.__esModule?t:{default:t}}(n(592));i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=(0,o.default)(i);e.default=a}).call(this,n(72),n(216)(t))},function(t,e,n){t.exports=!n(23)&&!n(12)((function(){return 7!=Object.defineProperty(n(189)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){e.f=n(20)},function(t,e,n){var r=n(42),i=n(43),o=n(156)(!1),a=n(191)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(25),i=n(6),o=n(105);t.exports=n(23)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(43),i=n(108).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(23),i=n(105),o=n(157),a=n(138),s=n(26),u=n(137),l=Object.assign;t.exports=!l||n(12)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=s(t),l=arguments.length,c=1,f=o.f,h=a.f;l>c;)for(var p,d=u(arguments[c++]),g=f?i(d).concat(f(d)):i(d),y=g.length,m=0;y>m;)p=g[m++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:l},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(34),i=n(15),o=n(264),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(10).parseInt,i=n(125).trim,o=n(195),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(10).parseFloat,i=n(125).trim;t.exports=1/r(n(195)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(54);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(15),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(198),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*function(t){return t+1/o-1/o}(i/u/a)*u*a:(n=(e=(1+a/o)*i)-(e-i))>s||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(34),i=n(26),o=n(137),a=n(21);t.exports=function(t,e,n,s,u){r(e);var l=i(t),c=o(l),f=a(l.length),h=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(h in c){s=c[h],h+=p;break}if(h+=p,u?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:f>h;h+=p)h in c&&(s=e(s,c[h],h,l));return s}},function(t,e,n){"use strict";var r=n(26),i=n(106),o=n(21);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(210);n(1)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(23)&&"g"!=/./g.flags&&n(25).f(RegExp.prototype,"flags",{configurable:!0,get:n(139)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(214);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(280),i=n(113);t.exports=n(165)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(i(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(25).f,i=n(107),o=n(112),a=n(53),s=n(110),u=n(111),l=n(200),c=n(274),f=n(109),h=n(23),p=n(86).fastKey,d=n(113),g=h?"_s":"size",y=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,r){s(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&u(r,n,t[l],t)}));return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),r=y(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(d(this,e),t)}}),h&&r(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,n){var r,i,o=y(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){"use strict";var r=n(280),i=n(113);t.exports=n(165)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(10),o=n(64)(0),a=n(39),s=n(86),u=n(261),l=n(283),c=n(15),f=n(113),h=n(113),p=!i.ActiveXObject&&"ActiveXObject"in i,d=s.getWeak,g=Object.isExtensible,y=l.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(t){if(c(t)){var e=d(t);return!0===e?y(f(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(f(this,"WeakMap"),t,e)}},_=t.exports=n(165)("WeakMap",m,v,l,!0,!0);h&&p&&(u((r=l.getConstructor(m,"WeakMap")).prototype,v),s.NEED=!0,o(["delete","has","get","set"],(function(t){var e=_.prototype,n=e[t];a(e,t,(function(e,i){if(c(e)&&!g(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){"use strict";var r=n(112),i=n(86).getWeak,o=n(6),a=n(15),s=n(110),u=n(111),l=n(64),c=n(42),f=n(113),h=l(5),p=l(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},m=function(t,e){return h(t.a,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var l=t((function(t,r){s(t,l,e,"_i"),t._t=e,t._i=d++,t._l=void 0,null!=r&&u(r,n,t[o],t)}));return r(l.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?g(f(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?g(f(this,e)).has(t):n&&c(n,this._i)}}),l},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},function(t,e,n){var r=n(55),i=n(21);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(108),i=n(157),o=n(6),a=n(10).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var r=n(158),i=n(15),o=n(21),a=n(53),s=n(20)("isConcatSpreadable");t.exports=function t(e,n,u,l,c,f,h,p){for(var d,g,y=c,m=0,v=!!h&&a(h,p,3);m<l;){if(m in u){if(d=v?v(u[m],m,n):u[m],g=!1,i(d)&&(g=void 0!==(g=d[s])?!!g:r(d)),g&&f>0)y=t(e,n,d,o(d.length),y,f-1)-1;else{if(y>=9007199254740991)throw TypeError();e[y]=d}y++}m++}return y}},function(t,e,n){var r=n(21),i=n(197),o=n(62);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,l=void 0===n?" ":String(n),c=r(e);if(c<=u||""==l)return s;var f=c-u,h=i.call(l,Math.ceil(f/l.length));return h.length>f&&(h=h.slice(0,f)),a?h+s:s+h}},function(t,e,n){var r=n(23),i=n(105),o=n(43),a=n(138).f;t.exports=function(t){return function(e){for(var n,s=o(e),u=i(s),l=u.length,c=0,f=[];l>c;)n=u[c++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}}},function(t,e,n){"use strict";var r=n(124),i=n(290);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(111);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_RADIUS=void 0,e.getDistance=a,e.getLength=function t(e,n){var r=n||{},a=r.radius||o,u=r.projection||"EPSG:3857",l=e.getType();l!==i.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var c,f,h,p,d,g,y=0;switch(l){case i.default.POINT:case i.default.MULTI_POINT:break;case i.default.LINE_STRING:case i.default.LINEAR_RING:y=s(c=e.getCoordinates(),a);break;case i.default.MULTI_LINE_STRING:case i.default.POLYGON:for(h=0,p=(c=e.getCoordinates()).length;h<p;++h)y+=s(c[h],a);break;case i.default.MULTI_POLYGON:for(h=0,p=(c=e.getCoordinates()).length;h<p;++h)for(d=0,g=(f=c[h]).length;d<g;++d)y+=s(f[d],a);break;case i.default.GEOMETRY_COLLECTION:var m=e.getGeometries();for(h=0,p=m.length;h<p;++h)y+=t(m[h],n);break;default:throw new Error("Unsupported geometry type: "+l)}return y},e.getArea=function t(e,n){var r=n||{},a=r.radius||o,s=r.projection||"EPSG:3857",l=e.getType();l!==i.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(s,"EPSG:4326"));var c,f,h,p,d,g,y=0;switch(l){case i.default.POINT:case i.default.MULTI_POINT:case i.default.LINE_STRING:case i.default.MULTI_LINE_STRING:case i.default.LINEAR_RING:break;case i.default.POLYGON:for(c=e.getCoordinates(),y=Math.abs(u(c[0],a)),h=1,p=c.length;h<p;++h)y-=Math.abs(u(c[h],a));break;case i.default.MULTI_POLYGON:for(h=0,p=(c=e.getCoordinates()).length;h<p;++h)for(f=c[h],y+=Math.abs(u(f[0],a)),d=1,g=f.length;d<g;++d)y-=Math.abs(u(f[d],a));break;case i.default.GEOMETRY_COLLECTION:var m=e.getGeometries();for(h=0,p=m.length;h<p;++h)y+=t(m[h],n);break;default:throw new Error("Unsupported geometry type: "+l)}return y},e.offset=function(t,e,n,i){var a=i||o,s=(0,r.toRadians)(t[1]),u=(0,r.toRadians)(t[0]),l=e/a,c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(n)),f=u+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c));return[(0,r.toDegrees)(f),(0,r.toDegrees)(c)]};var r=n(19),i=function(t){return t&&t.__esModule?t:{default:t}}(n(17)),o=e.DEFAULT_RADIUS=6371008.8;function a(t,e,n){var i=n||o,a=(0,r.toRadians)(t[1]),s=(0,r.toRadians)(e[1]),u=(s-a)/2,l=(0,r.toRadians)(e[0]-t[0])/2,c=Math.sin(u)*Math.sin(u)+Math.sin(l)*Math.sin(l)*Math.cos(a)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e){for(var n=0,r=0,i=t.length;r<i-1;++r)n+=a(t[r],t[r+1],e);return n}function u(t,e){for(var n=0,i=t.length,o=t[i-1][0],a=t[i-1][1],s=0;s<i;s++){var u=t[s][0],l=t[s][1];n+=(0,r.toRadians)(u-o)*(2+Math.sin((0,r.toRadians)(a))+Math.sin((0,r.toRadians)(l))),o=u,a=l}return n*e*e/2}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===r.VERSION?r.VERSION:"v"+r.VERSION.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return i(e,t),e}(Error);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){i={}},e.add=function(t,e,n){var r=t.getCode(),o=e.getCode();r in i||(i[r]={}),i[r][o]=n},e.remove=function(t,e){var n=t.getCode(),o=e.getCode(),a=i[n][o];return delete i[n][o],(0,r.isEmpty)(i[n])&&delete i[n],a},e.get=function(t,e){var n;return t in i&&e in i[t]&&(n=i[t][e]),n};var r=n(13),i={}},function(t,e,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=a(n(75)),o=a(n(170));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){return t.call(this)||this}return s(e,t),e.prototype.getType=function(){return o.default.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,r.abstract)()},e.prototype.readFeaturesFromObject=function(t,e){return(0,r.abstract)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(l(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,r.abstract)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(l(t))},e.prototype.readProjectionFromObject=function(t){return(0,r.abstract)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,r.abstract)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,r.abstract)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,r.abstract)()},e}(i.default);function l(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),i=u(n(8)),o=n(4),a=u(n(300)),s=u(n(17));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return l(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(r.unlistenByKey),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,r.listen)(this.geometries_[t],i.default.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return r;for(var i=this.geometries_,a=0,s=i.length;a<s;++a)r=i[a].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,o.createOrUpdateEmpty)(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)(0,o.extend)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return f(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,a=r.length;o<a;++o){var s=r[o],u=s.getSimplifiedGeometry(t);n.push(u),u!==s&&(i=!0)}if(i){var l=new e(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return s.default.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=(0,o.getCenter)(this.getExtent()));for(var i=this.geometries_,a=0,s=i.length;a<s;++a)i[a].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(f(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(a.default);function f(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=f(n(30)),o=n(4),a=n(115),s=n(5),u=f(n(57)),l=n(36),c=n(29);function f(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=(0,l.create)(),d=function(t){function e(){var e=t.call(this)||this;return e.extent_=(0,o.createEmpty)(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=(0,c.memoizeOne)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)})),e}return h(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return(0,r.abstract)()},e.prototype.closestPointXY=function(t,e,n,i){return(0,r.abstract)()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,r.abstract)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,o.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,r.abstract)()},e.prototype.scale=function(t,e,n){(0,r.abstract)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,r.abstract)()},e.prototype.getType=function(){return(0,r.abstract)()},e.prototype.applyTransform=function(t){(0,r.abstract)()},e.prototype.intersectsExtent=function(t){return(0,r.abstract)()},e.prototype.translate=function(t,e){(0,r.abstract)()},e.prototype.transform=function(t,e){var n=(0,s.get)(t),r=n.getUnits()==u.default.TILE_PIXELS?function(t,r,i){var u=n.getExtent(),c=n.getWorldExtent(),f=(0,o.getHeight)(c)/(0,o.getHeight)(u);return(0,l.compose)(p,c[0],c[3],f,-f,0,0,0),(0,a.transform2D)(t,0,t.length,i,p,r),(0,s.getTransform)(n,e)(t,r,i)}:(0,s.getTransform)(n,e);return this.applyTransform(r),this},e}(i.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=function(t,e,n,r,i){for(var o,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}},function(t,e,n){"use strict";function r(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return a}Object.defineProperty(e,"__esModule",{value:!0}),e.lineStringLength=r,e.linearRingLength=function(t,e,n,i){var o=r(t,e,n,i),a=t[n-i]-t[e],s=t[n-i+1]-t[e+1];return o+Math.sqrt(a*a+s*s)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linearRingss=function(t,e,n,i){for(var o=[],a=(0,r.createEmpty)(),s=0,u=n.length;s<u;++s){var l=n[s];a=(0,r.createOrUpdateFromFlatCoordinates)(t,e,l[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=l[l.length-1]}return o};var r=n(4)},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=d,a/=256,l-=8);t[n+p-d]|=128*g}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildWfsQuery=v,e.wfsGetFeatures=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,i=v(t,e,n,r);return fetch(e.urls[0],{method:"POST",body:i}).then((function(t){return t.text()})).then((function(t){var n=(new o.default).readFeatures(t,{}).map((function(t){var e=(0,u.featureToJson)(t);return e.properties.boundedBy=t.getGeometry().getExtent(),e}));return(0,u.transformFeatures)(e.transforms,n)}))},e.wfsSaveFeatures=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _(t,e,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},r?"inserts":"updates",n))},e.wfsDeleteFeatures=function(t,e,n){return _(t,e,{deletes:n})};var r=c(n(114)),i=c(n(609)),o=c(n(143)),a=l(n(306)),s=l(n(5)),u=n(16);function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=null;if(e.length>1){n=t(e[0],e[1]);for(var r=2,i=e.length;r<i;r++)n=t(n,e[r])}else n=e[0];return n}var h={like:a.like,ilike:function(t,e){return a.like(t,e,"%","_","\\",!1)},eq:a.equalTo,ge:a.greaterThanOrEqualTo,gt:a.greaterThan,le:a.lessThanOrEqualTo,lt:a.lessThan},p={and:a.and,or:a.or},d=function t(e){return e.map((function(e){return Array.isArray(e)?f(p[e[0]],t(e.slice(1))):h[e.comparitor](e.name,e.value)}))},g=function(t){var e=t.params.typename;return t.config&&t.config.typename&&(e=t.config.typename),e},y=function(t){return t.config&&t.config["geometry-name"]?t.config["geometry-name"]:"geom"},m="text/xml; subtype=gml/2.1.2";function v(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m,u=y(e),l=n;e.wgs84Hack&&(l=new s.get("EPSG:4326"));var c=[];if(t.selection&&t.selection.length>0){var h=t.selection.map((function(t){var e=(new r.default).readGeometry(t.geometry);return e.transform(n,l),a.intersects(u,e)}));1===h.length?c.push(h[0]):c.push(f(p.or,h))}d(t.fields).forEach((function(t){return c.push(t)}));var v;v=c.length>1?f(p.and,c):c[0];var _=g(e).split(":"),b={srsName:l.getCode(),featurePrefix:_[0],featureTypes:[_[1]],outputFormat:o,filter:v},w=(new i.default).writeGetFeature(b);return(new XMLSerializer).serializeToString(w)}function _(t,e,n){var o=new i.default,a=t.config||{},s=g(t).split(":"),u={featurePrefix:s[0],featureType:s[1],srsName:a.srs||"EPSG:3857"};a["namespace-uri"]&&(u.featureNS=a["namespace-uri"]);var l=y(t),c=new r.default({geometryName:l}),f={updates:[],inserts:[],deletes:[]};["inserts","updates","deletes"].forEach((function(t){n[t]&&(f[t]=n[t].map((function(t){return c.readFeature(t,{geometryName:l})})),"EPSG:3857"!==u.srsName&&f[t].forEach((function(t){return t.getGeometry().transform("EPSG:3857",u.srsName)})))}));var h=o.writeTransaction(f.inserts,f.updates,f.deletes,u);return(new XMLSerializer).serializeToString(h)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.and=function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(r.default,e))},e.or=function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(v.default,e))},e.not=function(t){return new y.default(t)},e.bbox=function(t,e,n){return new i.default(t,e,n)},e.contains=function(t,e,n){return new o.default(t,e,n)},e.intersects=function(t,e,n){return new c.default(t,e,n)},e.within=function(t,e,n){return new _.default(t,e,n)},e.equalTo=function(t,e,n){return new s.default(t,e,n)},e.notEqualTo=function(t,e,n){return new m.default(t,e,n)},e.lessThan=function(t,e){return new d.default(t,e)},e.lessThanOrEqualTo=function(t,e){return new g.default(t,e)},e.greaterThan=function(t,e){return new u.default(t,e)},e.greaterThanOrEqualTo=function(t,e){return new l.default(t,e)},e.isNull=function(t){return new p.default(t)},e.between=function(t,e,n){return new f.default(t,e,n)},e.like=function(t,e,n,r,i,o){return new h.default(t,e,n,r,i,o)},e.during=function(t,e,n){return new a.default(t,e,n)};var r=b(n(611)),i=b(n(612)),o=b(n(613)),a=b(n(614)),s=b(n(615)),u=b(n(616)),l=b(n(617)),c=b(n(618)),f=b(n(619)),h=b(n(620)),p=b(n(621)),d=b(n(622)),g=b(n(623)),y=b(n(624)),m=b(n(625)),v=b(n(626)),_=b(n(627));function b(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=function(t){return t&&t.__esModule?t:{default:t}}(n(144)),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.conditions=n,(0,r.assert)(i.conditions.length>=2,57),i}return o(e,t),e}(i.default);e.default=a},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,i=n;return[i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],"-",i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]],i[t[r++]]].join("")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Catalog=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.renderTree=d,e.renderFlatTree=g;var i=h(n(2)),o=n(22),a=n(9),s=n(227),u=h(n(655)),l=h(n(311)),c=h(n(760)),f=h(n(762));function h(t){return t&&t.__esModule?t:{default:t}}function p(){return!0}function d(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,o=e[n];return o.children?i.default.createElement(u.default,{key:n,group:o,onExpand:function(){t((0,s.setGroupExpand)(n,!0!==o.expand))}},o.children.map((function(n){return d(t,e,n,r)}))):!!r(o)&&i.default.createElement(l.default,{key:n,layer:o})}function g(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,o=e[n],a=[];if(o.children)for(var s=0,u=o.children.length;s<u;s++){var c=g(t,e,o.children[s],r);c.length>0&&(a=a.concat(c))}else r(o)&&a.push(i.default.createElement(l.default,{key:n,layer:o}));return a}var y=e.Catalog=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={searchFilter:""},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this,e=this.props.showSearch?"catalog searchable":"catalog",n=function(e){return""===t.state.searchFilter||e.label.toLowerCase().indexOf(t.state.searchFilter)>=0};return i.default.createElement(a.Provider,{store:this.props.store},i.default.createElement("div",{className:e},this.props.showSearch&&i.default.createElement("div",{className:"searchbox"},i.default.createElement(o.Translation,null,(function(e){return i.default.createElement("input",{onChange:function(e){t.setState({searchFilter:e.target.value.toLowerCase()})},placeholder:e("search-catalog")})}))),""===this.state.searchFilter?this.props.catalog.root.children.map((function(e){return d(t.props.dispatch,t.props.catalog,e)})):this.props.catalog.root.children.map((function(e){return g(t.props.dispatch,t.props.catalog,e,n)})),i.default.createElement(c.default,null),i.default.createElement(f.default,null)))}}]),e}();y.defaultProps={showSearch:!0},e.default=(0,a.connect)((function(t){return{mapSources:t.mapSources,catalog:t.catalog}}))(y)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogLayer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=x(n(2)),o=x(n(7)),a=n(9),s=x(n(656)),u=x(n(657)),l=x(n(658)),c=x(n(661)),f=x(n(321)),h=x(n(662)),p=x(n(663)),d=x(n(664)),g=x(n(665)),y=x(n(312)),m=x(n(666)),v=x(n(667)),_=x(n(668)),b=x(n(759)),w=x(n(366));function x(t){return t&&t.__esModule?t:{default:t}}var S=e.CatalogLayer=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"getTools",value:function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var p,d=e[Symbol.iterator]();!(r=(p=d.next()).done);r=!0){var _=p.value,b=t.id+"_"+_;switch(_){case"up":n.push(i.default.createElement(y.default,{key:b,layer:t}));break;case"down":n.push(i.default.createElement(u.default,{key:b,layer:t}));break;case"fade":n.push(i.default.createElement(f.default,{key:b,layer:t}));break;case"unfade":n.push(i.default.createElement(g.default,{key:b,layer:t}));break;case"zoomto":n.push(i.default.createElement(v.default,{key:b,layer:t}));break;case"upload":n.push(i.default.createElement(m.default,{key:b,layer:t}));break;case"download":n.push(i.default.createElement(l.default,{key:b,layer:t}));break;case"clear":n.push(i.default.createElement(s.default,{key:b,layer:t}));break;case"draw-point":case"draw-polygon":case"draw-line":case"draw-modify":case"draw-remove":case"draw-edit":var w=_.split("-")[1];n.push(i.default.createElement(c.default,{drawType:w,key:b,layer:t}));break;case"legend-toggle":n.push(i.default.createElement(h.default,{layer:t,key:b}))}}}catch(t){o=!0,a=t}finally{try{!r&&d.return&&d.return()}finally{if(o)throw a}}return n}},{key:"getToolsForLayer",value:function(t){return this.getTools(t,t.tools.concat(this.props.forceTools))}},{key:"render",value:function(){var t=this.props.layer,e=["layer"];if(t.on&&e.push("on"),(t.minresolution||t.maxresolution)&&this.props.resolution){var n=void 0!==t.minresolution?t.minresolution:-1,r=void 0!==t.maxresolution?t.maxresolution:1e3;(this.props.resolution<n||this.props.resolution>r)&&e.push("out-of-resolution")}var o=this.getToolsForLayer(t);return i.default.createElement("div",{key:t.id,className:e.join(" ")},i.default.createElement("div",{className:"layer-label",title:t.tip},i.default.createElement(b.default,{layer:t}),i.default.createElement(w.default,{layer:t}),i.default.createElement("span",null,t.label),null!==t.refresh&&i.default.createElement(d.default,{layer:t}),!!t.metadata_url&&i.default.createElement(p.default,{href:t.metadata_url})),i.default.createElement("div",{className:"layer-tools"},o),!!t.legend&&i.default.createElement(_.default,{layer:t}))}}]),e}();S.propTypes={forceTools:o.default.array},S.defaultProps={forceTools:[]},e.default=(0,a.connect)((function(t){return{resolution:t.map?t.map.resolution:-1}}))(S)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpTool=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(27),s=n(16),u=n(81),l=e.UpTool=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"onClick",value:function(){for(var t=this.props.layer.src[0],e=(0,s.getLayersByZOrder)(this.props.catalog,this.props.mapSources),n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o.layer.src[0].mapSourceName===t.mapSourceName){var a=r+this.props.direction;if(a>=0&&a<i){var u=o.zIndex,l=e[a].zIndex,c=e[a].layer.src[0].mapSourceName;n.push({mapSourceName:t.mapSourceName,z:l}),n.push({mapSourceName:c,z:u})}}}for(var f=0,h=n.length;f<h;f++){var p=n[f];this.props.setZIndex(p.mapSourceName,p.z)}}},{key:"render",value:function(){var t=this;return i.default.createElement(u.Tool,{tip:this.props.tip,iconClass:this.props.iconClass,onClick:function(){t.onClick()}})}}]),e}();l.defaultProps={tip:"layer-up-tip",iconClass:"up",direction:-1,setZIndex:function(){}},e.default=(0,o.connect)((function(t){return{catalog:t.catalog,mapSources:t.mapSources}}),(function(t){return{setZIndex:function(e,n){t((0,a.setMapSourceZIndex)(e,n))}}}))(l)},function(t,e,n){var r,i=i||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,i=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},s=function(t){setTimeout((function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()}),4e4)},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(l,c,f){f||(l=u(l));var h,p=this,d="application/octet-stream"===l.type,g=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,t)}catch(t){a(t)}}}(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return h=e().createObjectURL(l),void setTimeout((function(){n.href=h,n.download=c,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(n),g(),s(h),p.readyState=p.DONE}));!function(){if((o||d&&i)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,g()},n.readAsDataURL(l),void(p.readyState=p.INIT)}h||(h=e().createObjectURL(l)),d?t.location.href=h:t.open(h,"_blank")||(t.location.href=h),p.readyState=p.DONE,g(),s(h)}()},c=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(t,e,n){return new l(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */t.exports?t.exports.saveAs=i:null!==n(659)&&null!==n(660)&&(void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getDefaultFillStyle=function(){return J},e.getDefaultImageStyle=function(){return Q},e.getDefaultStrokeStyle=function(){return $},e.getDefaultTextStyle=function(){return tt},e.getDefaultStyle=function(){return et},e.getDefaultStyleArray=function(){return nt},e.readFlatCoordinates=ot;var i=I(n(88)),o=n(14),a=n(18),s=n(147),u=n(75),l=I(n(175)),c=n(176),f=I(n(299)),h=I(n(46)),p=I(n(17)),d=I(n(65)),g=I(n(117)),y=I(n(89)),m=I(n(118)),v=I(n(47)),_=I(n(35)),b=n(19),w=n(5),x=I(n(131)),S=I(n(229)),E=I(n(230)),O=I(n(318)),P=I(n(148)),C=I(n(83)),T=I(n(149)),N=n(78);function I(t){return t&&t.__esModule?t:{default:t}}var M,A,L,R,k,F,j,D,U,G,z=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=["http://www.google.com/kml/ext/2.2"],q=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],V={fraction:E.default.FRACTION,pixels:E.default.PIXELS,insetPixels:E.default.PIXELS},Y=(0,N.makeStructureNS)(q,{ExtendedData:kt,Region:Ft,MultiGeometry:(0,N.makeObjectPropertySetter)(Pt,"geometry"),LineString:(0,N.makeObjectPropertySetter)(St,"geometry"),LinearRing:(0,N.makeObjectPropertySetter)(Et,"geometry"),Point:(0,N.makeObjectPropertySetter)(Ct,"geometry"),Polygon:(0,N.makeObjectPropertySetter)(Nt,"geometry"),Style:(0,N.makeObjectPropertySetter)(Mt),StyleMap:function(t,e){var n=lt.call(this,t,e);if(n){var r=e[e.length-1];Array.isArray(n)?r.Style=n:"string"==typeof n?r.styleUrl=n:(0,a.assert)(!1,38)}},address:(0,N.makeObjectPropertySetter)(c.readString),description:(0,N.makeObjectPropertySetter)(c.readString),name:(0,N.makeObjectPropertySetter)(c.readString),open:(0,N.makeObjectPropertySetter)(c.readBoolean),phoneNumber:(0,N.makeObjectPropertySetter)(c.readString),styleUrl:(0,N.makeObjectPropertySetter)(at),visibility:(0,N.makeObjectPropertySetter)(c.readBoolean)},(0,N.makeStructureNS)(B,{MultiTrack:(0,N.makeObjectPropertySetter)((function(t,e){var n=(0,N.pushParseAndPop)([],yt,t,e);if(n)return new g.default(n)}),"geometry"),Track:(0,N.makeObjectPropertySetter)(vt,"geometry")})),H=(0,N.makeStructureNS)(q,{ExtendedData:kt,Region:Ft,Link:function(t,e){(0,N.parseNode)(W,t,e)},address:(0,N.makeObjectPropertySetter)(c.readString),description:(0,N.makeObjectPropertySetter)(c.readString),name:(0,N.makeObjectPropertySetter)(c.readString),open:(0,N.makeObjectPropertySetter)(c.readBoolean),phoneNumber:(0,N.makeObjectPropertySetter)(c.readString),visibility:(0,N.makeObjectPropertySetter)(c.readBoolean)}),W=(0,N.makeStructureNS)(q,{href:(0,N.makeObjectPropertySetter)(at)}),X=(0,N.makeStructureNS)(q,{LatLonAltBox:function(t,e){var n=(0,N.pushParseAndPop)({},Ut,t,e);if(n){var r=e[e.length-1],i=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)];r.extent=i,r.altitudeMode=n.altitudeMode,r.minAltitude=parseFloat(n.minAltitude),r.maxAltitude=parseFloat(n.maxAltitude)}},Lod:function(t,e){var n=(0,N.pushParseAndPop)({},Gt,t,e);if(n){var r=e[e.length-1];r.minLodPixels=parseFloat(n.minLodPixels),r.maxLodPixels=parseFloat(n.maxLodPixels),r.minFadeExtent=parseFloat(n.minFadeExtent),r.maxFadeExtent=parseFloat(n.maxFadeExtent)}}}),K=(0,N.makeStructureNS)(q,["Document","Placemark"]),Z=(0,N.makeStructureNS)(q,{Document:(0,N.makeChildAppender)((function(t,e,n){var r={node:t};(0,N.pushSerializeAndPop)(r,Yt,Ht,e,n,void 0,this)})),Placemark:(0,N.makeChildAppender)(ye)}),J=null,Q=null,$=null,tt=null,et=null,nt=null,rt=function(t){function e(e){var n=t.call(this)||this,r=e||{};return nt||(M=[255,255,255,1],J=new x.default({color:M}),A=[20,2],L=E.default.PIXELS,R=E.default.PIXELS,k=[64,64],F="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",j=.5,Q=new S.default({anchor:A,anchorOrigin:O.default.BOTTOM_LEFT,anchorXUnits:L,anchorYUnits:R,crossOrigin:"anonymous",rotation:0,scale:j,size:k,src:F}),D="NO_IMAGE",$=new P.default({color:M,width:1}),U=new P.default({color:[51,51,51,1],width:2}),tt=new T.default({font:"bold 16px Helvetica",fill:J,stroke:U,scale:.8}),et=new C.default({fill:J,image:Q,text:tt,stroke:$,zIndex:0}),nt=[et]),n.dataProjection=(0,w.get)("EPSG:4326"),n.defaultStyle_=r.defaultStyle?r.defaultStyle:nt,n.extractStyles_=void 0===r.extractStyles||r.extractStyles,n.writeStyles_=void 0===r.writeStyles||r.writeStyles,n.sharedStyles_={},n.showPointNames_=void 0===r.showPointNames||r.showPointNames,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",n}return z(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var n=(0,N.makeStructureNS)(q,{Document:(0,N.makeArrayExtender)(this.readDocumentOrFolder_,this),Folder:(0,N.makeArrayExtender)(this.readDocumentOrFolder_,this),Placemark:(0,N.makeArrayPusher)(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});return(0,N.pushParseAndPop)([],n,t,e,this)||void 0},e.prototype.readPlacemark_=function(t,e){var n=(0,N.pushParseAndPop)({geometry:null},Y,t,e,this);if(n){var r=new i.default,o=t.getAttribute("id");null!==o&&r.setId(o);var a=e[0],s=n.geometry;if(s&&(0,u.transformGeometryWithOptions)(s,!1,a),r.setGeometry(s),delete n.geometry,this.extractStyles_){var l=function(t,e,n,r,i){return function(o,a){var s=i,u="",l=[];if(s){var c=o.getGeometry();if(c){var h=c.getType();h===p.default.GEOMETRY_COLLECTION?s=(l=c.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===p.default.POINT||e===p.default.MULTI_POINT}))).length>0:s=h===p.default.POINT||h===p.default.MULTI_POINT}}s&&(u=o.get("name"),(s=s&&!!u)&&u.search(/&[^&]+;/)>-1&&(G||(G=document.createElement("textarea")),G.innerHTML=u,u=G.value));var d=n;if(t?d=t:e&&(d=function t(e,n,r){return Array.isArray(e)?e:"string"==typeof e?(!(e in r)&&"#"+e in r&&(e="#"+e),t(r[e],n,r)):n}(e,n,r)),s){var g=function(t,e){var n=[0,0],r="start",i=t.getImage();if(i){var o=i.getImageSize();if(null===o&&(o=k),2==o.length){var a=i.getScale();n[0]=a*o[0]/2,n[1]=-a*o[1]/2,r="left"}}var s=t.getText();return s?((s=s.clone()).setFont(s.getFont()||tt.getFont()),s.setScale(s.getScale()||tt.getScale()),s.setFill(s.getFill()||tt.getFill()),s.setStroke(s.getStroke()||U)):s=tt.clone(),s.setText(e),s.setOffsetX(n[0]),s.setOffsetY(n[1]),s.setTextAlign(r),new C.default({image:i,text:s})}(d[0],u);return l.length>0?(g.setGeometry(new f.default(l)),[g,new C.default({geometry:d[0].getGeometry(),image:null,fill:d[0].getFill(),stroke:d[0].getStroke(),text:null})].concat(d.slice(1))):g}return d}}(n.Style,n.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(l)}return delete n.Style,r.setProperties(n,!0),r}},e.prototype.readSharedStyle_=function(t,e){var n=t.getAttribute("id");if(null!==n){var r=Mt.call(this,t,e);if(r){var i=void 0,o=t.baseURI;o&&"about:blank"!=o||(o=window.location.href),i=o?new URL("#"+n,o).href:"#"+n,this.sharedStyles_[i]=r}}},e.prototype.readSharedStyleMap_=function(t,e){var n=t.getAttribute("id");if(null!==n){var r=lt.call(this,t,e);if(r){var i,o=t.baseURI;o&&"about:blank"!=o||(o=window.location.href),i=o?new URL("#"+n,o).href:"#"+n,this.sharedStyles_[i]=r}}},e.prototype.readFeatureFromNode=function(t,e){return(0,o.includes)(q,t.namespaceURI)&&this.readPlacemark_(t,[this.getReadOptions(t,e)])||null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,o.includes)(q,t.namespaceURI))return[];var n,r=t.localName;if("Document"==r||"Folder"==r)return(n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]))||[];if("Placemark"==r){var i=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return i?[i]:[]}if("kml"==r){n=[];for(var a=t.firstElementChild;a;a=a.nextElementSibling){var s=this.readFeaturesFromNode(a,e);s&&(0,o.extend)(n,s)}return n}return[]},e.prototype.readName=function(t){if(t){if("string"==typeof t){var e=(0,N.parse)(t);return this.readNameFromDocument(e)}return(0,N.isDocument)(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(e);if(n)return n}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if((0,o.includes)(q,e.namespaceURI)&&"name"==e.localName)return(0,c.readString)(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var n=e.localName;if((0,o.includes)(q,e.namespaceURI)&&("Document"==n||"Folder"==n||"Placemark"==n||"kml"==n)){var r=this.readNameFromNode(e);if(r)return r}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"==typeof t){var n=(0,N.parse)(t);(0,o.extend)(e,this.readNetworkLinksFromDocument(n))}else(0,N.isDocument)(t)?(0,o.extend)(e,this.readNetworkLinksFromDocument(t)):(0,o.extend)(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(e,this.readNetworkLinksFromNode(n));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if((0,o.includes)(q,n.namespaceURI)&&"NetworkLink"==n.localName){var r=(0,N.pushParseAndPop)({},H,n,[]);e.push(r)}for(n=t.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;!(0,o.includes)(q,n.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||(0,o.extend)(e,this.readNetworkLinksFromNode(n))}return e},e.prototype.readRegion=function(t){var e=[];if("string"==typeof t){var n=(0,N.parse)(t);(0,o.extend)(e,this.readRegionFromDocument(n))}else(0,N.isDocument)(t)?(0,o.extend)(e,this.readRegionFromDocument(t)):(0,o.extend)(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(e,this.readRegionFromNode(n));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if((0,o.includes)(q,n.namespaceURI)&&"Region"==n.localName){var r=(0,N.pushParseAndPop)({},X,n,[]);e.push(r)}for(n=t.firstElementChild;n;n=n.nextElementSibling){var i=n.localName;!(0,o.includes)(q,n.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||(0,o.extend)(e,this.readRegionFromNode(n))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=(0,N.createElementNS)(q[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",B[0]),n.setAttributeNS(r,"xmlns:xsi",N.XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(N.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:n},o={};t.length>1?o.Document=t:1==t.length&&(o.Placemark=t[0]);var a=K[n.namespaceURI],s=(0,N.makeSequence)(o,a);return(0,N.pushSerializeAndPop)(i,Z,N.OBJECT_PROPERTY_NODE_FACTORY,s,[e],a,this),n},e}(l.default);function it(t){var e=(0,N.getAllTextContent)(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){var r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function ot(t){for(var e,n=(0,N.getAllTextContent)(t,!1),r=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=i.exec(n);){var o=parseFloat(e[1]),a=parseFloat(e[2]),s=e[3]?parseFloat(e[3]):0;r.push(o,a,s),n=n.substr(e[0].length)}if(""===n)return r}function at(t){var e=(0,N.getAllTextContent)(t,!1).trim(),n=t.baseURI;return n&&"about:blank"!=n||(n=window.location.href),n?new URL(e,n).href:e}function st(t){return(0,c.readDecimal)(t)}var ut=(0,N.makeStructureNS)(q,{Pair:function(t,e){var n=(0,N.pushParseAndPop)({},jt,t,e,this);if(n){var r=n.key;if(r&&"normal"==r){var i=n.styleUrl;i&&(e[e.length-1]=i);var o=n.Style;o&&(e[e.length-1]=o)}}}});function lt(t,e){return(0,N.pushParseAndPop)(void 0,ut,t,e,this)}var ct=(0,N.makeStructureNS)(q,{Icon:(0,N.makeObjectPropertySetter)((function(t,e){return(0,N.pushParseAndPop)({},_t,t,e)||null})),color:(0,N.makeObjectPropertySetter)(it),heading:(0,N.makeObjectPropertySetter)(c.readDecimal),hotSpot:(0,N.makeObjectPropertySetter)((function(t){var e,n=t.getAttribute("xunits"),r=t.getAttribute("yunits");return e="insetPixels"!==n?"insetPixels"!==r?O.default.BOTTOM_LEFT:O.default.TOP_LEFT:"insetPixels"!==r?O.default.BOTTOM_RIGHT:O.default.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:V[n],y:parseFloat(t.getAttribute("y")),yunits:V[r],origin:e}})),scale:(0,N.makeObjectPropertySetter)(st)}),ft=(0,N.makeStructureNS)(q,{color:(0,N.makeObjectPropertySetter)(it),scale:(0,N.makeObjectPropertySetter)(st)}),ht=(0,N.makeStructureNS)(q,{color:(0,N.makeObjectPropertySetter)(it),width:(0,N.makeObjectPropertySetter)(c.readDecimal)}),pt=(0,N.makeStructureNS)(q,{color:(0,N.makeObjectPropertySetter)(it),fill:(0,N.makeObjectPropertySetter)(c.readBoolean),outline:(0,N.makeObjectPropertySetter)(c.readBoolean)}),dt=(0,N.makeStructureNS)(q,{coordinates:(0,N.makeReplacer)(ot)});function gt(t,e){return(0,N.pushParseAndPop)(null,dt,t,e)}var yt=(0,N.makeStructureNS)(B,{Track:(0,N.makeArrayPusher)(vt)}),mt=(0,N.makeStructureNS)(q,{when:function(t,e){var n=e[e.length-1].whens,r=(0,N.getAllTextContent)(t,!1),i=Date.parse(r);n.push(isNaN(i)?0:i)}},(0,N.makeStructureNS)(B,{coord:function(t,e){var n=e[e.length-1].flatCoordinates,r=(0,N.getAllTextContent)(t,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(r);if(i){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]);n.push(o,a,s,0)}else n.push(0,0,0,0)}}));function vt(t,e){var n=(0,N.pushParseAndPop)({flatCoordinates:[],whens:[]},mt,t,e);if(n){for(var r=n.flatCoordinates,i=n.whens,o=0,a=Math.min(r.length,i.length);o<a;++o)r[4*o+3]=i[o];return new d.default(r,h.default.XYZM)}}var _t=(0,N.makeStructureNS)(q,{href:(0,N.makeObjectPropertySetter)(at)},(0,N.makeStructureNS)(B,{x:(0,N.makeObjectPropertySetter)(c.readDecimal),y:(0,N.makeObjectPropertySetter)(c.readDecimal),w:(0,N.makeObjectPropertySetter)(c.readDecimal),h:(0,N.makeObjectPropertySetter)(c.readDecimal)})),bt=(0,N.makeStructureNS)(q,{coordinates:(0,N.makeReplacer)(ot)});function wt(t,e){return(0,N.pushParseAndPop)(null,bt,t,e)}var xt=(0,N.makeStructureNS)(q,{extrude:(0,N.makeObjectPropertySetter)(c.readBoolean),tessellate:(0,N.makeObjectPropertySetter)(c.readBoolean),altitudeMode:(0,N.makeObjectPropertySetter)(c.readString)});function St(t,e){var n=(0,N.pushParseAndPop)({},xt,t,e),r=wt(t,e);if(r){var i=new d.default(r,h.default.XYZ);return i.setProperties(n,!0),i}}function Et(t,e){var n=(0,N.pushParseAndPop)({},xt,t,e),r=wt(t,e);if(r){var i=new _.default(r,h.default.XYZ,[r.length]);return i.setProperties(n,!0),i}}var Ot=(0,N.makeStructureNS)(q,{LineString:(0,N.makeArrayPusher)(St),LinearRing:(0,N.makeArrayPusher)(Et),MultiGeometry:(0,N.makeArrayPusher)(Pt),Point:(0,N.makeArrayPusher)(Ct),Polygon:(0,N.makeArrayPusher)(Nt)});function Pt(t,e){var n,r=(0,N.pushParseAndPop)([],Ot,t,e);if(!r)return null;if(0===r.length)return new f.default(r);for(var i,s=!0,u=r[0].getType(),l=1,c=r.length;l<c;++l)if((i=r[l]).getType()!=u){s=!1;break}if(s){var h=void 0,d=void 0;if(u==p.default.POINT){var v=r[0];for(h=v.getLayout(),d=v.getFlatCoordinates(),l=1,c=r.length;l<c;++l)i=r[l],(0,o.extend)(d,i.getFlatCoordinates());At(n=new y.default(d,h),r)}else u==p.default.LINE_STRING?At(n=new g.default(r),r):u==p.default.POLYGON?At(n=new m.default(r),r):u==p.default.GEOMETRY_COLLECTION?n=new f.default(r):(0,a.assert)(!1,37)}else n=new f.default(r);return n}function Ct(t,e){var n=(0,N.pushParseAndPop)({},xt,t,e),r=wt(t,e);if(r){var i=new v.default(r,h.default.XYZ);return i.setProperties(n,!0),i}}var Tt=(0,N.makeStructureNS)(q,{innerBoundaryIs:function(t,e){var n=(0,N.pushParseAndPop)(void 0,zt,t,e);n&&e[e.length-1].push(n)},outerBoundaryIs:function(t,e){var n=(0,N.pushParseAndPop)(void 0,Bt,t,e);n&&(e[e.length-1][0]=n)}});function Nt(t,e){var n=(0,N.pushParseAndPop)({},xt,t,e),r=(0,N.pushParseAndPop)([null],Tt,t,e);if(r&&r[0]){for(var i=r[0],a=[i.length],s=1,u=r.length;s<u;++s)(0,o.extend)(i,r[s]),a.push(i.length);var l=new _.default(i,h.default.XYZ,a);return l.setProperties(n,!0),l}}var It=(0,N.makeStructureNS)(q,{IconStyle:function(t,e){var n=(0,N.pushParseAndPop)({},ct,t,e);if(n){var r,i,o,a,s=e[e.length-1],u="Icon"in n?n.Icon:{},l=!("Icon"in n)||Object.keys(u).length>0,c=u.href;c?r=c:l&&(r=F);var f,h=O.default.BOTTOM_LEFT,p=n.hotSpot;p?(i=[p.x,p.y],o=p.xunits,a=p.yunits,h=p.origin):r===F?(i=A,o=L,a=R):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(i=[.5,0],o=E.default.FRACTION,a=E.default.FRACTION);var d,g=u.x,y=u.y;void 0!==g&&void 0!==y&&(f=[g,y]);var m,v=u.w,_=u.h;void 0!==v&&void 0!==_&&(d=[v,_]);var w=n.heading;void 0!==w&&(m=(0,b.toRadians)(w));var x=n.scale,P=n.color;if(l){r==F&&(d=k,void 0===x&&(x=j));var C=new S.default({anchor:i,anchorOrigin:h,anchorXUnits:o,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:f,offsetOrigin:O.default.BOTTOM_LEFT,rotation:m,scale:x,size:d,src:r,color:P});s.imageStyle=C}else s.imageStyle=D}},LabelStyle:function(t,e){var n=(0,N.pushParseAndPop)({},ft,t,e);if(n){var r=e[e.length-1],i=new T.default({fill:new x.default({color:"color"in n?n.color:M}),scale:n.scale});r.textStyle=i}},LineStyle:function(t,e){var n=(0,N.pushParseAndPop)({},ht,t,e);if(n){var r=e[e.length-1],i=new P.default({color:"color"in n?n.color:M,width:"width"in n?n.width:1});r.strokeStyle=i}},PolyStyle:function(t,e){var n=(0,N.pushParseAndPop)({},pt,t,e);if(n){var r=e[e.length-1],i=new x.default({color:"color"in n?n.color:M});r.fillStyle=i;var o=n.fill;void 0!==o&&(r.fill=o);var a=n.outline;void 0!==a&&(r.outline=a)}}});function Mt(t,e){var n=(0,N.pushParseAndPop)({},It,t,e,this);if(!n)return null;var r,i="fillStyle"in n?n.fillStyle:J,o=n.fill;void 0===o||o||(i=null),"imageStyle"in n?n.imageStyle!=D&&(r=n.imageStyle):r=Q;var a="textStyle"in n?n.textStyle:tt,s="strokeStyle"in n?n.strokeStyle:$,u=n.outline;return void 0===u||u?[new C.default({fill:i,image:r,stroke:s,text:a,zIndex:void 0})]:[new C.default({geometry:function(t){var e=t.getGeometry(),n=e.getType();return n===p.default.GEOMETRY_COLLECTION?new f.default(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e!==p.default.POLYGON&&e!==p.default.MULTI_POLYGON}))):n!==p.default.POLYGON&&n!==p.default.MULTI_POLYGON?e:void 0},fill:i,image:r,stroke:s,text:a,zIndex:void 0}),new C.default({geometry:function(t){var e=t.getGeometry(),n=e.getType();return n===p.default.GEOMETRY_COLLECTION?new f.default(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===p.default.POLYGON||e===p.default.MULTI_POLYGON}))):n===p.default.POLYGON||n===p.default.MULTI_POLYGON?e:void 0},fill:i,stroke:null,zIndex:void 0})]}function At(t,e){var n,r,i,o=e.length,a=new Array(e.length),s=new Array(e.length),u=new Array(e.length);n=!1,r=!1,i=!1;for(var l=0;l<o;++l){var c=e[l];a[l]=c.get("extrude"),s[l]=c.get("tessellate"),u[l]=c.get("altitudeMode"),n=n||void 0!==a[l],r=r||void 0!==s[l],i=i||u[l]}n&&t.set("extrude",a),r&&t.set("tessellate",s),i&&t.set("altitudeMode",u)}var Lt=(0,N.makeStructureNS)(q,{displayName:(0,N.makeObjectPropertySetter)(c.readString),value:(0,N.makeObjectPropertySetter)(c.readString)}),Rt=(0,N.makeStructureNS)(q,{Data:function(t,e){var n=t.getAttribute("name");(0,N.parseNode)(Lt,t,e);var r=e[e.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r.value},SchemaData:function(t,e){(0,N.parseNode)(Dt,t,e)}});function kt(t,e){(0,N.parseNode)(Rt,t,e)}function Ft(t,e){(0,N.parseNode)(X,t,e)}var jt=(0,N.makeStructureNS)(q,{Style:(0,N.makeObjectPropertySetter)(Mt),key:(0,N.makeObjectPropertySetter)(c.readString),styleUrl:(0,N.makeObjectPropertySetter)(at)}),Dt=(0,N.makeStructureNS)(q,{SimpleData:function(t,e){var n=t.getAttribute("name");if(null!==n){var r=(0,c.readString)(t);e[e.length-1][n]=r}}}),Ut=(0,N.makeStructureNS)(q,{altitudeMode:(0,N.makeObjectPropertySetter)(c.readString),minAltitude:(0,N.makeObjectPropertySetter)(c.readDecimal),maxAltitude:(0,N.makeObjectPropertySetter)(c.readDecimal),north:(0,N.makeObjectPropertySetter)(c.readDecimal),south:(0,N.makeObjectPropertySetter)(c.readDecimal),east:(0,N.makeObjectPropertySetter)(c.readDecimal),west:(0,N.makeObjectPropertySetter)(c.readDecimal)}),Gt=(0,N.makeStructureNS)(q,{minLodPixels:(0,N.makeObjectPropertySetter)(c.readDecimal),maxLodPixels:(0,N.makeObjectPropertySetter)(c.readDecimal),minFadeExtent:(0,N.makeObjectPropertySetter)(c.readDecimal),maxFadeExtent:(0,N.makeObjectPropertySetter)(c.readDecimal)}),zt=(0,N.makeStructureNS)(q,{LinearRing:(0,N.makeReplacer)(gt)}),Bt=(0,N.makeStructureNS)(q,{LinearRing:(0,N.makeReplacer)(gt)});function qt(t,e){for(var n=(0,s.asArray)(e),r=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]],i=0;i<4;++i){var o=Math.floor(r[i]).toString(16);r[i]=1==o.length?"0"+o:o}(0,c.writeStringTextNode)(t,r.join(""))}var Vt=(0,N.makeStructureNS)(q,{Data:(0,N.makeChildAppender)((function(t,e,n){t.setAttribute("name",e.name);var i={node:t},o=e.value;"object"==(void 0===o?"undefined":r(o))?(null!==o&&o.displayName&&(0,N.pushSerializeAndPop)(i,Vt,N.OBJECT_PROPERTY_NODE_FACTORY,[o.displayName],n,["displayName"]),null!==o&&o.value&&(0,N.pushSerializeAndPop)(i,Vt,N.OBJECT_PROPERTY_NODE_FACTORY,[o.value],n,["value"])):(0,N.pushSerializeAndPop)(i,Vt,N.OBJECT_PROPERTY_NODE_FACTORY,[o],n,["value"])})),value:(0,N.makeChildAppender)((function(t,e){(0,c.writeStringTextNode)(t,e)})),displayName:(0,N.makeChildAppender)((function(t,e){(0,c.writeCDATASection)(t,e)}))}),Yt=(0,N.makeStructureNS)(q,{Placemark:(0,N.makeChildAppender)(ye)}),Ht=function(t,e,n){var r=e[e.length-1].node;return(0,N.createElementNS)(r.namespaceURI,"Placemark")},Wt=(0,N.makeSimpleNodeFactory)("Data"),Xt=(0,N.makeStructureNS)(q,["href"],(0,N.makeStructureNS)(B,["x","y","w","h"])),Kt=(0,N.makeStructureNS)(q,{href:(0,N.makeChildAppender)(c.writeStringTextNode)},(0,N.makeStructureNS)(B,{x:(0,N.makeChildAppender)(c.writeDecimalTextNode),y:(0,N.makeChildAppender)(c.writeDecimalTextNode),w:(0,N.makeChildAppender)(c.writeDecimalTextNode),h:(0,N.makeChildAppender)(c.writeDecimalTextNode)})),Zt=function(t,e,n){return(0,N.createElementNS)(B[0],"gx:"+n)},Jt=(0,N.makeStructureNS)(q,["scale","heading","Icon","color","hotSpot"]),Qt=(0,N.makeStructureNS)(q,{Icon:(0,N.makeChildAppender)((function(t,e,n){var r={node:t},i=n[n.length-1].node,o=Xt[i.namespaceURI],a=(0,N.makeSequence)(e,o);(0,N.pushSerializeAndPop)(r,Kt,N.OBJECT_PROPERTY_NODE_FACTORY,a,n,o),o=Xt[B[0]],a=(0,N.makeSequence)(e,o),(0,N.pushSerializeAndPop)(r,Kt,Zt,a,n,o)})),color:(0,N.makeChildAppender)(qt),heading:(0,N.makeChildAppender)(c.writeDecimalTextNode),hotSpot:(0,N.makeChildAppender)((function(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)})),scale:(0,N.makeChildAppender)(Pe)}),$t=(0,N.makeStructureNS)(q,["color","scale"]),te=(0,N.makeStructureNS)(q,{color:(0,N.makeChildAppender)(qt),scale:(0,N.makeChildAppender)(Pe)}),ee=(0,N.makeStructureNS)(q,["color","width"]),ne=(0,N.makeStructureNS)(q,{color:(0,N.makeChildAppender)(qt),width:(0,N.makeChildAppender)(c.writeDecimalTextNode)}),re={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},ie=function(t,e,n){if(t){var r=e[e.length-1].node;return(0,N.createElementNS)(r.namespaceURI,re[t.getType()])}},oe=(0,N.makeSimpleNodeFactory)("Point"),ae=(0,N.makeSimpleNodeFactory)("LineString"),se=(0,N.makeSimpleNodeFactory)("LinearRing"),ue=(0,N.makeSimpleNodeFactory)("Polygon"),le=(0,N.makeStructureNS)(q,{LineString:(0,N.makeChildAppender)(_e),Point:(0,N.makeChildAppender)(_e),Polygon:(0,N.makeChildAppender)(Ee),GeometryCollection:(0,N.makeChildAppender)(ce)});function ce(t,e,n){var r,i={node:t},o=e.getType(),s=[];o===p.default.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach((function(t){var e=t.getType();e===p.default.MULTI_POINT?s=s.concat(t.getPoints()):e===p.default.MULTI_LINE_STRING?s=s.concat(t.getLineStrings()):e===p.default.MULTI_POLYGON?s=s.concat(t.getPolygons()):e===p.default.POINT||e===p.default.LINE_STRING||e===p.default.POLYGON?s.push(t):(0,a.assert)(!1,39)})),r=ie):o===p.default.MULTI_POINT?(s=e.getPoints(),r=oe):o===p.default.MULTI_LINE_STRING?(s=e.getLineStrings(),r=ae):o===p.default.MULTI_POLYGON?(s=e.getPolygons(),r=ue):(0,a.assert)(!1,39),(0,N.pushSerializeAndPop)(i,le,r,s,n)}var fe=(0,N.makeStructureNS)(q,{LinearRing:(0,N.makeChildAppender)(_e)});function he(t,e,n){var r={node:t};(0,N.pushSerializeAndPop)(r,fe,se,[e],n)}var pe=(0,N.makeStructureNS)(q,{ExtendedData:(0,N.makeChildAppender)((function(t,e,n){for(var r={node:t},i=e.names,o=e.values,a=i.length,s=0;s<a;s++)(0,N.pushSerializeAndPop)(r,Vt,Wt,[{name:i[s],value:o[s]}],n)})),MultiGeometry:(0,N.makeChildAppender)(ce),LineString:(0,N.makeChildAppender)(_e),LinearRing:(0,N.makeChildAppender)(_e),Point:(0,N.makeChildAppender)(_e),Polygon:(0,N.makeChildAppender)(Ee),Style:(0,N.makeChildAppender)((function(t,e,n){var r,i={node:t},o={};if(e.pointStyles.length){var a=e.pointStyles[0].getText();a&&(o.LabelStyle=a);var s=e.pointStyles[0].getImage();s&&"function"==typeof s.getSrc&&(o.IconStyle=s)}e.lineStyles.length&&((r=e.lineStyles[0].getStroke())&&(o.LineStyle=r));e.polyStyles.length&&((r=e.polyStyles[0].getStroke())&&!o.LineStyle&&(o.LineStyle=r),o.PolyStyle=e.polyStyles[0]);var u=n[n.length-1].node,l=Ce[u.namespaceURI],c=(0,N.makeSequence)(o,l);(0,N.pushSerializeAndPop)(i,Te,N.OBJECT_PROPERTY_NODE_FACTORY,c,n,l)})),address:(0,N.makeChildAppender)(c.writeStringTextNode),description:(0,N.makeChildAppender)(c.writeStringTextNode),name:(0,N.makeChildAppender)(c.writeStringTextNode),open:(0,N.makeChildAppender)(c.writeBooleanTextNode),phoneNumber:(0,N.makeChildAppender)(c.writeStringTextNode),styleUrl:(0,N.makeChildAppender)(c.writeStringTextNode),visibility:(0,N.makeChildAppender)(c.writeBooleanTextNode)}),de=(0,N.makeStructureNS)(q,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),ge=(0,N.makeSimpleNodeFactory)("ExtendedData");function ye(t,e,n){var r={node:t};e.getId()&&t.setAttribute("id",e.getId());var i=e.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter((function(t){return!o[t]})),s=e.getStyleFunction();if(s){var l=s(e,0);if(l){var c=Array.isArray(l)?l:[l],f=c;if(e.getGeometry()&&(f=c.filter((function(t){var n=t.getGeometryFunction()(e);if(n){var r=n.getType();return r===p.default.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===p.default.POINT||e===p.default.MULTI_POINT})).length:r===p.default.POINT||r===p.default.MULTI_POINT}}))),this.writeStyles_){var h=c,d=c;e.getGeometry()&&(h=c.filter((function(t){var n=t.getGeometryFunction()(e);if(n){var r=n.getType();return r===p.default.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===p.default.LINE_STRING||e===p.default.MULTI_LINE_STRING})).length:r===p.default.LINE_STRING||r===p.default.MULTI_LINE_STRING}})),d=c.filter((function(t){var n=t.getGeometryFunction()(e);if(n){var r=n.getType();return r===p.default.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===p.default.POLYGON||e===p.default.MULTI_POLYGON})).length:r===p.default.POLYGON||r===p.default.MULTI_POLYGON}}))),i.Style={pointStyles:f,lineStyles:h,polyStyles:d}}if(f.length&&void 0===i.name){var g=f[0].getText();g&&(i.name=g.getText())}}}var y=n[n.length-1].node,m=de[y.namespaceURI],v=(0,N.makeSequence)(i,m);if((0,N.pushSerializeAndPop)(r,pe,N.OBJECT_PROPERTY_NODE_FACTORY,v,n,m),a.length>0){var _={names:a,values:(0,N.makeSequence)(i,a)};(0,N.pushSerializeAndPop)(r,pe,ge,[_],n)}var b=n[0],w=e.getGeometry();w&&(w=(0,u.transformGeometryWithOptions)(w,!0,b)),(0,N.pushSerializeAndPop)(r,pe,ie,[w],n)}var me=(0,N.makeStructureNS)(q,["extrude","tessellate","altitudeMode","coordinates"]),ve=(0,N.makeStructureNS)(q,{extrude:(0,N.makeChildAppender)(c.writeBooleanTextNode),tessellate:(0,N.makeChildAppender)(c.writeBooleanTextNode),altitudeMode:(0,N.makeChildAppender)(c.writeStringTextNode),coordinates:(0,N.makeChildAppender)((function(t,e,n){var r,i=n[n.length-1],o=i.layout,s=i.stride;o==h.default.XY||o==h.default.XYM?r=2:o==h.default.XYZ||o==h.default.XYZM?r=3:(0,a.assert)(!1,34);var u=e.length,l="";if(u>0){l+=e[0];for(var f=1;f<r;++f)l+=","+e[f];for(var p=s;p<u;p+=s)for(l+=" "+e[p],f=1;f<r;++f)l+=","+e[p+f]}(0,c.writeStringTextNode)(t,l)}))});function _e(t,e,n){var r=e.getFlatCoordinates(),i={node:t};i.layout=e.getLayout(),i.stride=e.getStride();var o=e.getProperties();o.coordinates=r;var a=n[n.length-1].node,s=me[a.namespaceURI],u=(0,N.makeSequence)(o,s);(0,N.pushSerializeAndPop)(i,ve,N.OBJECT_PROPERTY_NODE_FACTORY,u,n,s)}var be=(0,N.makeStructureNS)(q,["color","fill","outline"]),we=(0,N.makeStructureNS)(q,{outerBoundaryIs:(0,N.makeChildAppender)(he),innerBoundaryIs:(0,N.makeChildAppender)(he)}),xe=(0,N.makeSimpleNodeFactory)("innerBoundaryIs"),Se=(0,N.makeSimpleNodeFactory)("outerBoundaryIs");function Ee(t,e,n){var r=e.getLinearRings(),i=r.shift(),o={node:t};(0,N.pushSerializeAndPop)(o,we,xe,r,n),(0,N.pushSerializeAndPop)(o,we,Se,[i],n)}var Oe=(0,N.makeStructureNS)(q,{color:(0,N.makeChildAppender)(qt),fill:(0,N.makeChildAppender)(c.writeBooleanTextNode),outline:(0,N.makeChildAppender)(c.writeBooleanTextNode)});function Pe(t,e){(0,c.writeDecimalTextNode)(t,Math.round(1e6*e)/1e6)}var Ce=(0,N.makeStructureNS)(q,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Te=(0,N.makeStructureNS)(q,{IconStyle:(0,N.makeChildAppender)((function(t,e,n){var r={node:t},i={},o=e.getSrc(),a=e.getSize(),s=e.getImageSize(),u={href:o};if(a){u.w=a[0],u.h=a[1];var l=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(u.x=c[0],u.y=s[1]-(c[1]+a[1])),l&&(l[0]!==a[0]/2||l[1]!==a[1]/2)){var f={x:l[0],xunits:E.default.PIXELS,y:a[1]-l[1],yunits:E.default.PIXELS};i.hotSpot=f}}i.Icon=u;var h=e.getScale();1!==h&&(i.scale=h);var p=e.getRotation();0!==p&&(i.heading=p);var d=e.getColor();d&&(i.color=d);var g=n[n.length-1].node,y=Jt[g.namespaceURI],m=(0,N.makeSequence)(i,y);(0,N.pushSerializeAndPop)(r,Qt,N.OBJECT_PROPERTY_NODE_FACTORY,m,n,y)})),LabelStyle:(0,N.makeChildAppender)((function(t,e,n){var r={node:t},i={},o=e.getFill();o&&(i.color=o.getColor());var a=e.getScale();a&&1!==a&&(i.scale=a);var s=n[n.length-1].node,u=$t[s.namespaceURI],l=(0,N.makeSequence)(i,u);(0,N.pushSerializeAndPop)(r,te,N.OBJECT_PROPERTY_NODE_FACTORY,l,n,u)})),LineStyle:(0,N.makeChildAppender)((function(t,e,n){var r={node:t},i={color:e.getColor(),width:Number(e.getWidth())||1},o=n[n.length-1].node,a=ee[o.namespaceURI],s=(0,N.makeSequence)(i,a);(0,N.pushSerializeAndPop)(r,ne,N.OBJECT_PROPERTY_NODE_FACTORY,s,n,a)})),PolyStyle:(0,N.makeChildAppender)((function(t,e,n){var r={node:t},i=e.getFill(),o=e.getStroke(),a={color:i?i.getColor():void 0,fill:!!i&&void 0,outline:!!o&&void 0},s=n[n.length-1].node,u=be[s.namespaceURI],l=(0,N.makeSequence)(a,u);(0,N.pushSerializeAndPop)(r,Oe,N.OBJECT_PROPERTY_NODE_FACTORY,l,n,u)}))});e.default=rt},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(t,e,n,r,i,o){var a=s.shared.get(e,r,o);return a||(a=new f(t,e,n,r,i,o),s.shared.set(e,r,o,a)),a};var r=n(32),i=l(n(128)),o=l(n(8)),a=l(n(91)),s=n(316),u=n(231);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s.tainted_,s}return c(e,t),e.prototype.isTainted_=function(t){if(void 0===this.tainted_&&this.imageState_===a.default.LOADED){t||(t=(0,r.createCanvasContext2D)(1,1)).drawImage(this.image_,0,0);try{t.getImageData(0,0,1,1),this.tainted_=!1}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(o.default.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=a.default.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=a.default.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=(0,r.createCanvasContext2D)(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==a.default.IDLE){this.imageState_=a.default.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=(0,u.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");if(t.drawImage(this.image_,0,0),this.isTainted_(t)){var e=this.color_;return t.globalCompositeOperation="multiply",t.fillStyle="rgb("+e[0]+","+e[1]+","+e[2]+")",t.fillRect(0,0,this.image_.width,this.image_.height),t.globalCompositeOperation="destination-in",void t.drawImage(this.image_,0,0)}for(var n=t.getImageData(0,0,this.image_.width,this.image_.height),r=n.data,i=this.color_[0]/255,o=this.color_[1]/255,a=this.color_[2]/255,s=0,u=r.length;s<u;s+=4)r[s]*=i,r[s+1]*=o,r[s+2]*=a;t.putImageData(n,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shared=void 0;var r=n(147),i=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=o(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=o(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function o(t,e,n){return e+":"+t+":"+(n?(0,r.asString)(n):"null")}e.default=i,e.shared=new i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=a(n(128)),o=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.extent=e,o.pixelRatio_=r,o.resolution=n,o.state=i,o}return s(e,t),e.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r.abstract)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r.abstract)()},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(147),i=n(178),o=n(32),a=l(n(91)),s=n(58),u=l(n(232));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return c(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.default.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e=s.defaultLineCap,n=s.defaultLineJoin,r=0,a=null,u=0,l=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t=s.defaultStrokeStyle),t=(0,i.asColorLike)(t),void 0===(l=this.stroke_.getWidth())&&(l=s.defaultLineWidth),a=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n=s.defaultLineJoin),void 0===(e=this.stroke_.getLineCap())&&(e=s.defaultLineCap),void 0===(r=this.stroke_.getMiterLimit())&&(r=s.defaultMiterLimit));var c=2*(this.radius_+l)+1,f={strokeStyle:t,strokeWidth:l,size:c,lineCap:e,lineDash:a,lineDashOffset:u,lineJoin:n,miterLimit:r},h=(0,o.createCanvasContext2D)(c,c);this.canvas_=h.canvas;var p=c=this.canvas_.width,d=this.getDisplacement();this.draw_(f,h,0,0),this.createHitDetectionCanvas_(f),this.anchor_=[c/2-d[0],c/2+d[1]],this.size_=[c,c],this.imageSize_=[p,p]},e.prototype.draw_=function(t,e,n,r){var o,a,u;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(l*=2),o=0;o<=l;o++)a=2*o*Math.PI/l-Math.PI/2+this.angle_,u=o%2==0?this.radius_:c,e.lineTo(t.size/2+u*Math.cos(a),t.size/2+u*Math.sin(a))}if(this.fill_){var f=this.fill_.getColor();null===f&&(f=s.defaultFillStyle),e.fillStyle=(0,i.asColorLike)(f),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=(0,r.asArray)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var i=(0,o.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,u=void 0,l=void 0;for(a=0;a<=i;a++)l=2*a*Math.PI/i-Math.PI/2+this.angle_,u=a%2==0?this.radius_:o,e.lineTo(t.size/2+u*Math.cos(l),t.size/2+u*Math.sin(l))}e.fillStyle=s.defaultFillStyle,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(u.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FadeTool=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(9),o=n(27),a=n(81),s=e.FadeTool=function(t){var e=t.tip,n=t.iconClass,i=t.layer,o=t.mapSources,s=t.direction,u=t.onFade;return r.default.createElement(a.Tool,{tip:e,iconClass:n,onClick:function(){for(var t={},e=0,n=i.src.length;e<n;e++){var r=i.src[e].mapSourceName;t[r]=o[r].opacity}for(var a in t){var l=t[a]+=s;l<0?l=0:l>1&&(l=1),u(a,l)}}})};s.defaultProps={tip:"fade-tip",iconClass:"fade",direction:-.1},e.default=(0,i.connect)((function(t){return{mapSources:t.mapSources}}),(function(t){return{onFade:function(e,n){t((0,o.setOpacity)(e,n))}}}))(s)},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=function(t,e){return s(t,e).geometry},e.bufferFeature=s,e.bufferAndUnion=function(t,e){for(var n=null,r=0,o=t.length;r<o;r++){var a=s(t[r],e);n=null===n?a:(0,i.default)(n,a)}return n.geometry};var r=n(154),i=function(t){return t&&t.__esModule?t:{default:t}}(n(672)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5)),a=n(16);function s(t,e){var n=[0,0],i=t.geometry.type;"Point"===i?n=t.geometry.coordinates:"MultiPoint"===i||"LineString"===i?n=t.geometry.coordinates[0]:"MultiLineString"===i||"Polygon"===i?n=t.geometry.coordinates[0][0]:"MuliPolygon"===i&&(n=t.geometry.cooredinates[0][0][0]);var s=o.get((0,a.getUtmZone)(n)),u=(0,a.jsonToGeom)(t.geometry);u=u.transform("EPSG:4326",s);var l=(0,a.geomToJson)(u),c=(new r.GeoJSONReader).read(l),f=r.BufferOp.bufferOp(c,e);l=(new r.GeoJSONWriter).write(f);var h=(0,a.jsonToGeom)(l).transform(s,"EPSG:4326");return{type:"Feature",properties:{},geometry:(0,a.geomToJson)(h)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=w(n(88)),i=n(18),o=n(4),a=n(75),s=w(n(298)),u=w(n(46)),l=w(n(17)),c=w(n(65)),f=w(n(221)),h=w(n(117)),p=w(n(89)),d=w(n(118)),g=w(n(47)),y=w(n(35)),m=n(77),v=n(173),_=n(13),b=n(5);function w(t){return t&&t.__esModule?t:{default:t}}var x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S={};S[l.default.POINT]=function(t){return void 0!==t.m&&void 0!==t.z?new g.default([t.x,t.y,t.z,t.m],u.default.XYZM):void 0!==t.z?new g.default([t.x,t.y,t.z],u.default.XYZ):void 0!==t.m?new g.default([t.x,t.y,t.m],u.default.XYM):new g.default([t.x,t.y])},S[l.default.LINE_STRING]=function(t){var e=C(t);return new c.default(t.paths[0],e)},S[l.default.POLYGON]=function(t){var e=C(t);return new y.default(t.rings,e)},S[l.default.MULTI_POINT]=function(t){var e=C(t);return new p.default(t.points,e)},S[l.default.MULTI_LINE_STRING]=function(t){var e=C(t);return new h.default(t.paths,e)},S[l.default.MULTI_POLYGON]=function(t){var e=C(t);return new d.default(t.rings,e)};var E={};E[l.default.POINT]=function(t,e){var n,r=t.getCoordinates(),o=t.getLayout();return o===u.default.XYZ?n={x:r[0],y:r[1],z:r[2]}:o===u.default.XYM?n={x:r[0],y:r[1],m:r[2]}:o===u.default.XYZM?n={x:r[0],y:r[1],z:r[2],m:r[3]}:o===u.default.XY?n={x:r[0],y:r[1]}:(0,i.assert)(!1,34),n},E[l.default.LINE_STRING]=function(t,e){var n=T(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:[t.getCoordinates()]}},E[l.default.POLYGON]=function(t,e){var n=T(t);return{hasZ:n.hasZ,hasM:n.hasM,rings:t.getCoordinates(!1)}},E[l.default.MULTI_POINT]=function(t,e){var n=T(t);return{hasZ:n.hasZ,hasM:n.hasM,points:t.getCoordinates()}},E[l.default.MULTI_LINE_STRING]=function(t,e){var n=T(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:t.getCoordinates()}},E[l.default.MULTI_POLYGON]=function(t,e){for(var n=T(t),r=t.getCoordinates(!1),i=[],o=0;o<r.length;o++)for(var a=r[o].length-1;a>=0;a--)i.push(r[o][a]);return{hasZ:n.hasZ,hasM:n.hasM,rings:i}};var O=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).geometryName_=r.geometryName,n}return x(e,t),e.prototype.readFeatureFromObject=function(t,e){var n=t,i=P(n.geometry,e),o=new r.default;return this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(i),e&&e.idField&&n.attributes[e.idField]&&o.setId(n.attributes[e.idField]),n.attributes&&o.setProperties(n.attributes,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=e||{};if(t.features){var r=[],i=t.features;n.idField=t.objectIdFieldName;for(var o=0,a=i.length;o<a;++o)r.push(this.readFeatureFromObject(i[o],n));return r}return[this.readFeatureFromObject(t,n)]},e.prototype.readGeometryFromObject=function(t,e){return P(t,e)},e.prototype.readProjectionFromObject=function(t){if(t.spatialReference&&void 0!==t.spatialReference.wkid){var e=t.spatialReference.wkid;return(0,b.get)("EPSG:"+e)}return null},e.prototype.writeGeometryObject=function(t,e){return N(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={},r=t.getGeometry();r&&(n.geometry=N(r,e),e&&e.featureProjection&&(n.geometry.spatialReference={wkid:Number((0,b.get)(e.featureProjection).getCode().split(":").pop())}));var i=t.getProperties();return delete i[t.getGeometryName()],(0,_.isEmpty)(i)?n.attributes={}:n.attributes=i,n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{features:n}},e}(s.default);function P(t,e){var n,r,i;if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)i=l.default.POINT;else if(t.points)i=l.default.MULTI_POINT;else if(t.paths)i=1===t.paths.length?l.default.LINE_STRING:l.default.MULTI_LINE_STRING;else if(t.rings){var s=t,u=C(s),c=function(t,e){var n,r,i=[],a=[],s=[];for(n=0,r=t.length;n<r;++n){i.length=0,(0,m.deflateCoordinates)(i,0,t[n],e.length),(0,v.linearRingIsClockwise)(i,0,i.length,e.length)?a.push([t[n]]):s.push(t[n])}for(;s.length;){var u=s.shift(),l=!1;for(n=a.length-1;n>=0;n--){var c=a[n][0];if((0,o.containsExtent)(new f.default(c).getExtent(),new f.default(u).getExtent())){a[n].push(u),l=!0;break}}l||a.push([u.reverse()])}return a}(s.rings,u);1===c.length?(i=l.default.POLYGON,t=Object.assign({},t,((n={}).rings=c[0],n))):(i=l.default.MULTI_POLYGON,t=Object.assign({},t,((r={}).rings=c,r)))}var h=S[i];return(0,a.transformGeometryWithOptions)(h(t),!1,e)}function C(t){var e=u.default.XY;return!0===t.hasZ&&!0===t.hasM?e=u.default.XYZM:!0===t.hasZ?e=u.default.XYZ:!0===t.hasM&&(e=u.default.XYM),e}function T(t){var e=t.getLayout();return{hasZ:e===u.default.XYZ||e===u.default.XYZM,hasM:e===u.default.XYM||e===u.default.XYZM}}function N(t,e){return(0,E[t.getType()])((0,a.transformGeometryWithOptions)(t,!0,e),e)}e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loadFeaturesXhr=a,e.xhr=function(t,e){return a(t,e,(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}),r.VOID)},e.setWithCredentials=function(t){o=t};var r=n(29),i=function(t){return t&&t.__esModule?t:{default:t}}(n(170)),o=!1;function a(t,e,n,r){return function(a,s,u){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(a,s,u):t,!0),e.getType()==i.default.ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.withCredentials=o,l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var o=e.getType(),s=void 0;o==i.default.JSON||o==i.default.TEXT?s=l.responseText:o==i.default.XML?(s=l.responseXML)||(s=(new DOMParser).parseFromString(l.responseText,"application/xml")):o==i.default.ARRAY_BUFFER&&(s=l.response),s?n.call(this,e.readFeatures(s,{extent:a,featureProjection:u}),e.readProjection(s)):r.call(this)}else r.call(this)}.bind(this),l.onerror=function(){r.call(this)}.bind(this),l.send()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.all=function(t,e){return[[-1/0,-1/0,1/0,1/0]]},e.bbox=function(t,e){return[t]},e.tile=function(t){return function(e,n){var r=t.getZForResolution(n),i=t.getTileRangeForExtentAndZ(e,r),o=[],a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1])for(a[2]=i.minY;a[2]<=i.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}},function(t,e,n){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/s+f)),Math.min(o,Math.floor(r+(s-u)*c/s+f)),a)}var h=n[r],p=i,d=o;for(e(n,i,r),a(n[o],h)>0&&e(n,i,o);p<d;){for(e(n,p,d),p++,d--;a(n[p],h)<0;)p++;for(;a(n[d],h)>0;)d--}0===a(n[i],h)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function p(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!g(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;g(t,s)&&(e.leaf?n.push(a):d(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!g(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(g(t,o)){if(e.leaf||d(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=y([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!d(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=y(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=y([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));m(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var f=Math.min(c+l-1,n);m(t,c,f,u,this.compareMinY);for(var h=c;h<=f;h+=u){var p=Math.min(h+u-1,f);i.children.push(this._build(t,h,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),f=h(t,u)-l;f<o?(o=f,i=l<i?l:i,a=u):f===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=y(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i=1/0,o=1/0,s=e;s<=n-e;s++){var u=a(t,0,s,this.toBBox),l=a(t,s,n,this.toBBox),f=p(u,l),h=c(u)+c(l);f<i?(i=f,r=s,o=h<o?h:o):f===i&&h<o&&(o=h,r=s)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),l=f(o)+f(u),c=e;c<n-e;c++){var h=t.children[c];s(o,t.leaf?i(h):h),l+=f(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];s(u,t.leaf?i(d):d),l+=f(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(132)),i=n(13),o=n(83),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s="renderOrder",u=function(t){function e(e){var n=this,r=e||{},o=(0,i.assign)({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return a(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(s)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(s,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:o.createDefaultStyle,this.styleFunction_=null===t?void 0:(0,o.toFunction)(this.style_),this.changed()},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=l(n(30)),o=l(n(330)),a=n(19),s=n(13),u=n(18);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this)||this,r=(0,s.assign)({},e);return r[o.default.OPACITY]=void 0!==e.opacity?e.opacity:1,(0,u.assert)("number"==typeof r[o.default.OPACITY],64),r[o.default.VISIBLE]=void 0===e.visible||e.visible,r[o.default.Z_INDEX]=e.zIndex,r[o.default.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[o.default.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[o.default.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[o.default.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return c(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=(0,a.clamp)(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return(0,r.abstract)()},e.prototype.getLayerStatesArray=function(t){return(0,r.abstract)()},e.prototype.getExtent=function(){return this.get(o.default.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(o.default.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(o.default.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},e.prototype.getSourceState=function(){return(0,r.abstract)()},e.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(o.default.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(o.default.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){(0,u.assert)("number"==typeof t,64),this.set(o.default.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(i.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=l(n(151)),o=l(n(675)),a=l(n(676)),s=l(n(677)),u=l(n(333));function l(t){return t&&t.__esModule?t:{default:t}}var c={Circle:s.default,Default:i.default,Image:o.default,LineString:a.default,Polygon:s.default,Text:u.default},f=function(){function t(t,e,n,r,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=[(0,r.createEmpty)()],this.declutterGroups_=e,e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var i=r[e];return void 0===i&&(i=new(0,c[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i},t}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT_ALIGN=void 0;var r=n(11),i=n(178),o=n(4),a=n(678),s=h(n(17)),u=n(58),l=h(n(133)),c=h(n(151)),f=h(n(320));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=e.TEXT_ALIGN={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},g=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o}return p(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(n||r)){var c,h,p=this.coordinates.length,d=t.getType(),g=null,y=2,m=2;if(i.placement===f.default.LINE){if(!(0,o.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var v=void 0;if(g=t.getFlatCoordinates(),m=t.getStride(),d==s.default.LINE_STRING)v=[g.length];else if(d==s.default.MULTI_LINE_STRING)v=t.getEnds();else if(d==s.default.POLYGON)v=t.getEnds().slice(0,1);else if(d==s.default.MULTI_POLYGON){var _=t.getEndss();for(v=[],c=0,h=_.length;c<h;++c)v.push(_[c][0])}this.beginGeometry(t,e);for(var b=i.textAlign,w=0,x=void 0,S=0,E=v.length;S<E;++S){if(null==b){var O=(0,a.matchingChunk)(i.maxAngle,g,w,v[S],m);w=O[0],x=O[1]}else x=v[S];for(c=w;c<x;c+=m)this.coordinates.push(g[c],g[c+1]);y=this.coordinates.length,w=v[S];var P=this.declutterGroups_?0===S?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(p,y,P),p=y}this.endGeometry(e)}else{var C=null;switch(i.overflow||(C=[]),d){case s.default.POINT:case s.default.MULTI_POINT:y=(g=t.getFlatCoordinates()).length;break;case s.default.LINE_STRING:g=t.getFlatMidpoint();break;case s.default.CIRCLE:g=t.getCenter();break;case s.default.MULTI_LINE_STRING:y=(g=t.getFlatMidpoints()).length;break;case s.default.POLYGON:g=t.getFlatInteriorPoint(),i.overflow||C.push(g[2]/this.resolution),m=3;break;case s.default.MULTI_POLYGON:var T=t.getFlatInteriorPoints();for(g=[],c=0,h=T.length;c<h;c+=3)i.overflow||C.push(T[c+2]/this.resolution),g.push(T[c],T[c+1]);if(0==(y=g.length))return}y=this.appendFlatCoordinates(g,0,y,m,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var N=this.pixelRatio;this.instructions.push([l.default.DRAW_IMAGE,p,y,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==u.defaultPadding?u.defaultPadding:i.padding.map((function(t){return t*N})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,C]),this.hitDetectionInstructions.push([l.default.DRAW_IMAGE,p,y,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,C]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||u.defaultTextAlign,textBaseline:e.textBaseline||u.defaultTextBaseline,scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,c=d[i.textBaseline],f=this.textOffsetY_*u,h=this.text_,p=i.scale,g=r?r.lineWidth*p/2:0;this.instructions.push([l.default.DRAW_CHARS,t,e,c,n,i.overflow,s,i.maxAngle,u,f,o,g*u,h,a,1]),this.hitDetectionInstructions.push([l.default.DRAW_CHARS,t,e,c,n,i.overflow,s,i.maxAngle,1,f,o,g,h,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,o,a;if(t){this.declutterGroups_=e;var s=t.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=(0,i.asColorLike)(s.getColor()||u.defaultFillStyle)):(o=null,this.textFillState_=o);var l=t.getStroke();if(l){(a=this.textStrokeState_)||(a={},this.textStrokeState_=a);var c=l.getLineDash(),f=l.getLineDashOffset(),h=l.getWidth(),p=l.getMiterLimit();a.lineCap=l.getLineCap()||u.defaultLineCap,a.lineDash=c?c.slice():u.defaultLineDash,a.lineDashOffset=void 0===f?u.defaultLineDashOffset:f,a.lineJoin=l.getLineJoin()||u.defaultLineJoin,a.lineWidth=void 0===h?u.defaultLineWidth:h,a.miterLimit=void 0===p?u.defaultMiterLimit:p,a.strokeStyle=(0,i.asColorLike)(l.getColor()||u.defaultStrokeStyle)}else a=null,this.textStrokeState_=a;n=this.textState_;var d=t.getFont()||u.defaultFont;(0,u.registerFont)(d);var g=t.getScale();n.overflow=t.getOverflow(),n.font=d,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||u.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||u.defaultPadding,n.scale=void 0===g?1:g;var y=t.getOffsetX(),m=t.getOffsetY(),v=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===y?0:y,this.textOffsetY_=void 0===m?0:m,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===_?0:_,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:(0,r.getUid)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+(0,r.getUid)(o.fillStyle):""}else this.text_=""},e}(c.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCircleArray=y,e.replayDeclutter=function(t,e,n,i,o,a){for(var s=Object.keys(t).map(Number).sort(r.numberSafeCompareFunction),u=0,l=s.length;u<l;++u)for(var c=t[s[u].toString()],f=void 0,h=0,p=c.length;h<p;){var d=c[h++];d!==f&&(f=d,a.push({items:d.declutterItems,opacity:i}));var g=c[h++];d.execute(e,g,n,o)}};var r=n(14),i=n(32),o=n(4),a=n(115),s=n(13),u=f(n(238)),l=n(36),c=f(n(679));function f(t){return t&&t.__esModule?t:{default:t}}var h=[u.default.POLYGON,u.default.CIRCLE,u.default.LINE_STRING,u.default.IMAGE,u.default.TEXT,u.default.DEFAULT],p=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=(0,l.create)(),this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var i in r){var o=r[i];n[i]=new c.default(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,a,s,c){var f=2*(a=Math.round(a))+1,p=(0,l.compose)(this.hitDetectionTransform_,a+.5,a+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=(0,i.createCanvasContext2D)(f,f));var d,g=this.hitDetectionContext_;g.canvas.width!==f||g.canvas.height!==f?(g.canvas.width=f,g.canvas.height=f):g.clearRect(0,0,f,f),void 0!==this.renderBuffer_&&(d=(0,o.createEmpty)(),(0,o.extendCoordinate)(d,t),(0,o.buffer)(d,e*(this.renderBuffer_+a),d));var m,v=y(a);function _(t){for(var e=g.getImageData(0,0,f,f).data,n=0;n<f;n++)for(var r=0;r<f;r++)if(v[n][r]&&e[4*(r*f+n)+3]>0){var i=void 0;return(!c||m!=u.default.IMAGE&&m!=u.default.TEXT||-1!==c.indexOf(t))&&(i=s(t)),i||void g.clearRect(0,0,f,f)}}var b,w,x,S,E,O=Object.keys(this.executorsByZIndex_).map(Number);for(O.sort(r.numberSafeCompareFunction),b=O.length-1;b>=0;--b){var P=O[b].toString();for(x=this.executorsByZIndex_[P],w=h.length-1;w>=0;--w)if(void 0!==(S=x[m=h[w]])&&(E=S.executeHitDetection(g,p,n,_,d)))return E}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],s=[n,r,n,o,i,o,i,r];return(0,a.transform2D)(s,0,8,2,t,s),s},t.prototype.isEmpty=function(){return(0,s.isEmpty)(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(r.numberSafeCompareFunction),this.maxExtent_&&(t.save(),this.clip(t,e));var l,c,f,p,d,g,y=o||h;for(l=0,c=s.length;l<c;++l){var m=s[l].toString();for(d=this.executorsByZIndex_[m],f=0,p=y.length;f<p;++f){var v=y[f];if(void 0!==(g=d[v]))if(!a||v!=u.default.IMAGE&&v!=u.default.TEXT)g.execute(t,e,n,i);else{var _=a[m];_?_.push(g,e.slice(0)):a[m]=[g,e.slice(0)]}}}this.maxExtent_&&t.restore()},t}(),d={0:[[!0]]};function g(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0}function y(t){if(void 0!==d[t])return d[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)g(n,t+i,t+o),g(n,t+o,t+i),g(n,t-o,t+i),g(n,t-i,t+o),g(n,t-i,t-o),g(n,t-o,t-i),g(n,t+o,t-i),g(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return d[t]=n,n}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(31)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createHitDetectionImageData=function(t,e,n,c,f,h,p){var d=t[0]/2,g=t[1]/2,y=(0,i.createCanvasContext2D)(d,g);y.imageSmoothingEnabled=!1;for(var m=y.canvas,v=new r.default(y,.5,f,null,p),_=n.length,b=Math.floor(16777215/_),w={},x=1;x<=_;++x){var S=n[x-1],E=S.getStyleFunction()||c;if(c){var O=E(S,h);if(O){Array.isArray(O)||(O=[O]);for(var P="#"+("000000"+(x*b).toString(16)).slice(-6),C=0,T=O.length;C<T;++C){var N=O[C],I=N.clone(),M=I.getFill();M&&M.setColor(P);var A=I.getStroke();A&&A.setColor(P),I.setText(void 0);var L=N.getImage();if(L){var R=L.getImageSize();if(!R)continue;var k=document.createElement("canvas");k.width=R[0],k.height=R[1];var F=k.getContext("2d",{alpha:!1});F.fillStyle=P;var j=F.canvas;F.fillRect(0,0,j.width,j.height);var D=R?R[0]:j.width,U=R?R[1]:j.height;(0,i.createCanvasContext2D)(D,U).drawImage(j,0,0),I.setImage(new o.Icon({img:j,imgSize:R,anchor:L.getAnchor(),anchorXUnits:a.default.PIXELS,anchorYUnits:a.default.PIXELS,offset:L.getOrigin(),size:L.getSize(),opacity:L.getOpacity(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}var G=Number(I.getZIndex());(V=w[G])||(V={},w[G]=V,V[s.default.POLYGON]=[],V[s.default.CIRCLE]=[],V[s.default.LINE_STRING]=[],V[s.default.POINT]=[]);var z=I.getGeometryFunction()(S);z&&(0,u.intersects)(f,z.getExtent())&&V[z.getType().replace("Multi","")].push(z,I)}}}}for(var B=Object.keys(w).map(Number).sort(l.numberSafeCompareFunction),q=(x=0,B.length);x<q;++x){var V=w[B[x]];for(var Y in V){var H=V[Y];for(C=0,T=H.length;C<T;C+=2){v.setStyle(H[C+1]);for(var W=0,X=e.length;W<X;++W)v.setTransform(e[W]),v.drawGeometry(H[C])}}}return document.body.appendChild(y.canvas),y.getImageData(0,0,m.width,m.height)},e.hitDetect=function(t,e,n){var r=[];if(n){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[i],a=n.data[i+1],s=n.data[i+2]+256*(a+256*o),u=Math.floor(16777215/e.length);s&&s%u==0&&r.push(e[s/u-1])}return r};var r=c(n(337)),i=n(32),o=n(338),a=c(n(230)),s=c(n(17)),u=n(4),l=n(14);function c(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(178),o=n(4),a=h(n(17)),s=n(76),u=n(115),l=h(n(332)),c=n(58),f=n(36);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=0,u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=0,u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=(0,f.create)(),u}return p(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=(0,u.transform2D)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,h=i.length;c<h;c+=2){var p=i[c]-this.imageAnchorX_,d=i[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var g=p+this.imageAnchorX_,y=d+this.imageAnchorY_;(0,f.compose)(a,g,y,this.imageScale_,this.imageScale_,l,-g,-y),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=(0,u.transform2D)(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,l=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=(0,f.compose)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=(0,u.transform2D)(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if((0,o.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,s.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),a=this.context_;a.beginPath(),a.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&a.fill(),this.strokeState_&&a.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case a.default.POINT:this.drawPoint(t);break;case a.default.LINE_STRING:this.drawLineString(t);break;case a.default.POLYGON:this.drawPolygon(t);break;case a.default.MULTI_POINT:this.drawMultiPoint(t);break;case a.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case a.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case a.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case a.default.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,o.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if((0,o.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,a=t.getEnds(),s=t.getStride();n.beginPath();for(var u=0,l=a.length;u<l;++u)i=this.moveToLineTo_(r,i,a[u],s,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),(0,o.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),a=t.getStride();e.beginPath();for(var s=0,u=i.length;s<u;++s){var l=i[s];r=this.drawRings_(n,r,l,a)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&((0,r.equals)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:c.defaultTextAlign;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:(0,i.asColorLike)(n||c.defaultFillStyle)}}else this.fillState_=null;if(e){var r=e.getColor(),o=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),f=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:c.defaultLineCap,lineDash:a||c.defaultLineDash,lineDashOffset:s||c.defaultLineDashOffset,lineJoin:void 0!==u?u:c.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==l?l:c.defaultLineWidth),miterLimit:void 0!==f?f:c.defaultMiterLimit,strokeStyle:(0,i.asColorLike)(r||c.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:(0,i.asColorLike)(n||c.defaultFillStyle)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),a=r.getLineCap(),s=r.getLineDash(),u=r.getLineDashOffset(),l=r.getLineJoin(),f=r.getWidth(),h=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:c.defaultLineCap,lineDash:s||c.defaultLineDash,lineDashOffset:u||c.defaultLineDashOffset,lineJoin:void 0!==l?l:c.defaultLineJoin,lineWidth:void 0!==f?f:c.defaultLineWidth,miterLimit:void 0!==h?h:c.defaultMiterLimit,strokeStyle:(0,i.asColorLike)(o||c.defaultStrokeStyle)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),g=t.getOffsetY(),y=t.getRotateWithView(),m=t.getRotation(),v=t.getScale(),_=t.getText(),b=t.getTextAlign(),w=t.getTextBaseline();this.textState_={font:void 0!==p?p:c.defaultFont,textAlign:void 0!==b?b:c.defaultTextAlign,textBaseline:void 0!==w?w:c.defaultTextBaseline},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0!==m?m:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(l.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(233);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return h(r).default}});var i=n(131);Object.defineProperty(e,"Fill",{enumerable:!0,get:function(){return h(i).default}});var o=n(229);Object.defineProperty(e,"Icon",{enumerable:!0,get:function(){return h(o).default}});var a=n(315);Object.defineProperty(e,"IconImage",{enumerable:!0,get:function(){return h(a).default}});var s=n(232);Object.defineProperty(e,"Image",{enumerable:!0,get:function(){return h(s).default}});var u=n(319);Object.defineProperty(e,"RegularShape",{enumerable:!0,get:function(){return h(u).default}});var l=n(148);Object.defineProperty(e,"Stroke",{enumerable:!0,get:function(){return h(l).default}});var c=n(83);Object.defineProperty(e,"Style",{enumerable:!0,get:function(){return h(c).default}});var f=n(149);function h(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return h(f).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Units=void 0,e.render=g;var r=n(30),i=n(18),o=l(n(68)),a=n(59),s=n(5),u=l(n(57));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f="units",h=e.Units={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},p=[1,2,5],d=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.className?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:i.render||g,target:i.target})||this).innerElement_=document.createElement("div"),n.innerElement_.className=o+"-inner",n.element.className=o+" "+a.CLASS_UNSELECTABLE,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==i.minWidth?i.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addEventListener((0,r.getChangeEventType)(f),n.handleUnitsChanged_),n.setUnits(i.units||h.METRIC),n.scaleBar_=i.bar||!1,n.scaleBarSteps_=i.steps||4,n.scaleBarText_=i.text||!1,n}return c(e,t),e.prototype.getUnits=function(){return this.get(f)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(f,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,r=this.getUnits(),o=r==h.DEGREES?u.default.DEGREES:u.default.METERS,a=(0,s.getPointResolution)(n,t.resolution,e,o),l=this.minWidth_*a,c="";if(r==h.DEGREES){var f=s.METERS_PER_UNIT[u.default.DEGREES];(l*=f)<f/60?(c="",a*=3600):l<f?(c="",a*=60):c=""}else r==h.IMPERIAL?l<.9144?(c="in",a/=.0254):l<1609.344?(c="ft",a/=.3048):(c="mi",a/=1609.344):r==h.NAUTICAL?(a/=1852,c="nm"):r==h.METRIC?l<.001?(c="m",a*=1e6):l<1?(c="mm",a*=1e3):l<1e3?c="m":(c="km",a/=1e3):r==h.US?l<.9144?(c="in",a*=39.37):l<1609.344?(c="ft",a/=.30480061):(c="mi",a/=1609.3472):(0,i.assert)(!1,33);for(var d,g,y,m,v=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){y=Math.floor(v/3);var _=Math.pow(10,y);if(d=p[(v%3+3)%3]*_,g=Math.round(d/a),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++v}m=this.scaleBar_?this.createScaleBar(g,d,c):d.toFixed(y<0?-y:0)+" "+c,this.renderedHTML_!=m&&(this.innerElement_.innerHTML=m,this.renderedHTML_=m),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var r="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],o=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+r+"</div>":"")+i.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,r,i){var o=(0===t?0:Math.round(r/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+i);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+o+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(o.default);function g(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(342)),i=n(688),o=n(699),a=n(13),s=u(n(347));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){return(e=(0,a.assign)({},e)).controls||(e.controls=(0,i.defaults)()),e.interactions||(e.interactions=(0,o.defaults)()),t.call(this,e)||this}return l(e,t),e.prototype.createRenderer=function(){return new s.default(this)},e}(r.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=I(n(66)),i=I(n(120)),o=I(n(343)),a=I(n(684)),s=I(n(94)),u=I(n(344)),l=I(n(181)),c=I(n(346)),f=I(n(180)),h=n(30),p=I(h),d=I(n(127)),g=n(685),y=I(g),m=I(n(152)),v=I(n(150)),_=n(18),b=n(32),w=n(24),x=I(n(8)),S=n(4),E=n(29),O=n(82),P=I(n(687)),C=n(122),T=n(36),N=n(5);function I(t){return t&&t.__esModule?t:{default:t}}var M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(t){function e(e){var n=t.call(this)||this,o=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,a={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new P.default({layers:t.layers});return a[c.default.LAYERGROUP]=s,a[c.default.TARGET]=t.target,a[c.default.VIEW]=void 0!==t.view?t.view:new m.default,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.default(t.controls.slice()):((0,_.assert)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new r.default(t.interactions.slice()):((0,_.assert)("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.default(t.overlays.slice()):((0,_.assert)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.default,{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:a}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:O.DEVICE_PIXEL_RATIO,n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=(0,T.create)(),n.pixelToCoordinateTransform_=(0,T.create)(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new a.default(n,e.moveTolerance);var u=n.handleMapBrowserEvent.bind(n);for(var l in s.default)n.mapBrowserEventHandler_.addEventListener(s.default[l],u);n.keyboardEventTarget_=o.keyboardEventTarget,n.keyHandlerKeys_=null;var f=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(x.default.CONTEXTMENU,f,!1),n.viewport_.addEventListener(x.default.WHEEL,f,!!O.PASSIVE_EVENT_LISTENERS&&{passive:!1}),n.controls=o.controls||new r.default,n.interactions=o.interactions||new r.default,n.overlays_=o.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new y.default(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener((0,h.getChangeEventType)(c.default.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener((0,h.getChangeEventType)(c.default.VIEW),n.handleViewChanged_),n.addEventListener((0,h.getChangeEventType)(c.default.SIZE),n.handleSizeChanged_),n.addEventListener((0,h.getChangeEventType)(c.default.TARGET),n.handleTargetChanged_),n.setProperties(o.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(i.default.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(i.default.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(i.default.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(i.default.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(i.default.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(i.default.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}.bind(n)),n}return M(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(x.default.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(x.default.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(x.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:E.TRUE,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,a,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},i=void 0!==r.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=r.layerFilter||E.TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,i,e,o)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:E.TRUE,i=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,i,o,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(c.default.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return(0,N.toUserCoordinate)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?(0,T.apply)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(c.default.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=(0,N.fromUserCoordinate)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?(0,T.apply)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(c.default.SIZE)},e.prototype.getView=function(){return this.get(c.default.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,r){return(0,g.getTilePriority)(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new o.default(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent.target;if(t.dragging||!this.overlayContainerStopEvent_.contains(e)&&(document.body.contains(e)||this.viewport_.getRootNode&&this.viewport_.getRootNode().contains(e))){t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=n.length-1;r>=0;r--){var i=n[r];if(i.getActive()&&!i.handleEvent(t))break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[v.default.ANIMATING]||i[v.default.INTERACTING]){var o=!O.IMAGE_DECODE&&Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener(f.default.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(f.default.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)(0,w.unlistenByKey)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,w.listen)(r,x.default.KEYDOWN,this.handleBrowserEvent,this),(0,w.listen)(r,x.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(x.default.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),(0,b.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(x.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,w.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,w.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,w.listen)(t,d.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.listen)(t,x.default.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,w.listen)(t,d.default.PROPERTYCHANGE,this.render,this),(0,w.listen)(t,x.default.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),r=this.frameState_,i=null;if(void 0!==e&&(0,C.hasArea)(e)&&n&&n.isDef()){var o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:(0,S.getForViewAndSize)(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r&&(!this.previousExtent_||!(0,S.isEmpty)(this.previousExtent_)&&!(0,S.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new u.default(l.default.MOVESTART,this,r)),this.previousExtent_=(0,S.createOrUpdateEmpty)(this.previousExtent_)),this.previousExtent_&&!i.viewHints[v.default.ANIMATING]&&!i.viewHints[v.default.INTERACTING]&&!(0,S.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new u.default(l.default.MOVEEND,this,i)),(0,S.clone)(i.extent,this.previousExtent_))),this.dispatchEvent(new u.default(l.default.POSTRENDER,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(c.default.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(c.default.SIZE,t)},e.prototype.setTarget=function(t){this.set(c.default.TARGET,t)},e.prototype.setView=function(t){this.set(c.default.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(p.default);e.default=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(344)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return i(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(31)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(343)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i,o)||this;return a.pointerEvent=r,a}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(59),i=n(132),o=p(n(335)),a=p(n(180)),s=p(n(693)),u=p(n(92)),l=n(32),c=n(24),f=n(58),h=p(n(127));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=(0,c.listen)(f.checkedFonts,h.default.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=r.CLASS_UNSELECTABLE+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return d(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new o.default(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){(0,c.unlistenByKey)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(a.default.PRECOMPOSE,e);var n=e.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),r=e.viewState;this.children_.length=0;for(var o=null,s=0,c=n.length;s<c;++s){var f=n[s];if(e.layerIndex=s,(0,i.inView)(f,r)&&(f.sourceState==u.default.READY||f.sourceState==u.default.UNDEFINED)){var h=f.layer.render(e,o);h&&h!==o&&(this.children_.push(h),o=h)}}t.prototype.renderFrame.call(this,e),(0,l.replaceChildren)(this.element_,this.children_),this.dispatchRenderEvent(a.default.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){for(var a=e.viewState,s=e.layerStatesArray,u=s.length-1;u>=0;--u){var l=s[u],c=l.layer;if(c.hasRenderer()&&(0,i.inView)(l,a)&&o(c)){var f=c.getRenderer().getDataAtPixel(t,e,n);if(f){var h=r(c,f);if(h)return h}}}},e}(s.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=c;var r=s(n(68)),i=n(59),o=n(93),a=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render||c,target:r.target})||this;var o=void 0!==r.className?r.className:"ol-rotate",s=void 0!==r.label?r.label:"";n.label_=null,"string"==typeof s?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=s):(n.label_=s,n.label_.classList.add("ol-compass"));var u=r.tipLabel?r.tipLabel:"Reset rotation",l=document.createElement("button");l.className=o+"-reset",l.setAttribute("type","button"),l.title=u,l.appendChild(n.label_),l.addEventListener(a.default.CLICK,n.handleClick_.bind(n),!1);var f=o+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,h=n.element;return h.className=f,h.appendChild(l),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(i.CLASS_HIDDEN),n}return u(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:o.easeOut}):t.setRotation(0))}},e}(r.default);function c(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(i.CLASS_HIDDEN);o||0!==n?o&&0!==n&&this.element.classList.remove(i.CLASS_HIDDEN):this.element.classList.add(i.CLASS_HIDDEN)}this.label_.style.transform=r}this.rotation_=n}}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(31)),i=n(41),o=n(29),a=u(n(48)),s=u(n(702));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return l(e,t),e}(r.default),f=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new s.default(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,n.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:o.VOID,n.startPixel_=null,n.condition_=r.condition?r.condition:i.mouseActionButton,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return l(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new c("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){return this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new c("boxend",t.coordinate,t))),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c("boxstart",t.coordinate,t)),!0)},e}(a.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createRegularPolygon=function(t,e){return function(n,r,i){var o=(0,C.fromUserCoordinate)(n[0],i),a=(0,C.fromUserCoordinate)(n[1],i),s=Math.sqrt((0,u.squaredDistance)(o,a)),l=r||(0,b.fromCircle)(new p.default(o),t),c=e;if(!e){var f=a[0]-o[0],h=a[1]-o[1];c=Math.atan(h/f)-(f<0?Math.PI:0)}(0,b.makeRegular)(l,o,s,c);var d=(0,C.getUserProjection)();return d&&l.transform(i,d),l}},e.createBox=function(){return function(t,e,n){var r=(0,f.boundingExtent)(t.map((function(t){return(0,C.fromUserCoordinate)(t,n)}))),i=[[(0,f.getBottomLeft)(r),(0,f.getBottomRight)(r),(0,f.getTopRight)(r),(0,f.getTopLeft)(r),(0,f.getBottomLeft)(r)]],o=e;o?o.setCoordinates(i):o=new w.default(i);var a=(0,C.getUserProjection)();return a&&o.transform(n,a),o}};var r=T(n(8)),i=T(n(88)),o=T(n(94)),a=T(n(345)),s=n(30),u=n(67),l=T(n(31)),c=n(41),f=n(4),h=n(29),p=T(n(707)),d=T(n(17)),g=T(n(65)),y=T(n(117)),m=T(n(89)),v=T(n(118)),_=T(n(47)),b=n(35),w=T(b),x=T(n(48)),S=T(n(245)),E=T(n(121)),O=T(n(119)),P=n(83),C=n(5);function T(t){return t&&t.__esModule?t:{default:t}}var N=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},M="drawstart",A=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return N(e,t),e}(l.default),L=function(t){function e(e){var n=this,r=e;r.stopDown||(r.stopDown=h.FALSE),(n=t.call(this,r)||this).shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=function(t){var e;return t===d.default.POINT||t===d.default.MULTI_POINT?e=I.POINT:t===d.default.LINE_STRING||t===d.default.MULTI_LINE_STRING?e=I.LINE_STRING:t===d.default.POLYGON||t===d.default.MULTI_POLYGON?e=I.POLYGON:t===d.default.CIRCLE&&(e=I.CIRCLE),e}(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===I.POLYGON?3:2,n.maxPoints_=e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:h.TRUE;var i=e.geometryFunction;if(!i)if(n.type_===d.default.CIRCLE)i=function(t,e,n){var r=e||new p.default([NaN,NaN]),i=(0,C.fromUserCoordinate)(t[0],n),o=(0,u.squaredDistance)(i,(0,C.fromUserCoordinate)(t[1],n));r.setCenterAndRadius(i,Math.sqrt(o));var a=(0,C.getUserProjection)();return a&&r.transform(n,a),r};else{var o,a=n.mode_;a===I.POINT?o=_.default:a===I.LINE_STRING?o=g.default:a===I.POLYGON&&(o=w.default),i=function(t,e,n){var r=e;return r?a===I.POLYGON?t[0].length?r.setCoordinates([t[0].concat([t[0][0]])]):r.setCoordinates([]):r.setCoordinates(t):r=new o(t),r}}return n.geometryFunction_=i,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new E.default({source:new O.default({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:function(){var t=(0,P.createEditingStyle)();return function(e,n){return t[e.getGeometry().getType()]}}(),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:c.noModifierKeys,n.freehandCondition_,e.freehand?n.freehandCondition_=c.always:n.freehandCondition_=e.freehandCondition?e.freehandCondition:c.shiftKeyOnly,n.addEventListener((0,s.getChangeEventType)(S.default.ACTIVE),n.updateState_),n}return N(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===r.default.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==I.POINT&&this.freehandCondition_(e);var n=e.type===o.default.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===o.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===o.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===o.default.POINTERDOWN?i=!1:n?(i=e.type===o.default.POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):("mouse"==e.pointerEvent.pointerType||e.type===o.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===o.default.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.default(o.default.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var n=this.mode_===I.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate):(this.startDrawing_(t),this.mode_===I.POINT&&this.finishDrawing()),e=!1):this.freehand_&&this.abortDrawing(),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,r=e[0]-n[0],i=e[1]-n[1],o=r*r+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_];if(this.mode_===I.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===I.POLYGON){var i=this.sketchCoords_;n=i[0].length>this.minPoints_,r=[i[0][0],i[0][i[0].length-2]]}if(n)for(var o=t.map,a=0,s=r.length;a<s;a++){var u=r[a],l=o.getPixelFromCoordinate(u),c=t.pixel,f=c[0]-l[0],h=c[1]-l[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(f*f+h*h)<=p){this.finishCoordinate_=u;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new i.default(new _.default(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate,n=t.map.getView().getProjection();this.finishCoordinate_=e,this.mode_===I.POINT?this.sketchCoords_=e.slice():this.mode_===I.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new i.default(new g.default(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_,void 0,n);this.sketchFeature_=new i.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new A(M,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,r,o=t.coordinate,a=this.sketchFeature_.getGeometry(),s=t.map.getView().getProjection();if(this.mode_===I.POINT?n=this.sketchCoords_:this.mode_===I.POLYGON?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(o=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=o[0],n[1]=o[1],this.geometryFunction_(this.sketchCoords_,a,s),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(o),a.getType()==d.default.POLYGON&&this.mode_!==I.POLYGON){this.sketchLine_||(this.sketchLine_=new i.default);var u=a.getLinearRing(0);(r=this.sketchLine_.getGeometry())?(r.setFlatCoordinates(u.getLayout(),u.getFlatCoordinates()),r.changed()):(r=new g.default(u.getFlatCoordinates(),u.getLayout()),this.sketchLine_.setGeometry(r))}else this.sketchLineCoords_&&(r=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,r=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();this.mode_===I.LINE_STRING?(this.finishCoordinate_=t.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,r,i)):this.mode_===I.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r,i)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection();this.mode_===I.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e,n),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===I.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)),0===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===I.LINE_STRING?(e.pop(),this.geometryFunction_(e,n,r)):this.mode_===I.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n,r),e=n.getCoordinates()),this.type_===d.default.MULTI_POINT?t.setGeometry(new m.default([e])):this.type_===d.default.MULTI_LINE_STRING?t.setGeometry(new y.default([e])):this.type_===d.default.MULTI_POLYGON&&t.setGeometry(new v.default([e])),this.dispatchEvent(new A("drawend",t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new A("drawabort",t))},e.prototype.appendCoordinates=function(t){var e=this.mode_,n=[];e===I.LINE_STRING?n=this.sketchCoords_:e===I.POLYGON&&(n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]);for(var r=n.pop(),i=0;i<t.length;i++)this.addToDrawing_(t[i]);this.addToDrawing_(r)},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new A(M,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(x.default);e.default=L},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModifyEvent=void 0;var r=n(11),i=E(n(66)),o=E(n(120)),a=E(n(88)),s=E(n(94)),u=n(14),l=n(67),c=E(n(31)),f=E(n(8)),h=n(41),p=n(4),d=E(n(17)),g=E(n(47)),y=n(35),m=E(n(48)),v=E(n(121)),_=E(n(119)),b=E(n(236)),w=E(n(237)),x=n(83),S=n(5);function E(t){return t&&t.__esModule?t:{default:t}}var O=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),P=1,C=[0,0,0,0],T=[],N="modifyend",I=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.features=n,i.mapBrowserEvent=r,i}return O(e,t),e}(c.default);e.ModifyEvent=I;var M=function(t){function e(e){var n,r=t.call(this,e)||this;if(r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r),r.condition_=e.condition?e.condition:h.primaryAction,r.defaultDeleteCondition_=function(t){return(0,h.altKeyOnly)(t)&&(0,h.singleClick)(t)},r.deleteCondition_=e.deleteCondition?e.deleteCondition:r.defaultDeleteCondition_,r.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:h.always,r.vertexFeature_=null,r.vertexSegments_=null,r.lastPixel_=[0,0],r.ignoreNextSingleClick_=!1,r.modified_=!1,r.rBush_=new w.default,r.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,r.snappedToVertex_=!1,r.changingFeature_=!1,r.dragSegments_=[],r.overlay_=new v.default({source:new _.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:function(){var t=(0,x.createEditingStyle)();return function(e,n){return t[d.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)},r.source_=null,e.source?(r.source_=e.source,n=new i.default(r.source_.getFeatures()),r.source_.addEventListener(b.default.ADDFEATURE,r.handleSourceAdd_.bind(r)),r.source_.addEventListener(b.default.REMOVEFEATURE,r.handleSourceRemove_.bind(r))):n=e.features,!n)throw new Error("The modify interaction requires features or a source");return r.features_=n,r.features_.forEach(r.addFeature_.bind(r)),r.features_.addEventListener(o.default.ADD,r.handleFeatureAdd_.bind(r)),r.features_.addEventListener(o.default.REMOVE,r.handleFeatureRemove_.bind(r)),r.lastPointerEvent_=null,r}return O(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),t.addEventListener(f.default.CHANGE,this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new I("modifystart",this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(f.default.CHANGE,this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(var r=n.length-1;r>=0;--r){for(var i=n[r],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);e.remove(i)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r){var o=n[r],a={feature:t,geometry:e,depth:[r],index:r,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length-1;r<i;++r){var o=n.slice(r,r+2),a={feature:t,geometry:e,index:r,segment:o};this.rBush_.insert((0,p.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,segment:u};this.rBush_.insert((0,p.boundingExtent)(u),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var u=o.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,segment:u};this.rBush_.insert((0,p.boundingExtent)(u),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length;a<s;++a)for(var u=o[a],l=0,c=u.length-1;l<c;++l){var f=u.slice(l,l+2),h={feature:t,geometry:e,depth:[a,r],index:l,segment:f};this.rBush_.insert((0,p.boundingExtent)(f),h)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),r={feature:t,geometry:e,index:0,segment:[n,n]},i={feature:t,geometry:e,index:P,segment:[n,n]},o=[r,i];r.featureSegments=o,i.featureSegments=o,this.rBush_.insert((0,p.createOrUpdateFromCoordinate)(n),r);var a=e,s=(0,S.getUserProjection)();if(s&&this.getMap()){var u=this.getMap().getView().getProjection();a=a.clone().transform(s,u),a=(0,y.fromCircle)(a).transform(u,s)}this.rBush_.insert(a.getExtent(),i)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var i=n[r];(0,this.SEGMENT_WRITERS_[i.getType()])(t,i)}},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new a.default(new g.default(t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e)),e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=s.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=s.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==s.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,n=0,r=this.dragSegments_.length;n<r;++n){for(var i=this.dragSegments_[n],o=i[0],a=o.depth,s=o.geometry,u=void 0,c=o.segment,f=i[1];e.length<s.getStride();)e.push(c[f][e.length]);switch(s.getType()){case d.default.POINT:u=e,c[0]=e,c[1]=e;break;case d.default.MULTI_POINT:(u=s.getCoordinates())[o.index]=e,c[0]=e,c[1]=e;break;case d.default.LINE_STRING:(u=s.getCoordinates())[o.index+f]=e,c[f]=e;break;case d.default.MULTI_LINE_STRING:case d.default.POLYGON:(u=s.getCoordinates())[a[0]][o.index+f]=e,c[f]=e;break;case d.default.MULTI_POLYGON:(u=s.getCoordinates())[a[1]][a[0]][o.index+f]=e,c[f]=e;break;case d.default.CIRCLE:if(c[0]=e,c[1]=e,0===o.index)this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var h=t.map.getView().getProjection(),p=(0,l.distance)((0,S.fromUserCoordinate)(s.getCenter(),h),(0,S.fromUserCoordinate)(e,h)),g=(0,S.getUserProjection)();if(g){var y=s.clone().transform(g,h);y.setRadius(p),p=y.transform(h,g).getRadius()}s.setRadius(p),this.changingFeature_=!1}}u&&this.setGeometryCoordinates_(s,u)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var i=t.map.getView().getProjection(),o=[],a=n.getGeometry().getCoordinates(),s=(0,p.boundingExtent)([a]),u=this.rBush_.getInExtent(s),c={};u.sort(A);for(var f=0,h=u.length;f<h;++f){var g=u[f],y=g.segment,m=(0,r.getUid)(g.feature),v=g.depth;if(v&&(m+="-"+v.join("-")),c[m]||(c[m]=new Array(2)),g.geometry.getType()!==d.default.CIRCLE||g.index!==P)if(!(0,l.equals)(y[0],a)||c[m][0])if(!(0,l.equals)(y[1],a)||c[m][1])(0,r.getUid)(y)in this.vertexSegments_&&!c[m][0]&&!c[m][1]&&this.insertVertexCondition_(t)&&o.push([g,a]);else{if((g.geometry.getType()===d.default.LINE_STRING||g.geometry.getType()===d.default.MULTI_LINE_STRING)&&c[m][0]&&0===c[m][0].index)continue;this.dragSegments_.push([g,1]),c[m][1]=g}else this.dragSegments_.push([g,0]),c[m][0]=g;else{var _=R(e,g,i);(0,l.equals)(_,a)&&!c[m][0]&&(this.dragSegments_.push([g,0]),c[m][0]=g)}}o.length&&this.willModifyFeatures_(t);for(var b=o.length-1;b>=0;--b)this.insertVertex_.apply(this,o[b])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],r=n.geometry;if(r.getType()===d.default.CIRCLE){var i=r.getCenter(),o=n.featureSegments[0],a=n.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update((0,p.createOrUpdateFromCoordinate)(i),o);var s=r,u=(0,S.getUserProjection)();if(u){var l=t.map.getView().getProjection();s=s.clone().transform(u,l),s=(0,y.fromCircle)(s).transform(l,u)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update((0,p.boundingExtent)(n.segment),n)}return this.modified_&&(this.dispatchEvent(new I(N,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},e.prototype.handlePointerAtPixel_=function(t,e,n){var i=n||e.getCoordinateFromPixel(t),o=e.getView().getProjection(),a=(0,S.fromUserExtent)((0,p.createOrUpdateFromCoordinate)(i,C),o),s=e.getView().getResolution()*this.pixelTolerance_,u=(0,S.toUserExtent)((0,p.buffer)(a,s,C),o),c=this.rBush_.getInExtent(u);if(c.length>0){c.sort((function(t,e){return L(i,t,o)-L(i,e,o)}));var f=c[0],h=f.segment,g=R(i,f,o),y=e.getPixelFromCoordinate(g),m=(0,l.distance)(t,y);if(m<=this.pixelTolerance_){var v={};if(f.geometry.getType()===d.default.CIRCLE&&f.index===P)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g);else{var _=e.getPixelFromCoordinate(h[0]),b=e.getPixelFromCoordinate(h[1]),w=(0,l.squaredDistance)(y,_),x=(0,l.squaredDistance)(y,b);m=Math.sqrt(Math.min(w,x)),this.snappedToVertex_=m<=this.pixelTolerance_,this.snappedToVertex_&&(g=w>x?h[1]:h[0]),this.createOrUpdateVertexFeature_(g);for(var E=1,O=c.length;E<O;++E){var T=c[E].segment;if(!((0,l.equals)(h[0],T[0])&&(0,l.equals)(h[1],T[1])||(0,l.equals)(h[0],T[1])&&(0,l.equals)(h[1],T[0])))break;v[(0,r.getUid)(T)]=!0}}return v[(0,r.getUid)(h)]=!0,void(this.vertexSegments_=v)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var n,r=t.segment,i=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case d.default.MULTI_LINE_STRING:case d.default.POLYGON:(n=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case d.default.MULTI_POLYGON:(n=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case d.default.LINE_STRING:(n=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,n);var u=this.rBush_;u.remove(t),this.updateSegmentIndices_(o,s,a,1);var l={segment:[r[0],e],feature:i,geometry:o,depth:a,index:s};u.insert((0,p.boundingExtent)(l.segment),l),this.dragSegments_.push([l,1]);var c={segment:[e,r[1]],feature:i,geometry:o,depth:a,index:s+1};u.insert((0,p.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.default.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t);var e=this.removeVertex_();return this.dispatchEvent(new I(N,this.features_,t)),this.modified_=!1,e}return!1},e.prototype.removeVertex_=function(){var t,e,n,i,o,a,s,u,l,c,f,h=this.dragSegments_,g={},y=!1;for(o=h.length-1;o>=0;--o)c=(n=h[o])[0],f=(0,r.getUid)(c.feature),c.depth&&(f+="-"+c.depth.join("-")),f in g||(g[f]={}),0===n[1]?(g[f].right=c,g[f].index=c.index):1==n[1]&&(g[f].left=c,g[f].index=c.index+1);for(f in g){switch(l=g[f].right,s=g[f].left,(u=(a=g[f].index)-1)<0&&(u=0),t=e=(i=(c=void 0!==s?s:l).geometry).getCoordinates(),y=!1,i.getType()){case d.default.MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(a,1),y=!0);break;case d.default.LINE_STRING:e.length>2&&(e.splice(a,1),y=!0);break;case d.default.MULTI_POLYGON:t=t[c.depth[1]];case d.default.POLYGON:(t=t[c.depth[0]]).length>4&&(a==t.length-1&&(a=0),t.splice(a,1),y=!0,0===a&&(t.pop(),t.push(t[0]),u=t.length-1))}if(y){this.setGeometryCoordinates_(i,e);var m=[];if(void 0!==s&&(this.rBush_.remove(s),m.push(s.segment[0])),void 0!==l&&(this.rBush_.remove(l),m.push(l.segment[1])),void 0!==s&&void 0!==l){var v={depth:c.depth,feature:c.feature,geometry:c.geometry,index:u,segment:m};this.rBush_.insert((0,p.boundingExtent)(v.segment),v)}this.updateSegmentIndices_(i,a,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return y},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,r){this.rBush_.forEachInExtent(t.getExtent(),(function(i){i.geometry===t&&(void 0===n||void 0===i.depth||(0,u.equals)(i.depth,n))&&i.index>e&&(i.index+=r)}))},e}(m.default);function A(t,e){return t.index-e.index}function L(t,e,n){var r=e.geometry;if(r.getType()===d.default.CIRCLE){var i=r;if(e.index===P){var o=(0,S.getUserProjection)();o&&(i=i.clone().transform(o,n));var a=(0,l.squaredDistance)(i.getCenter(),(0,S.fromUserCoordinate)(t,n)),s=Math.sqrt(a)-i.getRadius();return s*s}}var u=(0,S.fromUserCoordinate)(t,n);return T[0]=(0,S.fromUserCoordinate)(e.segment[0],n),T[1]=(0,S.fromUserCoordinate)(e.segment[1],n),(0,l.squaredDistanceToSegment)(u,T)}function R(t,e,n){var r=e.geometry;if(r.getType()===d.default.CIRCLE&&e.index===P){var i=r,o=(0,S.getUserProjection)();return o&&(i=i.clone().transform(o,n)),(0,S.toUserCoordinate)(i.getClosestPoint((0,S.fromUserCoordinate)(t,n)),n)}var a=(0,S.fromUserCoordinate)(t,n);return T[0]=(0,S.fromUserCoordinate)(e.segment[0],n),T[1]=(0,S.fromUserCoordinate)(e.segment[1],n),(0,S.toUserCoordinate)((0,l.closestOnSegment)(a,T),n)}e.default=M},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=d(n(120)),o=n(14),a=d(n(31)),s=n(41),u=n(29),l=d(n(17)),c=d(n(95)),f=n(13),h=n(83),p=d(n(66));function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y={SELECT:"select"},m=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.selected=n,o.deselected=r,o.mapBrowserEvent=i,o}return g(e,t),e}(a.default),v={},_=function(t){function e(e){var n,r=t.call(this,{handleEvent:b})||this,i=e||{};if(r.boundAddFeature_=r.addFeature_.bind(r),r.boundRemoveFeature_=r.removeFeature_.bind(r),r.condition_=i.condition?i.condition:s.singleClick,r.addCondition_=i.addCondition?i.addCondition:s.never,r.removeCondition_=i.removeCondition?i.removeCondition:s.never,r.toggleCondition_=i.toggleCondition?i.toggleCondition:s.shiftKeyOnly,r.multi_=!!i.multi&&i.multi,r.filter_=i.filter?i.filter:u.TRUE,r.hitTolerance_=i.hitTolerance?i.hitTolerance:0,r.style_=void 0!==i.style?i.style:function(){var t=(0,h.createEditingStyle)();return(0,o.extend)(t[l.default.POLYGON],t[l.default.LINE_STRING]),(0,o.extend)(t[l.default.GEOMETRY_COLLECTION],t[l.default.LINE_STRING]),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}(),r.features_=i.features||new p.default,i.layers)if("function"==typeof i.layers)n=i.layers;else{var a=i.layers;n=function(t){return(0,o.includes)(a,t)}}else n=u.TRUE;return r.layerFilter_=n,r.featureLayerAssociation_={},r}return g(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,r.getUid)(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,r.getUid)(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(i.default.ADD,this.boundAddFeature_),this.features_.addEventListener(i.default.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(i.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(i.default.REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.applySelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=(0,r.getUid)(t);e in v||(v[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){var n=(0,r.getUid)(t),i=this.getMap().getInteractions().getArray().filter((function(n){return n instanceof e&&n.getStyle()&&-1!==n.getFeatures().getArray().indexOf(t)}));i.length>0?t.setStyle(i[i.length-1].getStyle()):(t.setStyle(v[n]),delete v[n])},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,r.getUid)(t)]},e}(c.default);function b(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),r=this.toggleCondition_(t),i=!e&&!n&&!r,a=t.map,s=this.getFeatures(),u=[],l=[];if(i){(0,f.clear)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return l.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=s.getLength()-1;c>=0;--c){var h=s.item(c),p=l.indexOf(h);p>-1?l.splice(p,1):(s.remove(h),u.push(h))}0!==l.length&&s.extend(l)}else{a.forEachFeatureAtPixel(t.pixel,function(t,i){if(this.filter_(t,i))return!e&&!r||(0,o.includes)(s.getArray(),t)?(n||r)&&(0,o.includes)(s.getArray(),t)&&(u.push(t),this.removeFeatureLayerAssociation_(t)):(l.push(t),this.addFeatureLayerAssociation_(t,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=u.length-1;d>=0;--d)s.remove(u[d]);s.extend(l)}return(l.length>0||u.length>0)&&this.dispatchEvent(new m(y.SELECT,l,u,t)),!0}e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(19),o=n(5),a=10,s=function(){function t(t,e,n,i,s,u){this.sourceProj_=t,this.targetProj_=e;var l={},c=(0,o.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return l[e]||(l[e]=c(t)),l[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&(0,r.getWidth)(i)==(0,r.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,r.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,r.getWidth)(this.targetProj_.getExtent()):null;var f=(0,r.getTopLeft)(n),h=(0,r.getTopRight)(n),p=(0,r.getBottomRight)(n),d=(0,r.getBottomLeft)(n),g=this.transformInv_(f),y=this.transformInv_(h),m=this.transformInv_(p),v=this.transformInv_(d),_=a+(u?Math.max(0,Math.ceil(Math.log2((0,r.getArea)(n)/(u*u*256*256)))):0);if(this.addQuad_(f,h,p,d,g,y,m,v,_),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(t,e,n){b=Math.min(b,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-b>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-b>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-b>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-b>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}l={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,o,a,s,u,l,c){var f=(0,r.boundingExtent)([a,s,u,l]),h=this.sourceWorldWidth_?(0,r.getWidth)(f)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1,g=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var y=(0,r.boundingExtent)([t,e,n,o]);g=(0,r.getWidth)(y)/this.targetWorldWidth_>.25||g}!d&&this.sourceProj_.isGlobal()&&h&&(g=h>.25||g)}if(g||!this.maxSourceExtent_||(0,r.intersects)(f,this.maxSourceExtent_)){if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(c>0))return;g=!0}if(c>0){if(!g){var m=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(m),_=void 0;_=d?((0,i.modulo)(a[0],p)+(0,i.modulo)(u[0],p))/2-(0,i.modulo)(v[0],p):(a[0]+u[0])/2-v[0];var b=(a[1]+u[1])/2-v[1];g=_*_+b*b>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var w=[(e[0]+n[0])/2,(e[1]+n[1])/2],x=this.transformInv_(w),S=[(o[0]+t[0])/2,(o[1]+t[1])/2],E=this.transformInv_(S);this.addQuad_(t,e,w,S,a,s,x,E,c-1),this.addQuad_(S,w,n,o,E,x,u,l,c-1)}else{var O=[(t[0]+e[0])/2,(t[1]+e[1])/2],P=this.transformInv_(O),C=[(n[0]+o[0])/2,(n[1]+o[1])/2],T=this.transformInv_(C);this.addQuad_(t,O,C,o,a,P,T,l,c-1),this.addQuad_(O,e,n,C,P,s,u,T,c-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,o,a,u,l),this.addTriangle_(t,e,n,a,s,u)}},t.prototype.calculateSourceExtent=function(){var t=(0,r.createEmpty)();return this.triangles_.forEach((function(e,n,i){var o=e.source;(0,r.extendCoordinate)(t,o[0]),(0,r.extendCoordinate)(t,o[1]),(0,r.extendCoordinate)(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.appendParams=function(t,e){var n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));var r=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=c(n(60)),o=n(248),a=n(732),s=c(a),u=c(n(733)),l=n(84);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):o.nullTileUrlFunction,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return f(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,o=(0,r.getUid)(n),s=n.getState();s==i.default.LOADING?(this.tileLoadingKeys_[o]=!0,e=u.default.TILELOADSTART):o in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[o],e=s==i.default.ERROR?u.default.TILELOADERROR:s==i.default.LOADED?u.default.TILELOADEND:void 0),null!=e&&this.dispatchEvent(new a.TileSourceEvent(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=(0,o.expandUrl)(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,o.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var r=(0,l.getKeyZXY)(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(s.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(241),i=n(18),o=n(358),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=n(14),u=n(4),l=n(19),c=n(122),f=n(84),h=[0,0,0],p=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,i.assert)((0,s.isSorted)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,o=this.resolutions_.length-1;n<o;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,i.assert)(this.origins_.length==this.resolutions_.length,20));var l=t.extent;void 0===l||this.origin_||this.origins_||(this.origin_=(0,u.getTopLeft)(l)),(0,i.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,i.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:r.DEFAULT_TILE_SIZE,(0,i.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==l?l:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new a.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):l&&this.calculateTileRanges_(l)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,a,s,u=null,l=t[0]-1;for(2===this.zoomFactor_?(a=t[1],s=t[2]):u=this.getTileCoordExtent(t,r);l>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),s=Math.floor(s/2),i=(0,o.createOrUpdate)(a,a,s,s,n)):i=this.getTileRangeForExtentAndZ(u,l,n),e(l,i))return!0;--l}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return(0,o.createOrUpdate)(r,r+1,i,i+1,e)}var a=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=(0,c.toSize)(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*o[0]*i,s=r[0]+(e.maxX+1)*o[0]*i,l=r[1]+e.minY*o[1]*i,f=r[1]+(e.maxY+1)*o[1]*i;return(0,u.createOrUpdate)(a,l,s,f,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=h;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],a=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),(0,o.createOrUpdate)(i,r[1],a,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=(0,c.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=(0,c.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]-(t[2]+1)*i[1]*r,s=o+i[0]*r,l=a+i[1]*r;return(0,u.createOrUpdate)(o,a,s,l,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=(0,c.toSize)(this.getTileSize(o),this.tmpSize_),l=r?.5:0,h=r?.5:0,p=Math.floor((t-s[0])/n+l),d=Math.floor((s[1]-e)/n+h),g=a*p/u[0],y=a*d/u[1];return r?(g=Math.ceil(g)-1,y=Math.ceil(y)-1):(g=Math.floor(g),y=Math.floor(y)),(0,f.createOrUpdate)(o,g,y,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=(0,c.toSize)(this.getTileSize(n),this.tmpSize_),u=r?.5:0,l=r?.5:0,h=Math.floor((t-o[0])/a+u),p=Math.floor((o[1]-e)/a+l),d=h/s[0],g=p/s[1];return r?(d=Math.ceil(d)-1,g=Math.ceil(g)-1):(d=Math.floor(d),g=Math.floor(g)),(0,f.createOrUpdate)(n,d,g,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){var n=(0,s.linearFindNearest)(this.resolutions_,t,e||0);return(0,l.clamp)(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createOrUpdate=function(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)};var r=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(5),o=h(n(358)),a=h(n(60)),s=n(4),u=h(n(239)),l=n(36),c=n(14),f=n(58);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=(0,s.createEmpty)(),n.tmpTileRange_=new o.default(0,0,0,0),n}return p(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==a.default.LOADED||n==a.default.EMPTY||n==a.default.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,s=this.getLayer(),u=s.getSource().getTile(t,e,n,i,o);return u.getState()==a.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):u.setState(a.default.LOADED)),this.isDrawableTile(u)||(u=u.getInterimTile()),u},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],o=t.viewState,u=o.projection,h=o.resolution,p=o.center,d=o.rotation,g=t.pixelRatio,y=this.getLayer(),m=y.getSource(),v=m.getRevision(),_=m.getTileGridForProjection(u),b=_.getZForResolution(h,m.zDirection),w=_.getResolution(b),x=t.extent,S=n.extent&&(0,i.fromUserExtent)(n.extent,u);S&&(x=(0,s.getIntersection)(x,(0,i.fromUserExtent)(n.extent,u)));var E=m.getTilePixelRatio(g),O=Math.round(t.size[0]*E),P=Math.round(t.size[1]*E);if(d){var C=Math.round(Math.sqrt(O*O+P*P));O=C,P=C}var T=w*O/2/E,N=w*P/2/E,I=[p[0]-T,p[1]-N,p[0]+T,p[1]+N],M=_.getTileRangeForExtentAndZ(x,b),A={};A[b]={};var L=this.createLoadedTileFinder(m,u,A),R=this.tmpExtent,k=this.tmpTileRange_;this.newTiles_=!1;for(var F=M.minX;F<=M.maxX;++F)for(var j=M.minY;j<=M.maxY;++j){var D=this.getTile(b,F,j,t);if(this.isDrawableTile(D)){var U=(0,r.getUid)(this);if(D.getState()==a.default.LOADED){A[b][D.tileCoord.toString()]=D;var G=D.inTransition(U);this.newTiles_||!G&&-1!==this.renderedTiles.indexOf(D)||(this.newTiles_=!0)}if(1===D.getAlpha(U,t.time))continue}var z=_.getTileCoordChildTileRange(D.tileCoord,k,R),B=!1;z&&(B=L(b+1,z)),B||_.forEachTileCoordParentTileRange(D.tileCoord,L,k,R)}var q=w/h;(0,l.compose)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/E,1/E,d,-O/2,-P/2);var V=(0,f.createTransformString)(this.pixelTransform);this.useContainer(e,V,n.opacity);var Y=this.context,H=Y.canvas;(0,l.makeInverse)(this.inversePixelTransform,this.pixelTransform),(0,l.compose)(this.tempTransform_,O/2,P/2,q,q,0,-O/2,-P/2),H.width!=O||H.height!=P?(H.width=O,H.height=P):this.containerReused||Y.clearRect(0,0,O,P),S&&this.clipUnrotated(Y,t,S),this.preRender(Y,t),this.renderedTiles.length=0;var W,X,K,Z=Object.keys(A).map(Number);Z.sort(c.numberSafeCompareFunction),1!==n.opacity||this.containerReused&&!m.getOpaque(t.viewState.projection)?(W=[],X=[]):Z=Z.reverse();for(var J=Z.length-1;J>=0;--J){var Q=Z[J],$=m.getTilePixelSize(Q,g,u),tt=_.getResolution(Q)/w,et=$[0]*tt*q,nt=$[1]*tt*q,rt=_.getTileCoordForCoordAndZ((0,s.getTopLeft)(I),Q),it=_.getTileCoordExtent(rt),ot=(0,l.apply)(this.tempTransform_,[E*(it[0]-I[0])/w,E*(I[3]-it[3])/w]),at=E*m.getGutterForProjection(u),st=A[Q];for(var ut in st){var lt=(D=st[ut]).tileCoord,ct=ot[0]-(rt[1]-lt[1])*et,ft=Math.round(ct+et),ht=ot[1]-(rt[2]-lt[2])*nt,pt=Math.round(ht+nt),dt=ft-(F=Math.round(ct)),gt=pt-(j=Math.round(ht)),yt=b===Q;if(!(G=yt&&1!==D.getAlpha((0,r.getUid)(this),t.time)))if(W){Y.save(),K=[F,j,F+dt,j,F+dt,j+gt,F,j+gt];for(var mt=0,vt=W.length;mt<vt;++mt)if(b!==Q&&Q<X[mt]){var _t=W[mt];Y.beginPath(),Y.moveTo(K[0],K[1]),Y.lineTo(K[2],K[3]),Y.lineTo(K[4],K[5]),Y.lineTo(K[6],K[7]),Y.moveTo(_t[6],_t[7]),Y.lineTo(_t[4],_t[5]),Y.lineTo(_t[2],_t[3]),Y.lineTo(_t[0],_t[1]),Y.clip()}W.push(K),X.push(Q)}else Y.clearRect(F,j,dt,gt);this.drawTileImage(D,t,F,j,dt,gt,at,yt,n.opacity),W&&!G&&Y.restore(),this.renderedTiles.push(D),this.updateUsedTiles(t.usedTiles,m,D)}}return this.renderedRevision=v,this.renderedResolution=w,this.extentChanged=!this.renderedExtent_||!(0,s.equals)(this.renderedExtent_,I),this.renderedExtent_=I,this.renderedPixelRatio=g,this.renderedProjection=u,this.manageTilePyramid(t,m,_,g,u,x,b,y.getPreload()),this.scheduleExpireCache(t,m),this.postRender(Y,t),n.extent&&Y.restore(),V!==H.style.transform&&(H.style.transform=V),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,a,s,u,l){var c=this.getTileImage(t);if(c){var f=(0,r.getUid)(this),h=u?t.getAlpha(f,e.time):1,p=l*h,d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,n,i,o,a),d&&this.context.restore(),1!==h?e.animate=!0:u&&t.endTransition(f)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=(0,r.getUid)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=(0,r.getUid)(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,i,o,s,u,l,c){var f=(0,r.getUid)(e);f in t.wantedTiles||(t.wantedTiles[f]={});var h,p,d,g,y,m,v=t.wantedTiles[f],_=t.tileQueue;for(m=n.getMinZoom();m<=u;++m)for(p=n.getTileRangeForExtentAndZ(s,m,p),d=n.getResolution(m),g=p.minX;g<=p.maxX;++g)for(y=p.minY;y<=p.maxY;++y)u-m<=l?((h=e.getTile(m,g,y,i,o)).getState()==a.default.IDLE&&(v[h.getKey()]=!0,_.isKeyQueued(h.getKey())||_.enqueue([h,f,n.getTileCoordCenter(h.tileCoord),d])),void 0!==c&&c(h)):e.useTile(m,g,y,o)},e}(u.default);d.prototype.getLayer,e.default=d},function(t,e){var n={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},r=/(italic|oblique)$/i,i={};t.exports=function(t,e,o){var a=i[t];if(!a){Array.isArray(t)||(t=[t]);for(var s=400,u="normal",l=[],c=0,f=t.length;c<f;++c){var h=t[c].split(" "),p=h[h.length-1].toLowerCase();for(var d in"normal"==p||"italic"==p||"oblique"==p?(u=p,h.pop(),p=h[h.length-1].toLowerCase()):r.test(p)&&(p=p.replace(r,""),u=h[h.length-1].replace(p,"")),n)if(p==d||p==d.replace("-","")||p==d.replace("-"," ")){s=n[d],h.pop();break}"number"==typeof p&&(s=p);var g=h.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==g.indexOf(" ")&&(g='"'+g+'"'),l.push(g)}a=i[t]=[u,s,l]}return a[0]+" "+a[1]+" "+e+"px"+(o?"/"+o:"")+" "+a[2]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(n(17)),a=n(303),s=n(223),u=n(220),l=n(5),c=n(115),f=n(36),h=(0,f.create)(),p=function(){function t(t,e,n,r,i){this.extent_,this.id_=i,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=r}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===o.default.POINT?(0,i.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,i.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=(0,i.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,s.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=(0,a.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,s.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=(0,u.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,n=this.ends_,i=0,o=n.length;i<o;++i){var a=n[i],s=(0,u.interpolatePoint)(t,e,a,2,.5);(0,r.extend)(this.flatMidpoints_,s),e=a}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t,e){var n=(t=(0,l.get)(t)).getExtent(),r=t.getWorldExtent(),o=(0,i.getHeight)(r)/(0,i.getHeight)(n);(0,f.compose)(h,r[0],r[3],o,-o,0,0,0),(0,c.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_)},t}();p.prototype.getEnds=function(){return this.ends_},p.prototype.getEndss=p.prototype.getEnds,p.prototype.getFlatCoordinates=p.prototype.getOrientedFlatCoordinates,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultResolutions=e.assign=void 0,e.deg2rad=function(t){return t*Math.PI/180},e.createCanvas=a,e.getZoomForResolution=function(t,e){for(var n=0,r=e.length;n<r;++n){if(e[n]<t&&n+1<r){var i=e[n]/e[n+1];return n+Math.log(e[n]/t)/Math.log(i)}}return r-1},e.applyLetterSpacing=l,e.wrapText=function t(e,n,r,i){if(-1!==e.indexOf("\n")){for(var o=e.split("\n"),a=[],s=0,u=o.length;s<u;++s)a.push(t(o[s],n,r,i));return a.join("\n")}var p=r+","+n+","+e+","+i,d=h[p];if(!d){var g=e.split(" ");if(g.length>1){var y=c();y.font=n;var m=y.measureText("M").width*r,v="";for(a=[],s=0,u=g.length;s<u;++s){var _=g[s],b=v+(v?" ":"")+_;f(b,i)<=m?v=b:(v&&a.push(v),v=_)}v&&a.push(v);for(s=0,u=a.length;s<u&&u>1;++s){var w=a[s];if(f(w,i)<.35*m){var x=s>0?f(a[s-1],i):1/0,S=s<u-1?f(a[s+1],i):1/0;a.splice(s,1),u-=1,x<S?(a[s-1]+=" "+w,s-=1):a[s]=w+" "+a[s]}}for(s=0,u=a.length-1;s<u;++s){var E=a[s],O=a[s+1];if(f(E,i)>.7*m&&f(O,i)<.6*m){var P=E.split(" "),C=P.pop();f(C,i)<.2*m&&(a[s]=P.join(" "),a[s+1]=C+" "+O),u-=1}}d=a.join("\n")}else d=e;d=l(d,i),h[p]=d}return d};var r=n(24),i=function(t){return t&&t.__esModule?t:{default:t}}(n(8)),o=n(58);function a(t,e){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(t,e);var n=document.createElement("canvas");return n.width=t,n.height=e,n}e.assign="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n},e.defaultResolutions=function(){for(var t=[],e=78271.51696402048;t.length<=24;e/=2)t.push(e);return t}();var s,u=Array(256).join("");function l(t,e){if(e>=.05){for(var n="",r=t.split("\n"),i=u.slice(0,Math.round(e/.1)),o=0,a=r.length;o<a;++o)o>0&&(n+="\n"),n+=r[o].split("").join(i);return n}return t}function c(){return s||(s=a(1,1).getContext("2d")),s}function f(t,e){return c().measureText(t).width+(t.length-1)*e}var h={};o.labelCache&&(0,r.listen)(o.labelCache,i.default.CLEAR,(function(){h={}}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonp=function(t,e,n,i){var o=document.createElement("script"),a="olc_"+(0,r.getUid)(e);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+a;var u=setTimeout((function(){s(),n&&n()}),1e4);window[a]=function(t){clearTimeout(u),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)};var r=n(11)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.isFavorite=l;var i=u(n(2)),o=u(n(7)),a=n(9),s=n(27);function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var n=!0,r=0,i=e.src.length;r<i;r++){var o=e.src[r],a=(0,s.getLayerFromSources)(t,o.mapSourceName,o.layerName);n=n&&a.favorite}return n}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this,e=l(this.props.mapSources,this.props.layer),n="favorite icon";return e||(n+=" not"),i.default.createElement("i",{className:n,onClick:function(){t.props.onToggleFavorite(t.props.layer,!e)}})}}]),e}();c.propTypes={mapSources:o.default.object.isRequired,layer:o.default.object.isRequired,onToggleFavorite:o.default.func.isRequired},e.default=(0,a.connect)((function(t){return{mapSources:t.mapSources}}),(function(t){return{onToggleFavorite:function(e,n){for(var r=0,i=e.src.length;r<i;r++){var o=e.src[r];t((0,s.favoriteLayer)(o.mapSourceName,o.layerName,n))}}}}))(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToolbarButton=void 0;var r=c(n(2)),i=c(n(7)),o=n(9),a=n(22),s=n(177),u=n(146),l=n(37);function c(t){return t&&t.__esModule?t:{default:t}}var f=e.ToolbarButton=function(t){var e=t.tool,n=t.onClick,i=t.currentService,o=t.currentDrawTool,s=(0,(0,a.useTranslation)().t)(e.label),u=e.name===i;return r.default.createElement("span",{onClick:function(){n(e,i,o)},key:e.name,className:(u?"active ":"")+(e.cssClass||"tool "+e.name),title:s},r.default.createElement("span",{className:"icon"}),r.default.createElement("span",{className:"label"},s))};f.defaultProps={onClick:function(t,e){}},f.propTypes={tool:i.default.object.isRequired,onClick:i.default.func},e.default=(0,o.connect)((function(t){return{currentService:t.query.service,currentDrawTool:t.map.interactionType}}),(function(t,e){return{onClick:function(n,r,i){if("service"===n.actionType){t((0,s.startService)(n.name));var o=null;e.serviceDef&&e.serviceDef.tools&&e.serviceDef.tools.default&&(o=e.serviceDef.tools.default),n.name!==r?(t((0,l.setSelectionBuffer)(0)),t((0,l.changeTool)(o))):null===i&&t((0,l.changeTool)(o)),t((0,u.setUiHint)("service-start"))}else"action"===n.actionType&&t((0,u.runAction)(n.name))}}}))(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeasureTool=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=g(i),a=n(9),s=n(22),u=g(n(369)),l=d(n(16)),c=d(n(5)),f=g(n(47)),h=g(n(65)),p=g(n(370));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function g(t){return t&&t.__esModule?t:{default:t}}var y=e.MeasureTool=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={units:n.props.initialUnits?n.props.initialUnits:"ft"},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"getBearing",value:function(t,e){var n="-";if(t&&e){n="N0-0-0E";var r=e[1]-t[1],i=e[0]-t[0];if(0===r)n=t[0]>e[0]?this.props.t("measure-due-west"):this.props.t("measure-due-east");else if(0===i)n=t[1]>e[1]?this.props.t("measure-due-south"):this.props.t("measure-due-north");else{var o=this.props.t("measure-north-abbr"),a=this.props.t("measure-east-abbr");r<0&&(o=this.props.t("measure-south-abbr")),i<0&&(a=this.props.t("measure-west-abbr")),r=Math.abs(r),i=Math.abs(i);var s=Math.atan(i/r)/(2*Math.PI)*360,u=parseInt(s,10),l=60*(s-u),c=parseInt(l,10);n=o+u+"-"+c+"-"+parseInt(60*(l-c),10)+a}}return n}},{key:"calculateLength",value:function(t,e,n){var r=new h.default([t,e]),i=(r=r.transform(this.props.mapProjection,n)).getLength();return l.metersLengthToUnits(i,this.state.units)}},{key:"getSegmentInfo",value:function(t){var e=new f.default(t.coordinates[0]);e=e.transform(this.props.mapProjection,"EPSG:4326");var n=c.get(l.getUtmZone(e.getCoordinates())),r=[].concat(t.coordinates);null!==this.props.cursor.sketchGeometry&&(r[r.length-1]=this.props.cursor.coords);for(var i=[],o=1,a=r.length;o<a;o++){var s=this.calculateLength(r[o-1],r[o],n),u=this.getBearing(r[o-1],r[o]);i.push({id:o,len:s,bearing:u})}return i.reverse()}},{key:"renderSegments",value:function(t){for(var e=this.getSegmentInfo(t),n=0,r=[],i=0,a=e.length;i<a;i++){var s=e[i];n+=s.len,r.push(o.default.createElement("tr",{key:"segment"+i},o.default.createElement("td",null,s.id),o.default.createElement("td",null,s.len.toFixed(2)),o.default.createElement("td",null,s.bearing)))}return r.unshift(o.default.createElement("tr",{key:"line_total"},o.default.createElement("td",null,""),o.default.createElement("td",null,n.toFixed(2)),o.default.createElement("td",null,""))),o.default.createElement("table",{className:"measured-segments"},o.default.createElement("tbody",null,o.default.createElement("tr",{key:"header"},o.default.createElement("th",null),o.default.createElement("th",null,this.props.t("measure-segment-length")," (",this.props.t("units-"+this.state.units),")"),o.default.createElement("th",null,"Bearing")),r))}},{key:"renderArea",value:function(t){var e=new f.default(t.coordinates[0][0]);e=e.transform(this.props.mapProjection,"EPSG:4326");var n=c.get(l.getUtmZone(e.getCoordinates())),r=l.jsonToGeom(t).transform(this.props.mapProjection,n).getArea(),i=l.metersAreaToUnits(r,this.state.units);return o.default.createElement("table",{className:"measured-area"},o.default.createElement("tbody",null,o.default.createElement("tr",{key:"header"},o.default.createElement("th",null,this.props.t("measure-area")," (",this.props.t("measure-sq")," ",this.props.t("units-"+this.state.units),")")),o.default.createElement("tr",null,o.default.createElement("td",null,i.toFixed(2)))))}},{key:"renderMeasureOutput",value:function(){var t=this.props.cursor.sketchGeometry;return null===t&&this.props.map.selectionFeatures.length>0&&(t=this.props.map.selectionFeatures[0].geometry),!(null===t||"LineString"===t.type&&t.coordinates.length<2||"Polygon"===t.type&&t.coordinates[0].length<3)&&("Point"===t.type?o.default.createElement(p.default,{coords:t.coordinates,projections:this.props.pointProjections,resolution:this.props.map.resolution}):"LineString"===t.type?this.renderSegments(t):"Polygon"===t.type&&this.renderArea(t))}},{key:"changeUnits",value:function(t){this.setState({units:t})}},{key:"renderUnitOption",value:function(t,e){var n=this,r=this.state.units===t?"selected":"";return o.default.createElement("div",{key:"units-"+t,className:"radio-option "+r,onClick:function(){n.changeUnits(t)}},o.default.createElement("i",{className:"radio-icon"})," ",e?this.props.t("measure-sq")+" ":"",this.props.t("units-"+t))}},{key:"renderUnitOptions",value:function(){var t=this.props.t("units"),e=this.props.map.interactionType;return"Select"===e&&this.props.map.selectionFeatures.length>0&&(e=this.props.map.selectionFeatures[0].geometry.type),"LineString"===e?o.default.createElement("div",{className:"measure-units"},o.default.createElement("b",null,t,":"),this.renderUnitOption("m"),this.renderUnitOption("km"),this.renderUnitOption("ft"),this.renderUnitOption("mi"),this.renderUnitOption("ch")):"Polygon"===e&&o.default.createElement("div",{className:"measure-units"},o.default.createElement("b",null,t,":"),this.renderUnitOption("m",!0),this.renderUnitOption("km",!0),this.renderUnitOption("ft",!0),this.renderUnitOption("mi",!0),this.renderUnitOption("a"),this.renderUnitOption("h"))}},{key:"render",value:function(){return o.default.createElement("div",{className:"measure-tool"},o.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.t("measure-help")}}),o.default.createElement("div",{className:"draw-tools"},o.default.createElement(u.default,{key:"measure-point",geomType:"Point"}),o.default.createElement(u.default,{key:"measure-line",geomType:"LineString"}),o.default.createElement(u.default,{key:"measure-poly",geomType:"Polygon"}),o.default.createElement(u.default,{key:"measure-select",geomType:"Select"})),this.renderUnitOptions(),o.default.createElement("br",null),this.renderMeasureOutput())}}]),e}();e.default=(0,a.connect)((function(t){return{map:t.map,cursor:t.cursor,mapProjection:"EPSG:3857"}}))((0,s.withTranslation)()(y))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(22),s=n(37),u=n(27),l=n(16),c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.changeSelectLayer=n.changeSelectLayer.bind(n),n.state={selectLayer:null},"Select"===n.props.geomType&&(n.state.selectLayer=n.props.selectableLayers[0]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"changeSelectLayer",value:function(t){this.setState({selectLayer:t.target.value})}},{key:"getSelectOptions",value:function(){for(var t=[],e=0,n=this.props.selectableLayers.length;e<n;e++){var r=this.props.selectableLayers[e],o=(0,l.getMapSourceName)(r),a=(0,l.getLayerName)(r),s=(0,u.getLayerFromSources)(this.props.mapSources,o,a).label;t.push(i.default.createElement("option",{key:r,value:r},s))}return t}},{key:"componentDidMount",value:function(){if("Select"===this.props.interactionType&&"Select"===this.props.geomType){var t=this.props.selectableLayers[0];this.setState({selectLayer:t}),this.props.onChange("Select",t)}}},{key:"render",value:function(){var t=this,e=this.props.geomType,n="draw-tool",r="";this.props.interactionType===e&&(n+=" selected");var o="draw-"+e.toLowerCase()+"-label";return"Select"===e&&(r=i.default.createElement("select",{value:this.state.selectLayer,onChange:this.changeSelectLayer},this.getSelectOptions())),i.default.createElement(a.Translation,null,(function(a){return i.default.createElement("div",{key:"draw-tool-"+e,className:n,onClick:function(){t.props.onChange(e,t.state.selectLayer)}},i.default.createElement("i",{className:"radio-icon"})," "+a(o),r)}))}}]),e}();e.default=(0,o.connect)((function(t){return{interactionType:t.map.interactionType,mapSources:t.mapSources,selectableLayers:(0,u.getSelectableLayers)(t.mapSources)}}),(function(t){return{onChange:function(e,n){t((0,s.changeTool)(e,n))}}}))(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.formatCoordinates=c;var i=l(n(2)),o=l(n(766)),a=l(n(185)),s=n(16),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=void 0!==t.precision?t.precision:n;return e.map((function(t){return t.toFixed(r)})).join(", ")}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(n.u=new o.default,n.defaultProjections=[{label:"X,Y",ref:"xy"},{label:"Lat,Lng",ref:"EPSG:4326"},{label:"USNG",ref:"usng"}],n.namedProjections=["xy","usng","latlon"],n.getProjectionCoords=n.getProjectionCoords.bind(n),n.getCoordinateDisplay=n.getCoordinateDisplay.bind(n),n.props.projections){n.projections=[];var r=!0,i=!1,u=void 0;try{for(var l,c=n.props.projections[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var f=l.value;void 0!==f.projDef&&(0,s.addProjDef)(a.default,f.ref,f.projDef);var h=-1!==n.namedProjections.indexOf(f.ref),p=!1;if(!h)try{(0,a.default)(f.ref,[0,0]),p=!0}catch(t){console.error("Undefined projection",t)}(h||p)&&n.projections.push(f)}}catch(t){i=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw u}}}else n.projections=n.defaultProjections;return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"mapXY",value:function(){var t=this.props.coords;return t[0].toFixed(1)+", "+t[1].toFixed(1)}},{key:"usng",value:function(){var t=this.getLatLonCoords();try{var e=this.props.resolution,n=Math.max(Math.min(Math.ceil(Math.log10(1e5/e)),5),0);return this.u.fromLonLat({lon:t[0],lat:t[1]},n)}catch(t){return console.error("Bug with USNG coordinate",t),"--"}}},{key:"getLatLonCoords",value:function(){var t=new u.get("EPSG:3857"),e=new u.get("EPSG:4326");return u.transform(this.props.coords,t,e)}},{key:"latlon",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getLatLonCoords(),r=e?function(t){return t>18?6:t>9?4:2}(this.props.zoom):4;return c(t,[n[1],n[0]],r)}},{key:"getProjectionCoords",value:function(t){return c(t,(0,a.default)("EPSG:3857",t.ref,this.props.coords))}},{key:"getCoordinateDisplay",value:function(t){var e="";switch(t.ref){case"usng":e=i.default.createElement("span",{className:"coordinates map-usng",key:"usng"},i.default.createElement("label",null,t.label)," ",this.usng());break;case"latlon":e=i.default.createElement("span",{className:"coordinates map-latlon",key:"latlon"},i.default.createElement("label",null,t.label)," ",this.latlon(t));break;case"xy":e=i.default.createElement("span",{className:"coordinates map-xy",key:"xy"},i.default.createElement("label",null,t.label)," ",c(t,this.props.coords,1));break;default:var n="coordinates map-"+t.ref.replace(/:/g,"-");e=i.default.createElement("span",{className:n,key:t.ref},i.default.createElement("label",null,t.label),this.getProjectionCoords(t))}return e}},{key:"render",value:function(){var t=this.projections.map(this.getCoordinateDisplay);return i.default.createElement("span",{className:"coordinate-display"},t)}}]),e}();e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(2)),o=a(n(249));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),r(e,[{key:"renderOption",value:function(t){return i.default.createElement("option",{key:t.value,value:t.value},t.label)}},{key:"getOptions",value:function(){return this.props.field.options}},{key:"componentDidMount",value:function(){var t=this,e=this.getOptions();(void 0===this.props.field.default||e.filter((function(e){return e.value===t.props.field.default})).length<1)&&this.onChange({target:{value:e.length>0?e[0].value:""}})}},{key:"render",value:function(){var t=this.getId(),e=this.getOptions();return i.default.createElement("div",{className:"service-input select"},i.default.createElement("label",{htmlFor:"input-"+t},this.props.field.label),i.default.createElement("select",{id:"input-"+t,value:this.state.value,onChange:this.onChange},e.map(this.renderOption)))}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LengthInputBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(2),a=c(o),s=n(22),u=n(249),l=c(u);function c(t){return t&&t.__esModule?t:{default:t}}var f=["ft","yd","mi","in","m","km","ch"],h=e.LengthInputBase=function(t){var e=t.label,n=t.value,r=t.units,l=t.onChange,c="input-"+(0,u.getId)(),h=(0,o.useState)(n),p=i(h,2),d=p[0],g=p[1],y=(0,s.useTranslation)().t;return(0,o.useEffect)((function(){g(n)}),[n]),a.default.createElement("div",{className:"service-input length"},a.default.createElement("label",{htmlFor:c},e),a.default.createElement("input",{className:"measure",onChange:function(t){g(t.target.value);var e=parseFloat(t.target.value);isNaN(e)||l(e,r)},id:c,value:d}),a.default.createElement("select",{className:"units",onChange:function(t){l(n,t.target.value)},value:r},f.map((function(t){return a.default.createElement("option",{key:t,value:t},y("units-"+t))}))))},p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=t.field.units?t.field.units:"ft",i=t.field.default?t.field.default:0;return n.value=i,n.selected_units=r,n.onUnitsChanged=n.onUnitsChanged.bind(n),n.onValueChanged=n.onValueChanged.bind(n),n.state={value:i,units:r},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.default),r(e,[{key:"onChange",value:function(t,e){isNaN(this.state.value)||this.setValue(this.getName(),{distance:this.state.value,units:this.state.units})}},{key:"onUnitsChanged",value:function(t){var e=t.target.value;this.onChange(this.state.value,e),this.setState({units:e})}},{key:"onValueChanged",value:function(t){var e=parseFloat(t.target.value);this.onChange(e,this.state.units),this.setState({value:e})}},{key:"componentDidUpdate",value:function(t){t.field!==this.props.field&&this.setState({value:this.props.field.default,units:this.props.field.units})}},{key:"render",value:function(){var t=this;return a.default.createElement(h,{label:this.props.field.label,value:this.state.value,units:this.state.units,onChange:function(e,n){t.onChange(e,n),t.setState({value:e,units:n})}})}}]),e}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printRequest=function(t,e,n,i){return arguments.length>4&&void 0!==arguments[4]&&arguments[4],{type:r.PRINT.REQUEST,size:[t,e],center:n,resolution:i}},e.printImage=function(t){return{type:r.PRINT.IMAGE,data:t}},e.printed=function(){return{type:r.PRINT.FINISHED}};var r=n(28)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(Object(n));"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}n.r(e);var a=n(50),s=n(51),u=n(49);function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?Object(u.a)(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}var p=n(376),d=n.n(p);function g(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var y=n(187),m=n.n(y);function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _(t){return m()(t)||g(t)||v()}function b(t,e){return m()(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||v()}var w={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){return d()(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e))}},x=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,t),this.init(e,n)}return Object(s.a)(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||w,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,r){return r&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,o({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),S=function(){function t(){Object(a.a)(this,t),this.observers={}}return Object(s.a)(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.observers[t]&&[].concat(this.observers[t]).forEach((function(t){t.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(e){e.apply(e,[t].concat(n))}))}}]),t}();function E(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function O(t){return null==t?"":""+t}function P(t,e,n){function r(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function i(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!t[a]&&n&&(t[a]=new n),t=t[a]}return i()?{}:{obj:t,k:r(o.shift())}}function C(t,e,n){var r=P(t,e,Object);r.obj[r.k]=n}function T(t,e){var n=P(t,e),r=n.obj,i=n.k;if(r)return r[i]}function N(t,e,n){var r=T(t,n);return void 0!==r?r:T(e,n)}function I(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function A(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return M[t]})):t}var L="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,R=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Object(a.a)(this,e),n=l(this,c(e).call(this)),L&&S.call(Object(u.a)(n)),n.data=t||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return h(e,S),Object(s.a)(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[t,e];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=t.split(".")),T(this.data,o)}},{key:"addResource",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[t,e];n&&(a=a.concat(o?n.split(o):n)),t.indexOf(".")>-1&&(r=e,e=(a=t.split("."))[1]),this.addNamespaces(e),C(this.data,a,r),i.silent||this.emit("added",t,e,n,r)}},{key:"addResources",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(t,e,i,n[i],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];t.indexOf(".")>-1&&(r=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var u=T(this.data,s)||{};r?function t(e,n,r){for(var i in n)i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(e[i]=n[i]):t(e[i],n[i],r):e[i]=n[i];return e}(u,n,i):u=o({},u,n),C(this.data,s,u),a.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?o({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(),k={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,r,i){var o=this;return t.forEach((function(t){o.processors[t]&&(e=o.processors[t].process(e,n,r,i))})),e}},F={},j=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(this,e),n=l(this,c(e).call(this)),L&&S.call(Object(u.a)(n)),function(t,e,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(t){e[t]&&(n[t]=e[t])}))}(0,t,Object(u.a)(n)),n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=x.create("translator"),n}return h(e,S),Object(s.a)(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var o=t.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),t=o.join(r)}return"string"==typeof i&&(i=[i]),{key:t,namespaces:i}}},{key:"translate",value:function(t,e){var n=this;if("object"!==r(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],e),s=a.key,u=a.namespaces,l=u[u.length-1],c=e.lng||this.language,f=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(f){var h=e.nsSeparator||this.options.nsSeparator;return l+h+s}return s}var p=this.resolve(t,e),d=p&&p.res,g=p&&p.usedKey||s,y=p&&p.exactUsedKey||s,m=Object.prototype.toString.apply(d),v=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0&&("string"!=typeof v||"[object Array]"!==m)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,e):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(i){var b="[object Array]"===m,w=b?[]:{},x=b?y:g;for(var S in d)if(Object.prototype.hasOwnProperty.call(d,S)){var E="".concat(x).concat(i).concat(S);w[S]=this.translate(E,o({},e,{joinArrays:!1,ns:u})),w[S]===E&&(w[S]=d[S])}d=w}}else if(_&&"string"==typeof v&&"[object Array]"===m)(d=d.join(v))&&(d=this.extendTranslation(d,t,e));else{var O=!1,P=!1;if(!this.isValidLookup(d)&&void 0!==e.defaultValue){if(O=!0,void 0!==e.count){var C=this.pluralResolver.getSuffix(c,e.count);d=e["defaultValue".concat(C)]}d||(d=e.defaultValue)}this.isValidLookup(d)||(P=!0,d=s);var T=e.defaultValue&&e.defaultValue!==d&&this.options.updateMissing;if(P||O||T){this.logger.log(T?"updateKey":"missingKey",c,l,s,T?e.defaultValue:d);var N=[],I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&I&&I[0])for(var M=0;M<I.length;M++)N.push(I[M]);else"all"===this.options.saveMissingTo?N=this.languageUtils.toResolveHierarchy(e.lng||this.language):N.push(e.lng||this.language);var A=function(t,r){n.options.missingKeyHandler?n.options.missingKeyHandler(t,l,r,T?e.defaultValue:d,T,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,l,r,T?e.defaultValue:d,T,e),n.emit("missingKey",t,l,r,d)};if(this.options.saveMissing){var L=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&L?N.forEach((function(t){n.pluralResolver.getPluralFormsOfKey(t,s).forEach((function(e){return A([t],e)}))})):A(N,s)}}d=this.extendTranslation(d,t,e,p),P&&d===s&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(s)),P&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(d))}return d}},{key:"extendTranslation",value:function(t,e,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(o({},n,{interpolation:o({},this.options.interpolation,n.interpolation)}));var a=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(a=o({},this.options.interpolation.defaultVariables,a)),t=this.interpolator.interpolate(t,a,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,(function(){return i.translate.apply(i,arguments)}),n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,u="string"==typeof s?[s]:s;return null!=t&&u&&u.length&&!1!==n.applyPostProcessor&&(t=k.handle(u,t,e,this.options&&this.options.postProcessPassResolved?o({i18nResolved:r},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var u=a.extractFromKey(t,s),l=u.key;n=l;var c=u.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!=typeof s.count,h=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach((function(t){a.isValidLookup(e)||(o=t,!F["".concat(p[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(F["".concat(p[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for namespace "').concat(o,'" for languages "').concat(p.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(e)){i=n;var o,u,c=l,p=[c];for(a.i18nFormat&&a.i18nFormat.addLookupKeys?a.i18nFormat.addLookupKeys(p,l,n,t,s):(f&&(o=a.pluralResolver.getSuffix(n,s.count)),f&&h&&p.push(c+o),h&&p.push(c+="".concat(a.options.contextSeparator).concat(s.context)),f&&p.push(c+=o));u=p.pop();)a.isValidLookup(e)||(r=u,e=a.getResource(n,t,u,s))}})))}))}})),{res:e,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}]),e}();function D(t){return t.charAt(0).toUpperCase()+t.slice(1)}var U=function(){function t(e){Object(a.a)(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=x.create("languageUtils")}return Object(s.a)(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=D(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=D(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[],o=function(t){t&&(n.isWhitelisted(t)?i.push(t):n.logger.warn("rejecting non-whitelisted language code: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(t))):"string"==typeof t&&o(this.formatLanguageCode(t)),r.forEach((function(t){i.indexOf(t)<0&&o(n.formatLanguageCode(t))})),i}}]),t}(),G=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],z={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}},B=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(a.a)(this,t),this.languageUtils=e,this.options=n,this.logger=x.create("pluralResolver"),this.rules=function(){var t={};return G.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:z[e.fc]}}))})),t}()}return Object(s.a)(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=this,r=[],i=this.getRule(t);return i?(i.numbers.forEach((function(i){var o=n.getSuffix(t,i);r.push("".concat(e).concat(o))})),r):r}},{key:"getSuffix",value:function(t,e){var n=this,r=this.getRule(t);if(r){var i=r.noAbs?r.plurals(e):r.plurals(Math.abs(e)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON?a():this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,t),this.logger=x.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return Object(s.a)(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:A,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?I(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?I(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?I(e.nestingPrefix):e.nestingPrefixEscaped||I("$t("),this.nestingSuffix=e.nestingSuffix?I(e.nestingSuffix):e.nestingSuffixEscaped||I(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(s.formatSeparator)<0){var i=N(e,u,t);return s.alwaysFormat?s.format(i,void 0,n):i}var o=t.split(s.formatSeparator),a=o.shift().trim(),l=o.join(s.formatSeparator).trim();return s.format(N(e,u,a),l,n,r)};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler;for(a=0;i=this.regexpUnescape.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof f){var h=f(t,i,r);o="string"==typeof h?h:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=O(o));if(t=t.replace(i[0],l(o)),this.regexpUnescape.lastIndex=0,++a>=this.maxReplaces)break}for(a=0;i=this.regexp.exec(t);){if(void 0===(o=c(i[1].trim())))if("function"==typeof f){var p=f(t,i,r);o="string"==typeof p?p:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(t)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=O(o));if(o=this.escapeValue?l(this.escape(o)):l(o),t=t.replace(i[0],o),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e){var n,r,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=o({},a);function u(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var r=t.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);t=r[0],i=(i=this.interpolate(i,s)).replace(/'/g,'"');try{s=JSON.parse(i),e&&(s=o({},e,s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(i)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;n=this.nestingRegexp.exec(t);){var l=[],c=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var f=_(n[1].split(this.formatSeparator).map((function(t){return t.trim()})));n[1]=f[0],l=f.slice(1),c=!0}if((r=e(u.call(this,n[1].trim(),s),s))&&n[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=O(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),r=""),c&&(r=l.reduce((function(t,e){return i.format(t,e,a.lng,a)}),r.trim())),t=t.replace(n[0],r),this.regexp.lastIndex=0}return t}}]),t}(),V=function(t){function e(t,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(a.a)(this,e),i=l(this,c(e).call(this)),L&&S.call(Object(u.a)(i)),i.backend=t,i.store=n,i.services=r,i.languageUtils=r.languageUtils,i.options=o,i.logger=x.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return h(e,S),Object(s.a)(e,[{key:"queueLoad",value:function(t,e,n,r){var i=this,o=[],a=[],s=[],u=[];return t.forEach((function(t){var r=!0;e.forEach((function(e){var s="".concat(t,"|").concat(e);!n.reload&&i.store.hasResourceBundle(t,e)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),u.indexOf(e)<0&&u.push(e)))})),r||s.push(t)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:u}}},{key:"loaded",value:function(t,e,n){var r=b(t.split("|"),2),i=r[0],o=r[1];e&&this.emit("failedLoading",i,o,e),n&&this.store.addResourceBundle(i,o,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){!function(t,e,n,r){var i=P(t,e,Object),o=i.obj,a=i.k;o[a]=o[a]||[],o[a].push(n)}(n.loaded,[i],o),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){a[t].indexOf(e)<0&&a[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(s,u){s&&u&&i<5?setTimeout((function(){r.read.call(r,t,e,n,i+1,2*o,a)}),o):a(s,u)})):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var o=this.queueLoad(t,e,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=b(t.split("|"),2),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&e.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),e.loaded(t,r,a)}))}},{key:"saveMissing",value:function(t,e,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" for namespace "').concat(e,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,r,null,o({},a,{isUpdate:i})),t&&t[0]&&this.store.addResource(t[0],e,n,r))}}]),e}();function Y(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function H(){}var W=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(Object(a.a)(this,e),t=l(this,c(e).call(this)),L&&S.call(Object(u.a)(t)),t.options=Y(n),t.services={},t.logger=x,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),l(t,Object(u.a)(t));setTimeout((function(){t.init(n,r)}),0)}return t}return h(e,S),Object(s.a)(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),this.options=o({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===r(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===r(t[2])||"object"===r(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,r){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3}},this.options,Y(e)),this.format=this.options.interpolation.format,n||(n=H),!this.options.isClone){this.modules.logger?x.init(i(this.modules.logger),this.options):x.init(null,this.options);var a=new U(this.options);this.store=new R(this.options.resources,this.options);var s=this.services;s.logger=x,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new B(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new q(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new V(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new j(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.emit.apply(t,[e].concat(r))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var u=E(),l=function(){t.changeLanguage(t.options.lng,(function(e,r){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),u.resolve(r),n(e,r)}))};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),u}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,r="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){i.indexOf(t)<0&&i.push(t)}))};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t){return o(t)})),this.options.preload&&this.options.preload.forEach((function(t){return o(t)})),this.services.backendConnector.load(i,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,e,n){var r=E();return t||(t=this.languages),e||(e=this.options.ns),n||(n=H),this.services.backendConnector.reload(t,e,(function(t){r.resolve(),n(t)})),r}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&k.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var r=E();this.emit("languageChanging",t);var i=function(t){t&&(n.language||(n.language=t,n.languages=n.services.languageUtils.toResolveHierarchy(t)),n.translator.language||n.translator.changeLanguage(t),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(t)),n.loadResources(t,(function(i){!function(t,i){i?(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i),n.translator.changeLanguage(i),n.isLanguageChangingTo=void 0,n.emit("languageChanged",i),n.logger.log("languageChanged",i)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(i,t)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(t):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e){var n=this,i=function t(e,i){var a;if("object"!==r(i)){for(var s=arguments.length,u=new Array(s>2?s-2:0),l=2;l<s;l++)u[l-2]=arguments[l];a=n.options.overloadTranslationOptionHandler([e,i].concat(u))}else a=o({},i);return a.lng=a.lng||t.lng,a.lngs=a.lngs||t.lngs,a.ns=a.ns||t.ns,n.t(e,a)};return"string"==typeof t?i.lng=t:i.lngs=t,i.ns=e,i}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var n=this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;var o=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!!this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||!(!o(n,t)||r&&!o(i,t))}},{key:"loadNamespaces",value:function(t,e){var n=this,r=E();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){r.resolve(),e&&e(t)})),r):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=E();"string"==typeof t&&(t=[t]);var r=this.options.preload||[],i=t.filter((function(t){return r.indexOf(t)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),t?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,i=o({},this.options,n,{isClone:!0}),a=new e(i);return["store","services","language"].forEach((function(e){a[e]=t[e]})),a.services=o({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a.translator=new j(a.services,a.options),a.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];a.emit.apply(a,[t].concat(n))})),a.init(i,r),a.translator.options=a.options,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}}]),e}());e.default=W},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(72))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e,n){"use strict";var r=n(252),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(t){return r.isMemo(t)?a:s[t.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(d){var i=p(n);i&&i!==d&&t(e,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=u(e),g=u(n),y=0;y<a.length;++y){var m=a[y];if(!(o[m]||r&&r[m]||g&&g[m]||s&&s[m])){var v=h(n,m);try{l(e,m,v)}catch(t){}}}}return e}},function(t,e,n){t.exports={parse:n(643),stringify:n(646)}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.names=void 0,e.init=d,e.forward=g,e.inverse=y;var r=h(n(98)),i=h(n(99)),o=h(n(100)),a=h(n(101)),s=h(n(3)),u=h(n(71)),l=h(n(33)),c=n(0),f=h(n(102));function h(t){return t&&t.__esModule?t:{default:t}}var p=20;function d(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,r.default)(this.es),this.e1=(0,i.default)(this.es),this.e2=(0,o.default)(this.es),this.e3=(0,a.default)(this.es),this.ml0=this.a*(0,l.default)(this.e0,this.e1,this.e2,this.e3,this.lat0)}function g(t){var e,n,r,i=t.x,o=t.y,a=(0,s.default)(i-this.long0);if(r=a*Math.sin(o),this.sphere)Math.abs(o)<=c.EPSLN?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*((0,u.default)(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=c.EPSLN)e=this.a*a,n=-1*this.ml0;else{var h=(0,f.default)(this.a,this.e,Math.sin(o))/Math.tan(o);e=h*Math.sin(r),n=this.a*(0,l.default)(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+h*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t}function y(t){var e,n,r,i,o,a,u,f,h;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=c.EPSLN)e=(0,s.default)(r/this.a+this.long0),n=0;else{var d;for(a=this.lat0+i/this.a,u=r*r/this.a/this.a+a*a,f=a,o=p;o;--o)if(f+=h=-1*(a*(f*(d=Math.tan(f))+1)-f-.5*(f*f+u)*d)/((f-a)/d-1),Math.abs(h)<=c.EPSLN){n=f;break}e=(0,s.default)(this.long0+Math.asin(r*Math.tan(f)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=c.EPSLN)n=0,e=(0,s.default)(this.long0+r/this.a);else{var g,y,m,v,_;for(a=(this.ml0+i)/this.a,u=r*r/this.a/this.a+a*a,f=a,o=p;o;--o)if(_=this.e*Math.sin(f),g=Math.sqrt(1-_*_)*Math.tan(f),y=this.a*(0,l.default)(this.e0,this.e1,this.e2,this.e3,f),m=this.e0-2*this.e1*Math.cos(2*f)+4*this.e2*Math.cos(4*f)-6*this.e3*Math.cos(6*f),f-=h=(a*(g*(v=y/this.a)+1)-v-.5*g*(v*v+u))/(this.es*Math.sin(2*f)*(v*v+u-2*a*v)/(4*g)+(a-v)*(g*m-2/Math.sin(2*f))-m),Math.abs(h)<=c.EPSLN){n=f;break}g=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=(0,s.default)(this.long0+Math.asin(r*g/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var m=e.names=["Polyconic","poly"];e.default={init:d,forward:g,inverse:y,names:m}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.names=void 0,e.init=o,e.forward=a,e.inverse=s;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(3)),i=n(0);function o(){}function a(t){for(var e=t.x,n=t.y,o=(0,r.default)(e-this.long0),a=n,s=Math.PI*Math.sin(n);;){var u=-(a+Math.sin(a)-s)/(1+Math.cos(a));if(a+=u,Math.abs(u)<i.EPSLN)break}a/=2,Math.PI/2-Math.abs(n)<i.EPSLN&&(o=0);var l=.900316316158*this.a*o*Math.cos(a)+this.x0,c=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=l,t.y=c,t}function s(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=(0,r.default)(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var o=Math.asin(n);return t.x=i,t.y=o,t}var u=e.names=["Mollweide","moll"];e.default={init:o,forward:a,inverse:s,names:u}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},a=2,s=20,u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&l()}function u(){o(s)}function l(){var t=Date.now();if(n){if(t-i<a)return;r=!0}else n=!0,r=!1,setTimeout(u,e);i=t}return l}(this.refresh.bind(this),s)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;u.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),f=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},h=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||i},p=v(0,0,0,0);function d(t){return parseFloat(t)||0}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+d(t["border-"+n+"-width"])}),0)}var y="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof h(t).SVGGraphicsElement}:function(t){return t instanceof h(t).SVGElement&&"function"==typeof t.getBBox};function m(t){return r?y(t)?function(t){var e=t.getBBox();return v(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return p;var r=h(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=d(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=g(r,"left","right")+o),Math.round(u+a)!==n&&(u-=g(r,"top","bottom")+a)),!function(t){return t===h(t).document.documentElement}(t)){var l=Math.round(s+o)-e,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return v(i.left,i.top,s,u)}(t):p}function v(t,e,n,r){return{x:t,y:e,width:n,height:r}}var _=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=m(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),b=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return f(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);f(this,{target:t,contentRect:n})},w=function(){function t(t,e,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=r}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new _(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof h(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new b(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),x="undefined"!=typeof WeakMap?new WeakMap:new n,S=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(e,n,this);x.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){S.prototype[t]=function(){var e;return(e=x.get(this))[t].apply(e,arguments)}}));var E=void 0!==i.ResizeObserver?i.ResizeObserver:S;e.default=E}).call(this,n(72))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=a(n(254)),o=a(n(250));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return"symbol"==(void 0===t?"undefined":r(t))||(0,o.default)(t)&&"[object Symbol]"==(0,i.default)(t)}},function(t,e,n){n(386),n(588),t.exports=n(589)},function(t,e,n){"use strict";(function(t){if(n(387),n(584),n(585),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var e="defineProperty";function r(t,n,r){t[n]||Object[e](t,n,{writable:!0,configurable:!0,value:r})}r(String.prototype,"padLeft","".padStart),r(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&r(Array,t,Function.call.bind([][t]))}))}).call(this,n(72))},function(t,e,n){n(388),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(468),n(469),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(209),n(492),n(275),n(493),n(276),n(494),n(495),n(496),n(497),n(498),n(279),n(281),n(282),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),t.exports=n(52)},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(10),o=n(42),a=n(23),s=n(1),u=n(39),l=n(86).KEY,c=n(12),f=n(136),h=n(123),p=n(104),d=n(20),g=n(257),y=n(190),m=n(390),v=n(158),_=n(6),b=n(15),w=n(26),x=n(43),S=n(61),E=n(103),O=n(107),P=n(260),C=n(44),T=n(157),N=n(25),I=n(105),M=C.f,A=N.f,L=P.f,R=i.Symbol,k=i.JSON,F=k&&k.stringify,j=d("_hidden"),D=d("toPrimitive"),U={}.propertyIsEnumerable,G=f("symbol-registry"),z=f("symbols"),B=f("op-symbols"),q=Object.prototype,V="function"==typeof R&&!!T.f,Y=i.QObject,H=!Y||!Y.prototype||!Y.prototype.findChild,W=a&&c((function(){return 7!=O(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=M(q,e);r&&delete q[e],A(t,e,n),r&&t!==q&&A(q,e,r)}:A,X=function(t){var e=z[t]=O(R.prototype);return e._k=t,e},K=V&&"symbol"==r(R.iterator)?function(t){return"symbol"==(void 0===t?"undefined":r(t))}:function(t){return t instanceof R},Z=function(t,e,n){return t===q&&Z(B,e,n),_(t),e=S(e,!0),_(n),o(z,e)?(n.enumerable?(o(t,j)&&t[j][e]&&(t[j][e]=!1),n=O(n,{enumerable:E(0,!1)})):(o(t,j)||A(t,j,E(1,{})),t[j][e]=!0),W(t,e,n)):A(t,e,n)},J=function(t,e){_(t);for(var n,r=m(e=x(e)),i=0,o=r.length;o>i;)Z(t,n=r[i++],e[n]);return t},Q=function(t){var e=U.call(this,t=S(t,!0));return!(this===q&&o(z,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(z,t)||o(this,j)&&this[j][t])||e)},$=function(t,e){if(t=x(t),e=S(e,!0),t!==q||!o(z,e)||o(B,e)){var n=M(t,e);return!n||!o(z,e)||o(t,j)&&t[j][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=L(x(t)),r=[],i=0;n.length>i;)o(z,e=n[i++])||e==j||e==l||r.push(e);return r},et=function(t){for(var e,n=t===q,r=L(n?B:x(t)),i=[],a=0;r.length>a;)!o(z,e=r[a++])||n&&!o(q,e)||i.push(z[e]);return i};V||(u((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0);return a&&H&&W(q,t,{configurable:!0,set:function e(n){this===q&&e.call(B,n),o(this,j)&&o(this[j],t)&&(this[j][t]=!1),W(this,t,E(1,n))}}),X(t)}).prototype,"toString",(function(){return this._k})),C.f=$,N.f=Z,n(108).f=P.f=tt,n(138).f=Q,T.f=et,a&&!n(85)&&u(q,"propertyIsEnumerable",Q,!0),g.f=function(t){return X(d(t))}),s(s.G+s.W+s.F*!V,{Symbol:R});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)d(nt[rt++]);for(var it=I(d.store),ot=0;it.length>ot;)y(it[ot++]);s(s.S+s.F*!V,"Symbol",{for:function(t){return o(G,t+="")?G[t]:G[t]=R(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!V,"Object",{create:function(t,e){return void 0===e?O(t):J(O(t),e)},defineProperty:Z,defineProperties:J,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=c((function(){T.f(1)}));s(s.S+s.F*at,"Object",{getOwnPropertySymbols:function(t){return T.f(w(t))}}),k&&s(s.S+s.F*(!V||c((function(){var t=R();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!K(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,F.apply(k,r)}}),R.prototype[D]||n(38)(R.prototype,D,R.prototype.valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},function(t,e,n){t.exports=n(136)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(105),i=n(157),o=n(138);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,n){var r=n(1);r(r.S,"Object",{create:n(107)})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(23),"Object",{defineProperty:n(25).f})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(23),"Object",{defineProperties:n(259)})},function(t,e,n){var r=n(43),i=n(44).f;n(63)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(26),i=n(45);n(63)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(26),i=n(105);n(63)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(63)("getOwnPropertyNames",(function(){return n(260).f}))},function(t,e,n){var r=n(15),i=n(86).onFreeze;n(63)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(15),i=n(86).onFreeze;n(63)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(15),i=n(86).onFreeze;n(63)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(15);n(63)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(15);n(63)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(15);n(63)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(261)})},function(t,e,n){var r=n(1);r(r.S,"Object",{is:n(262)})},function(t,e,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(194).set})},function(t,e,n){"use strict";var r=n(124),i={};i[n(20)("toStringTag")]="z",i+""!="[object z]"&&n(39)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(1);r(r.P,"Function",{bind:n(263)})},function(t,e,n){var r=n(25).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(23)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(15),i=n(45),o=n(20)("hasInstance"),a=Function.prototype;o in a||n(25).f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(1),i=n(265);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(1),i=n(266);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(10),i=n(42),o=n(54),a=n(196),s=n(61),u=n(12),l=n(108).f,c=n(44).f,f=n(25).f,h=n(125).trim,p=r.Number,d=p,g=p.prototype,y="Number"==o(n(107)(g)),m="trim"in String.prototype,v=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,r,i,o=(e=m?e.trim():h(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(y?u((function(){g.valueOf.call(n)})):"Number"!=o(n))?a(new d(v(e)),n,p):v(e)};for(var _,b=n(23)?l(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(d,_=b[w])&&!i(p,_)&&f(p,_,c(d,_));p.prototype=g,g.constructor=p,n(39)(r,"Number",p)}},function(t,e,n){"use strict";var r=n(1),i=n(55),o=n(267),a=n(197),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*l[n],l[n]=r%1e7,r=u(r/1e7)},h=function(t){for(var e=6,n=0;--e>=0;)n+=l[e],l[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var n=String(l[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},d=function(t,e,n){return 0===e?n:e%2==1?d(t,e-1,n*t):d(t*t,e/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(12)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,c),l=i(t),g="",y="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*d(2,69,1))-69)<0?u*d(2,-e,1):u/d(2,e,1),n*=4503599627370496,(e=52-e)>0){for(f(0,n),r=l;r>=7;)f(1e7,0),r-=7;for(f(d(10,r,1),0),r=e-1;r>=23;)h(1<<23),r-=23;h(1<<r),f(1,1),h(2),y=p()}else f(0,n),f(1<<-e,0),y=p()+a.call("0",l);return l>0?g+((s=y.length)<=l?"0."+a.call("0",l-s)+y:y.slice(0,s-l)+"."+y.slice(s-l)):g+y}})},function(t,e,n){"use strict";var r=n(1),i=n(12),o=n(267),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(1),i=n(10).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{isInteger:n(268)})},function(t,e,n){var r=n(1);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),i=n(268),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1),i=n(266);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(1),i=n(265);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(1),i=n(269),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(1),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(1),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),i=n(198);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(1),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(1),i=n(199);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(1);r(r.S,"Math",{fround:n(270)})},function(t,e,n){var r=n(1),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(1),i=Math.imul;r(r.S+r.F*n(12)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log1p:n(269)})},function(t,e,n){var r=n(1);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(1);r(r.S,"Math",{sign:n(198)})},function(t,e,n){var r=n(1),i=n(199),o=Math.exp;r(r.S+r.F*n(12)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(1),i=n(199),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(1),i=n(106),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(1),i=n(43),o=n(21);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(125)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var r=n(159)(!0);n(200)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(1),i=n(159)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(21),o=n(202),a="".endsWith;r(r.P+r.F*n(203)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:Math.min(i(n),r),u=String(t);return a?a.call(e,u,s):e.slice(s-u.length,s)===u}})},function(t,e,n){"use strict";var r=n(1),i=n(202);r(r.P+r.F*n(203)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1);r(r.P,"String",{repeat:n(197)})},function(t,e,n){"use strict";var r=n(1),i=n(21),o=n(202),a="".startsWith;r(r.P+r.F*n(203)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(40)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(40)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(40)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(40)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(40)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(40)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(40)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(40)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(40)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(40)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(40)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(40)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(40)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var r=n(1);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(1),i=n(26),o=n(61);r(r.P+r.F*n(12)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(1),i=n(467);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(12),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(39)(r,"toString",(function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"}))},function(t,e,n){var r=n(20)("toPrimitive"),i=Date.prototype;r in i||n(38)(i,r,n(470))},function(t,e,n){"use strict";var r=n(6),i=n(61);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!=t)}},function(t,e,n){var r=n(1);r(r.S,"Array",{isArray:n(158)})},function(t,e,n){"use strict";var r=n(53),i=n(1),o=n(26),a=n(271),s=n(204),u=n(21),l=n(205),c=n(206);i(i.S+i.F*!n(161)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,f,h=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,y=void 0!==g,m=0,v=c(h);if(y&&(g=r(g,d>2?arguments[2]:void 0,2)),null==v||p==Array&&s(v))for(n=new p(e=u(h.length));e>m;m++)l(n,m,y?g(h[m],m):h[m]);else for(f=v.call(h),n=new p;!(i=f.next()).done;m++)l(n,m,y?a(f,g,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(1),i=n(205);r(r.S+r.F*n(12)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(1),i=n(43),o=[].join;r(r.P+r.F*(n(137)!=Object||!n(56)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(1),i=n(193),o=n(54),a=n(106),s=n(21),u=[].slice;r(r.P+r.F*n(12)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),l=a(e,n),c=s(l-i),f=new Array(c),h=0;h<c;h++)f[h]="String"==r?this.charAt(i+h):this[i+h];return f}})},function(t,e,n){"use strict";var r=n(1),i=n(34),o=n(26),a=n(12),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n(56)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(1),i=n(64)(0),o=n(56)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(15),i=n(158),o=n(20)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(1),i=n(64)(1);r(r.P+r.F*!n(56)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(64)(2);r(r.P+r.F*!n(56)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(64)(3);r(r.P+r.F*!n(56)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(64)(4);r(r.P+r.F*!n(56)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(272);r(r.P+r.F*!n(56)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(1),i=n(272);r(r.P+r.F*!n(56)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(1),i=n(156)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(56)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(43),o=n(55),a=n(21),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(56)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(1);r(r.P,"Array",{copyWithin:n(273)}),n(87)("copyWithin")},function(t,e,n){var r=n(1);r(r.P,"Array",{fill:n(208)}),n(87)("fill")},function(t,e,n){"use strict";var r=n(1),i=n(64)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(87)("find")},function(t,e,n){"use strict";var r=n(1),i=n(64)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(87)(o)},function(t,e,n){n(109)("Array")},function(t,e,n){var r=n(10),i=n(196),o=n(25).f,a=n(108).f,s=n(160),u=n(139),l=r.RegExp,c=l,f=l.prototype,h=/a/g,p=/a/g,d=new l(h)!==h;if(n(23)&&(!d||n(12)((function(){return p[n(20)("match")]=!1,l(h)!=h||l(p)==p||"/a/i"!=l(h,"i")})))){l=function(t,e){var n=this instanceof l,r=s(t),o=void 0===e;return!n&&r&&t.constructor===l&&o?t:i(d?new c(r&&!o?t.source:t,e):c((r=t instanceof l)?t.source:t,r&&o?u.call(t):e),n?this:f,l)};for(var g=function(t){t in l||o(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},y=a(c),m=0;y.length>m;)g(y[m++]);f.constructor=l,l.prototype=f,n(39)(r,"RegExp",l)}n(109)("RegExp")},function(t,e,n){"use strict";n(276);var r=n(6),i=n(139),o=n(23),a=/./.toString,s=function(t){n(39)(RegExp.prototype,"toString",t,!0)};n(12)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){"use strict";var r=n(6),i=n(21),o=n(211),a=n(162);n(163)("match",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),l=String(this);if(!u.global)return a(u,l);var c=u.unicode;u.lastIndex=0;for(var f,h=[],p=0;null!==(f=a(u,l));){var d=String(f[0]);h[p]=d,""===d&&(u.lastIndex=o(l,i(u.lastIndex),c)),p++}return 0===p?null:h}]}))},function(t,e,n){"use strict";var r=n(6),i=n(26),o=n(21),a=n(55),s=n(211),u=n(162),l=Math.max,c=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};n(163)("replace",2,(function(t,e,n,g){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=g(n,t,this,e);if(i.done)return i.value;var f=r(t),h=String(this),p="function"==typeof e;p||(e=String(e));var m=f.global;if(m){var v=f.unicode;f.lastIndex=0}for(var _=[];;){var b=u(f,h);if(null===b)break;if(_.push(b),!m)break;""===String(b[0])&&(f.lastIndex=s(h,o(f.lastIndex),v))}for(var w="",x=0,S=0;S<_.length;S++){b=_[S];for(var E=String(b[0]),O=l(c(a(b.index),h.length),0),P=[],C=1;C<b.length;C++)P.push(d(b[C]));var T=b.groups;if(p){var N=[E].concat(P,O,h);void 0!==T&&N.push(T);var I=String(e.apply(void 0,N))}else I=y(E,h,O,P,T,e);O>=x&&(w+=h.slice(x,O)+I,x=O+E.length)}return w+h.slice(x)}];function y(t,e,r,o,a,s){var u=r+t.length,l=o.length,c=p;return void 0!==a&&(a=i(a),c=h),n.call(s,c,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(c>l){var h=f(c/10);return 0===h?n:h<=l?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[c-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";var r=n(6),i=n(262),o=n(162);n(163)("search",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var c=o(s,u);return i(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]}))},function(t,e,n){"use strict";var r=n(160),i=n(6),o=n(140),a=n(211),s=n(21),u=n(162),l=n(210),c=n(12),f=Math.min,h=[].push,p=!c((function(){RegExp(4294967295,"y")}));n(163)("split",2,(function(t,e,n,c){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,a,s,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,p=void 0===e?4294967295:e>>>0,d=new RegExp(t.source,c+"g");(o=l.call(d,i))&&!((a=d.lastIndex)>f&&(u.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&h.apply(u,o.slice(1)),s=o[0].length,f=a,u.length>=p));)d.lastIndex===o.index&&d.lastIndex++;return f===i.length?!s&&d.test("")||u.push(""):u.push(i.slice(f)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):d.call(String(i),n,r)},function(t,e){var r=c(d,t,this,e,d!==n);if(r.done)return r.value;var l=i(t),h=String(this),g=o(l,RegExp),y=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),v=new g(p?l:"^(?:"+l.source+")",m),_=void 0===e?4294967295:e>>>0;if(0===_)return[];if(0===h.length)return null===u(v,h)?[h]:[];for(var b=0,w=0,x=[];w<h.length;){v.lastIndex=p?w:0;var S,E=u(v,p?h:h.slice(w));if(null===E||(S=f(s(v.lastIndex+(p?0:w)),h.length))===b)w=a(h,w,y);else{if(x.push(h.slice(b,w)),x.length===_)return x;for(var O=1;O<=E.length-1;O++)if(x.push(E[O]),x.length===_)return x;w=b=S}}return x.push(h.slice(b)),x}]}))},function(t,e,n){"use strict";var r,i,o,a,s=n(85),u=n(10),l=n(53),c=n(124),f=n(1),h=n(15),p=n(34),d=n(110),g=n(111),y=n(140),m=n(212).set,v=n(213)(),_=n(214),b=n(277),w=n(164),x=n(278),S=u.TypeError,E=u.process,O=E&&E.versions,P=O&&O.v8||"",C=u.Promise,T="process"==c(E),N=function(){},I=i=_.f,M=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(20)("species")]=function(t){t(N,N)};return(T||"function"==typeof PromiseRejectionEvent)&&t.then(N)instanceof e&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),A=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;v((function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&F(t),t._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),a=!0)),n===e.promise?l(S("Promise-chain cycle")):(o=A(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){m.call(u,(function(){var e,n,r,i=t._v,o=k(t);if(o&&(e=b((function(){T?E.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=T||k(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},k=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){m.call(u,(function(){var e;T?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},j=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=A(t))?v((function(){var r={_w:n,_d:!1};try{e.call(t,l(D,r,1),l(j,r,1))}catch(t){j.call(r,t)}})):(n._v=t,n._s=1,L(n,!1))}catch(t){j.call({_w:n,_d:!1},t)}}};M||(C=function(t){d(this,C,"Promise","_h"),p(t),r.call(this);try{t(l(D,this,1),l(j,this,1))}catch(t){j.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(112)(C.prototype,{then:function(t,e){var n=I(y(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(D,t,1),this.reject=l(j,t,1)},_.f=I=function(t){return t===C||t===a?new o(t):i(t)}),f(f.G+f.W+f.F*!M,{Promise:C}),n(123)(C,"Promise"),n(109)("Promise"),a=n(52).Promise,f(f.S+f.F*!M,"Promise",{reject:function(t){var e=I(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(t){return x(s&&this===a?C:this,t)}}),f(f.S+f.F*!(M&&n(161)((function(t){C.all(t).catch(N)}))),"Promise",{all:function(t){var e=this,n=I(e),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;g(t,!1,(function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then((function(t){u||(u=!0,n[s]=t,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=I(e),r=n.reject,i=b((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";var r=n(283),i=n(113);n(165)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(1),i=n(166),o=n(215),a=n(6),s=n(106),u=n(21),l=n(15),c=n(10).ArrayBuffer,f=n(140),h=o.ArrayBuffer,p=o.DataView,d=i.ABV&&c.isView,g=h.prototype.slice,y=i.VIEW;r(r.G+r.W+r.F*(c!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return d&&d(t)||l(t)&&y in t}}),r(r.P+r.U+r.F*n(12)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(f(this,h))(u(i-r)),l=new p(this),c=new p(o),d=0;r<i;)c.setUint8(d++,l.getUint8(r++));return o}}),n(109)("ArrayBuffer")},function(t,e,n){var r=n(1);r(r.G+r.W+r.F*!n(166).ABV,{DataView:n(215).DataView})},function(t,e,n){n(73)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(73)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(73)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(1),i=n(34),o=n(6),a=(n(10).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(12)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(1),i=n(107),o=n(34),a=n(6),s=n(15),u=n(12),l=n(263),c=(n(10).Reflect||{}).construct,f=u((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),h=!u((function(){c((function(){}))}));r(r.S+r.F*(f||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){var r=n(25),i=n(1),o=n(6),a=n(61);i(i.S+i.F*n(12)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),i=n(44).f,o=n(6);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(1),i=n(6),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(201)(o,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(44),i=n(45),o=n(42),a=n(1),s=n(15),u=n(6);a(a.S,"Reflect",{get:function t(e,n){var a,l,c=arguments.length<3?e:arguments[2];return u(e)===c?e[n]:(a=r.f(e,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:s(l=i(e))?t(l,n,c):void 0}})},function(t,e,n){var r=n(44),i=n(1),o=n(6);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(1),i=n(45),o=n(6);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),i=n(6),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(285)})},function(t,e,n){var r=n(1),i=n(6),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(25),i=n(44),o=n(45),a=n(42),s=n(1),u=n(103),l=n(6),c=n(15);s(s.S,"Reflect",{set:function t(e,n,s){var f,h,p=arguments.length<4?e:arguments[3],d=i.f(l(e),n);if(!d){if(c(h=o(e)))return t(h,n,s,p);d=u(0)}if(a(d,"value")){if(!1===d.writable||!c(p))return!1;if(f=i.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==d.set&&(d.set.call(p,s),!0)}})},function(t,e,n){var r=n(1),i=n(194);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r=n(1),i=n(156)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(87)("includes")},function(t,e,n){"use strict";var r=n(1),i=n(286),o=n(26),a=n(21),s=n(34),u=n(207);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(87)("flatMap")},function(t,e,n){"use strict";var r=n(1),i=n(286),o=n(26),a=n(21),s=n(55),u=n(207);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n(87)("flatten")},function(t,e,n){"use strict";var r=n(1),i=n(159)(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(287),o=n(164),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(1),i=n(287),o=n(164),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(125)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){"use strict";n(125)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){"use strict";var r=n(1),i=n(62),o=n(21),a=n(160),s=n(139),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};n(201)(l,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new l(r,e)}})},function(t,e,n){"use strict";n(190)("asyncIterator")},function(t,e,n){"use strict";n(190)("observable")},function(t,e,n){var r=n(1),i=n(285),o=n(43),a=n(44),s=n(205);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,l=i(r),c={},f=0;l.length>f;)void 0!==(n=u(r,e=l[f++]))&&s(c,e,n);return c}})},function(t,e,n){var r=n(1),i=n(288)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(1),i=n(288)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(1),i=n(26),o=n(34),a=n(25);n(23)&&r(r.P+n(167),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(1),i=n(26),o=n(34),a=n(25);n(23)&&r(r.P+n(167),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(1),i=n(26),o=n(61),a=n(45),s=n(44).f;n(23)&&r(r.P+n(167),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var r=n(1),i=n(26),o=n(61),a=n(45),s=n(44).f;n(23)&&r(r.P+n(167),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},function(t,e,n){var r=n(1);r(r.P+r.R,"Map",{toJSON:n(289)("Map")})},function(t,e,n){var r=n(1);r(r.P+r.R,"Set",{toJSON:n(289)("Set")})},function(t,e,n){n(168)("Map")},function(t,e,n){n(168)("Set")},function(t,e,n){n(168)("WeakMap")},function(t,e,n){n(168)("WeakSet")},function(t,e,n){n(169)("Map")},function(t,e,n){n(169)("Set")},function(t,e,n){n(169)("WeakMap")},function(t,e,n){n(169)("WeakSet")},function(t,e,n){var r=n(1);r(r.G,{global:n(10)})},function(t,e,n){var r=n(1);r(r.S,"System",{global:n(10)})},function(t,e,n){var r=n(1),i=n(54);r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var r=n(1),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var r=n(1),i=n(291),o=n(270);r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(t,e,n){var r=n(1);r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=n>>>0;return(e>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(t,e,n){var r=n(1);r(r.S,"Math",{imulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var r=n(1),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var r=n(1);r(r.S,"Math",{scale:n(291)})},function(t,e,n){var r=n(1);r(r.S,"Math",{umulh:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var r=n(1),i=n(52),o=n(10),a=n(140),s=n(278);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(1),i=n(214),o=n(277);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var r=n(74),i=n(6),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},function(t,e,n){var r=n(74),i=n(6),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var u=s.get(e);return u.delete(n),!!u.size||s.delete(e)}})},function(t,e,n){var r=n(74),i=n(6),o=n(45),a=r.has,s=r.get,u=r.key,l=function(t,e,n){if(a(t,e,n))return s(t,e,n);var r=o(e);return null!==r?l(t,r,n):void 0};r.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,n){var r=n(281),i=n(290),o=n(74),a=n(6),s=n(45),u=o.keys,l=o.key,c=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=c(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return c(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,n){var r=n(74),i=n(6),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(74),i=n(6),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var r=n(74),i=n(6),o=n(45),a=r.has,s=r.key,u=function(t,e,n){if(a(t,e,n))return!0;var r=o(e);return null!==r&&u(t,r,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var r=n(74),i=n(6),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var r=n(74),i=n(6),o=n(34),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},function(t,e,n){var r=n(1),i=n(213)(),o=n(10).process,a="process"==n(54)(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";var r=n(1),i=n(10),o=n(52),a=n(213)(),s=n(20)("observable"),u=n(34),l=n(6),c=n(110),f=n(112),h=n(38),p=n(111),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},v=function(t){m(t)||(t._o=void 0,y(t))},_=function(t,e){l(t),this._c=void 0,this._o=t,t=new b(this);try{var n=e(t),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&y(this)};_.prototype=f({},{unsubscribe:function(){v(this)}});var b=function(t){this._s=t};b.prototype=f({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(t){try{v(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var w=function(t){c(this,w,"Observable","_f")._f=u(t)};f(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)((function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n})}))}}),f(w,{from:function(t){var e="function"==typeof this?this:w,n=g(l(t)[s]);if(n){var r=l(n.call(t));return r.constructor===e?r:new e((function(t){return r.subscribe(t)}))}return new e((function(e){var n=!1;return a((function(){if(!n){try{if(p(t,!1,(function(t){if(e.next(t),n)return d}))===d)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:w)((function(t){var e=!1;return a((function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}})),function(){e=!0}}))}}),h(w.prototype,s,(function(){return this})),r(r.G,{Observable:w}),n(109)("Observable")},function(t,e,n){var r=n(10),i=n(1),o=n(164),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(1),i=n(212);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(209),i=n(105),o=n(39),a=n(10),s=n(38),u=n(126),l=n(20),c=l("iterator"),f=l("toStringTag"),h=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(p),g=0;g<d.length;g++){var y,m=d[g],v=p[m],_=a[m],b=_&&_.prototype;if(b&&(b[c]||s(b,c,h),b[f]||s(b,f,m),u[m]=h,v))for(y in r)b[y]||o(b,y,r[y],!0)}},function(t,e,n){"use strict";(function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var r,i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag",c="object"===n(e),f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var h="suspendedStart",p="suspendedYield",d="executing",g="completed",y={},m={};m[s]=function(){return this};var v=Object.getPrototypeOf,_=v&&v(v(A([])));_&&_!==i&&o.call(_,s)&&(m=_);var b=O.prototype=S.prototype=Object.create(m);E.prototype=b.constructor=O,O.constructor=E,O[l]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(b),t},f.awrap=function(t){return{__await:t}},P(C.prototype),C.prototype[u]=function(){return this},f.AsyncIterator=C,f.async=function(t,e,n,r){var i=new C(w(t,e,n,r));return f.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(b),b[l]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=A,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,e,n,r){var i=e&&e.prototype instanceof S?e:S,o=Object.create(i.prototype),a=new M(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=x(t,e,n);if("normal"===u.type){if(r=n.done?g:p,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function S(){}function E(){}function O(){}function P(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function C(e){function r(t,i,a,s){var u=x(e[t],e,i);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"===(void 0===c?"undefined":n(c))&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):Promise.resolve(c).then((function(t){l.value=t,a(l)}),s)}s(u.arg)}var i;"object"===n(t.process)&&t.process.domain&&(r=t.process.domain.bind(r)),this._invoke=function(t,e){function n(){return new Promise((function(n,i){r(t,e,n,i)}))}return i=i?i.then(n,n):n()}}function T(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,T(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=x(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,y;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:r,done:!0}}}("object"===(void 0===t?"undefined":n(t))?t:"object"===("undefined"==typeof window?"undefined":n(window))?window:"object"===("undefined"==typeof self?"undefined":n(self))?self:void 0)}).call(this,n(72),n(216)(t))},function(t,e,n){n(586),t.exports=n(52).RegExp.escape},function(t,e,n){var r=n(1),i=n(587)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return i(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return l})),n.d(e,"Request",(function(){return y})),n.d(e,"Response",(function(){return v})),n.d(e,"DOMException",(function(){return b})),n.d(e,"fetch",(function(){return w}));var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function c(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=a(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},l.prototype.delete=function(t){delete this.map[a(t)]},l.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},l.prototype.set=function(t,e){this.map[a(t)]=s(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(t,e){var n=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=function(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},d.call(y.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];v.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var b=self.DOMException;try{new b}catch(t){(b=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function w(t,e){return new Promise((function(n,i){var o=new y(t,e);if(o.signal&&o.signal.aborted)return i(new b("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:function(t){var e=new l;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;n(new v(e,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new b("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r.blob&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=l,self.Request=y,self.Response=v)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsts=e.util=e.trackers=e.components=e.Application=void 0;var r=S(n(590)),i=S(n(310)),o=S(n(179)),a=S(n(763)),s=S(n(765)),u=S(n(771)),l=S(n(772)),c=S(n(773)),f=S(n(775)),h=S(n(776)),p=S(n(368)),d=S(n(777)),g=S(n(784)),y=S(n(785)),m=S(n(786)),v=S(n(787)),_=x(n(16)),b=x(n(323)),w=S(n(185));function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}S(n(5)),_.configureProjections(w.default);var E={Catalog:i.default,Map:o.default,Toolbar:a.default,ServiceManager:s.default,Favorites:u.default,VisibleLayers:l.default,Grid:c.default,Version:f.default,CoordinateDisplay:h.default,MeasureTool:p.default,PrintModal:d.default,JumpToExtent:g.default,BookmarkModal:y.default},O={LocalStorageTracker:m.default,HashTracker:v.default};e.Application=r.default,e.components=E,e.trackers=O,e.util=_,e.jsts=b,function(){for(var t=document.getElementsByTagName("script"),e="/",r=0;r<t.length;r++){var i=t[r].getAttribute("src");i&&(i.indexOf("geomoose.js")>=0||i.indexOf("geomoose.min.js")>=0)&&(e=i.split("/").slice(0,-1).join("/"))}"/"!==e.slice(-1)&&(e+="/"),n.p=e}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=G(n(217)),s=n(253),u=G(n(593)),l=G(n(374)),c=U(n(5)),f=U(n(597)),h=n(27),p=U(h),d=U(n(37)),g=U(n(146)),y=U(n(177)),m=n(227),v=n(630),_=n(631),b=G(n(632)),w=G(n(633)),x=G(n(634)),S=G(n(635)),E=G(n(636)),O=G(n(637)),P=G(n(638)),C=G(n(639)),T=G(n(640)),N=G(n(641)),I=G(n(80)),M=G(n(2)),A=G(n(186)),L=G(n(185)),R=n(650),k=G(n(228)),F=U(n(16)),j=G(n(651)),D=n(90);function U(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function G(t){return t&&t.__esModule?t:{default:t}}var z=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(t){var e=Object.assign({},t);return t.resultsStyle?e.resultsStyle={highlight:Object.assign({},D.HIGHLIGHT_STYLE,t.resultsStyle.highlight),hot:Object.assign({},D.HIGHLIGHT_HOT_STYLE,t.resultsStyle.hot)}:e.resultsStyle={highlight:D.HIGHLIGHT_STYLE,hot:D.HIGHLIGHT_HOT_STYLE},e.selectionStyle=Object.assign({},D.SELECTION_STYLE,t.selectionStyle),e}(n);for(var i in this.elements=[],this.services={},this.actions={},this.config=r,(0,j.default)(n.lang||{}),(0,R.register)(L.default),this.store=(0,s.createStore)((0,s.combineReducers)({mapSources:w.default,catalog:b.default,map:x.default,toolbar:S.default,query:E.default,ui:O.default,cursor:P.default,print:C.default,config:T.default,editor:N.default}),(0,s.applyMiddleware)(u.default)),this.store.dispatch((0,_.setConfig)(r)),this.state={},this.store.subscribe((function(){e.shouldUiUpdate()})),this.showWarnings=!0===r.showWarnings,this.experimental={},f)this.experimental[i]=f[i].bind(this)}return o(t,[{key:"registerService",value:function(t,e,n){"object"!=(void 0===n?"undefined":i(n))&&(n={}),this.services[t]=new e(this,n),this.services[t].name=t}},{key:"registerAction",value:function(t,e,n){"object"!=(void 0===n?"undefined":i(n))&&(n={}),this.actions[t]=new e(this,n)}},{key:"configureResultsLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.store.dispatch(p.add({name:"results",urls:[],type:"vector",label:"Results",opacity:1,queryable:!1,refresh:null,options:{"always-on":!0},params:{},zIndex:200001}));var e=Object.assign({},D.HIGHLIGHT_STYLE,t.highlight);this.store.dispatch(p.addLayer("results",{name:"results",on:!0,label:"Results",selectable:!0,style:e}));var n=Object.assign({},D.HIGHLIGHT_HOT_STYLE,t.hot);this.store.dispatch(p.addLayer("results",{name:"results-hot",on:!0,style:n,filter:["==","displayClass","hot"]}))}},{key:"configureSelectionLayer",value:function(t,e){this.store.dispatch(p.add({name:"selection",urls:[],type:"vector",label:"Selection",opacity:1,queryable:!1,refresh:null,layers:[],options:{"always-on":!0},params:{},zIndex:200002}));var n=Object.assign({},D.SELECTION_STYLE,t);this.store.dispatch(p.addLayer("selection",{name:"selection",on:!0,style:n,filter:null})),this.store.dispatch(p.add({name:D.EDIT_LAYER_NAME,urls:[],type:"vector",opacity:1,queryable:!1,refresh:null,layers:[],options:{"always-on":!0},params:{},zIndex:200003})),this.store.dispatch(p.addLayer(D.EDIT_LAYER_NAME,{name:D.EDIT_LAYER_NAME,on:!0,style:Object.assign({},D.EDIT_STYLE,e),filter:null}))}},{key:"populateMapbook",value:function(t){this.configureSelectionLayer(this.config.selectionStyle,this.config.editStyle),this.configureResultsLayer(this.config.resultsStyle);for(var e=t.getElementsByTagName("map-source"),n=0,r=e.length;n<r;n++){var i=e[n],o=p.addFromXml(i,this.config),a=!0,s=!1,u=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;this.store.dispatch(f)}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}var h=(0,m.parseCatalog)(this.store,t.getElementsByTagName("catalog")[0]),d=!0,g=!1,y=void 0;try{for(var _,b=h[Symbol.iterator]();!(d=(_=b.next()).done);d=!0){var w=_.value;this.store.dispatch(w)}}catch(t){g=!0,y=t}finally{try{!d&&b.return&&b.return()}finally{if(g)throw y}}var x=(0,v.parseToolbar)(t.getElementsByTagName("toolbar")[0]),S=!0,E=!1,O=void 0;try{for(var P,C=x[Symbol.iterator]();!(S=(P=C.next()).done);S=!0){var T=P.value;this.store.dispatch(T)}}catch(t){E=!0,O=t}finally{try{!S&&C.return&&C.return()}finally{if(E)throw O}}}},{key:"loadMapbook",value:function(t){var e=this;return t.url?(0,a.default)({url:t.url,type:"xml",success:function(t){e.populateMapbook(t)}}):t.content?new Promise((function(n,r){e.populateMapbook(t.content),n(t.content)})):void 0}},{key:"add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({store:this.store},n);r.services=this.services;var i=M.default.createElement(t,r);return A.default.render(i,document.getElementById(e))}},{key:"addPlugin",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({store:this.store,React:M.default,ReactDOM:A.default},n);r.services=this.services;var i=M.default.createElement(t,r);return A.default.render(i,document.getElementById(e))}},{key:"dispatchQuery",value:function(t,e,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=!this.config.multipleQuery,s=[],u=o;"string"==typeof o&&(u=[o]);var l=!0,c=!1,f=void 0;try{for(var h,p=r[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var g=h.value,y=!0,m=!1,v=void 0;try{for(var _,b=u[Symbol.iterator]();!(y=(_=b.next()).done);y=!0){var w=_.value;s.push(this.getTemplate(g,w))}}catch(t){m=!0,v=t}finally{try{!y&&b.return&&b.return()}finally{if(m)throw v}}}}catch(t){c=!0,f=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}var x=function(t){var e={};return["zoomToResults","gridMinimized"].forEach((function(n){e[n]=!0===t[n]})),e}(this.services[t]);Promise.all(s).then((function(){i.store.dispatch(d.createQuery(t,e,n,r,a,x))}))}},{key:"getTemplate",value:function(t,e){var n=this;return new Promise((function(r,i){if("@"===e.substring(0,1)){var o=e.substring(1),a=(0,h.getLayerFromPath)(n.store.getState().mapSources,t),s=a.templates[o];if(s)if("alias"===s.type)r(a.templates[s.alias].contents);else if("remote"===s.type){var u=F.getMapSourceName(t),l=F.getLayerName(t);fetch(s.src).then((function(t){return t.text()})).then((function(t){n.store.dispatch(p.setLayerTemplate(u,l,o,{type:"local",contents:t})),r(t)})).catch((function(){r("")}))}else r(a.templates[o].contents);else r("")}}))}},{key:"renderFeaturesWithTemplate",value:function(t,e,n){var r=n,i="";if(t.results[e])if(!0===t.results[e].failed)i='\n                    <div class="query-error">\n                        <div class="error-header">Error</div>\n                        <div class="error-contents">\n                        '+t.results[e].failureMessage+"\n                        </div>\n                    </div>\n                ";else if("@"===n.substring(0,1)){var o=n.substring(1),a=(0,h.getLayerFromPath)(this.store.getState().mapSources,e),s=a.templates[o];if(s?r="alias"===s.type?a.templates[s.alias].contents:a.templates[o].contents:(r=null,this.showWarnings&&console.info("Failed to find template.",e,o)),r){var u=!0,c=!1,f=void 0;try{for(var p,d=t.results[e][Symbol.iterator]();!(u=(p=d.next()).done);u=!0){var g=p.value;i+=k.default.up(r,g,F.FORMAT_OPTIONS)}}catch(t){c=!0,f=t}finally{try{!u&&d.return&&d.return()}finally{if(c)throw f}}}else if(s&&"auto"===s.type)for(var y=t.results[e],m=0,v=y.length;m<v;m++){var _=y[m];i+='<div class="result">',i+='<div class="feature-class">',i+=a.label,i+="</div>";var b=Object.keys(_.properties||{}).filter((function(t){return"_uuid"!==t}));if(b.length>0)for(var w=0,x=b.length;w<x;w++){var S=b[w],E=_.properties[S];i+=k.default.up("<b>{{ key }}:</b> {{ value }} <br/>",{key:S,value:E},F.FORMAT_OPTIONS)}else i+="<i>"+l.default.t("empty-properties")+"</i>";i+="</div>"}}else if(n){var O=!0,P=!1,C=void 0;try{for(var T,N=t.results[e][Symbol.iterator]();!(O=(T=N.next()).done);O=!0){var I=T.value;i+=k.default.up(n,I,F.FORMAT_OPTIONS)}}catch(t){P=!0,C=t}finally{try{!O&&N.return&&N.return()}finally{if(P)throw C}}}return i}},{key:"renderTemplate",value:function(t,e,n){if("@"===e.substring(0,1)){var r=e.substring(1),i=(0,h.getLayerFromPath)(this.store.getState().mapSources,t),o=i.templates[r],a="";if(o)return a="alias"===o.type?i.templates[o.alias].contents:i.templates[r].contents,k.default.up(a,n,F.FORMAT_OPTIONS)}return""}},{key:"getActiveMapSources",value:function(){return(0,h.getActiveMapSources)(this.store.getState().mapSources)}},{key:"getVisibleLayers",value:function(){return(0,h.getVisibleLayers)(this.store.getState().mapSources)}},{key:"getQueryableLayers",value:function(t){return(0,h.getQueryableLayers)(this.store.getState().mapSources,t)}},{key:"zoomToExtent",value:function(t,e){this.store.dispatch(d.zoomToExtent(t,e))}},{key:"zoomTo",value:function(t,e,n){var r=c.transform([t,e],"EPSG:4326","EPSG:3857");this.store.dispatch(d.move(r,n))}},{key:"dispatch",value:function(t){this.store.dispatch(t)}},{key:"clearFeatures",value:function(t){var e=F.getMapSourceName(t);this.store.dispatch(p.clearFeatures(e))}},{key:"addFeatures",value:function(t,e){var n=F.getMapSourceName(t);this.store.dispatch(p.addFeatures(n,e))}},{key:"removeQueryResults",value:function(t,e){var n=this,r=function(r){"confirm"===r&&(n.store.dispatch(d.queryProgress(t)),n.store.dispatch(d.removeQueryResults(t,e)),n.removeFeatures("results/results",e),n.store.dispatch(d.finishQuery(t)))};(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).withConfirm?this.confirm("remove-feature","Remove feature?",r):r("confirm")}},{key:"removeFeatures",value:function(t,e){var n=F.getMapSourceName(t);this.store.dispatch(p.removeFeatures(n,e))}},{key:"changeFeatures",value:function(t,e,n){var r=F.getMapSourceName(t);this.store.dispatch(p.changeFeatures(r,e,n))}},{key:"changeResultFeatures",value:function(t,e){this.changeFeatures("results/results",t,e)}},{key:"clearHint",value:function(){this.store.dispatch(g.clearUiHint())}},{key:"shouldUiUpdate",value:function(){var t=this.store.getState().ui;t.stateId!==this.state.stateId&&(this.state.stateId=t.stateId,this.runAction(),this.uiUpdate(t))}},{key:"runAction",value:function(){var t=this.store.getState().ui;t.action&&(this.actions[t.action].run(),this.store.dispatch(g.clearAction()))}},{key:"startAction",value:function(t){this.store.dispatch(g.runAction(t))}},{key:"startService",value:function(t,e){var n=this;this.store.dispatch(y.startService(t));var r=e&&e.changeTool?e.changeTool:this.services[t].tools.default;this.store.dispatch(d.changeTool(r)),e&&e.withFeatures&&(this.store.dispatch(d.setSelectionBuffer(0)),this.store.dispatch(d.clearSelectionFeatures()),e.withFeatures.forEach((function(t){n.store.dispatch(d.addSelectionFeature(t))})),this.store.dispatch(p.clearFeatures("selection")),this.store.dispatch(p.addFeatures("selection",e.withFeatures))),this.store.dispatch(g.setUiHint("service-start"))}},{key:"uiUpdate",value:function(){}},{key:"alert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.showDialog(t,"Alert",e,[{label:"Okay",value:"dismiss"}],n)}},{key:"confirm",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.showDialog(t,"Confirm",e,[{label:"Cancel",value:"dismiss"},{label:"Okay",value:"confirm"}],n)}},{key:"showDialog",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=document.getElementsByTagName("body")[0],a=document.createElement("div");o.appendChild(a);var s={title:e,onClose:function(t){"function"==typeof i&&i(t),o.removeChild(a)},options:r,message:n,open:!0},u=M.default.createElement(I.default,s);A.default.render(u,a)}},{key:"showModal",value:function(t){this.store.dispatch(g.showModal(t))}},{key:"setView",value:function(t){this.store.dispatch(d.setView(t))}},{key:"addProjection",value:function(t){F.addProjDef(L.default,t.ref,t.def)}},{key:"highlightFeatures",value:function(t,e){var n={displayClass:e?"hot":""};this.changeResultFeatures(t,n)}},{key:"clearHighlight",value:function(){this.highlightFeatures({displayClass:"hot"},!1)}},{key:"lonLatToMeters",value:function(t,e){return c.transform([t,e],"EPSG:4326","EPSG:3857")}},{key:"bboxToMeters",value:function(t,e,n,i){var o=this.lonLatToMeters(t,e),a=r(o,2),s=a[0],u=a[1],l=this.lonLatToMeters(n,i),c=r(l,2);return[s,u,c[0],c[1]]}}]),t}();e.default=z},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}n.r(e);var i=r();i.withExtraArgument=r,e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROJECTIONS=e.WORLD_EXTENT=e.EXTENT=e.HALF_SIZE=e.RADIUS=void 0,e.fromEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=l,s=0;s<r;s+=i){o[s]=a*t[s]/180;var c=u*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));c>a?c=a:c<-a&&(c=-a),o[s+1]=c}return o},e.toEPSG4326=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/l,o[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return o};var r=n(19),i=a(n(141)),o=a(n(57));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=e.RADIUS=6378137,l=e.HALF_SIZE=Math.PI*u,c=e.EXTENT=[-l,-l,l,l],f=e.WORLD_EXTENT=[-180,-85,180,85],h=function(t){function e(e){return t.call(this,{code:e,units:o.default.METERS,extent:c,global:!0,worldExtent:f,getPointResolution:function(t,e){return t/(0,r.cosh)(e[1]/u)}})||this}return s(e,t),e}(i.default);e.PROJECTIONS=[new h("EPSG:3857"),new h("EPSG:102100"),new h("EPSG:102113"),new h("EPSG:900913"),new h("urn:ogc:def:crs:EPSG:6.18:3:3857"),new h("urn:ogc:def:crs:EPSG::3857"),new h("http://www.opengis.net/gml/srs/epsg.xml#3857")]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PROJECTIONS=e.METERS_PER_UNIT=e.EXTENT=e.RADIUS=void 0;var r=o(n(141)),i=o(n(57));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=e.RADIUS=6378137,u=e.EXTENT=[-180,-90,180,90],l=e.METERS_PER_UNIT=Math.PI*s/180,c=function(t){function e(e,n){return t.call(this,{code:e,units:i.default.DEGREES,extent:u,axisOrientation:n,global:!0,metersPerUnit:l,worldExtent:u})||this}return a(e,t),e}(r.default);e.PROJECTIONS=[new c("CRS:84"),new c("EPSG:4326","neu"),new c("urn:ogc:def:crs:EPSG::4326","neu"),new c("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new c("urn:ogc:def:crs:OGC:1.3:CRS84"),new c("urn:ogc:def:crs:OGC:2:84"),new c("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new c("urn:x-ogc:def:crs:EPSG:4326","neu")]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clear=function(){r={}},e.get=function(t){return r[t]||null},e.add=function(t,e){r[t]=e};var r={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addConnectedPlugin=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,o.connect)(t.mapStateToProps)(t.component(r.default)),s=Object.assign({},n,{app:this,services:this.services});return i.default.render(r.default.createElement(o.Provider,{store:this.store},r.default.createElement(a,s)),document.getElementById(e))},e.setLayerVisibility=function(t,e){var n=(0,a.getMapSourceName)(t),r=(0,a.getLayerName)(t);this.store.dispatch((0,s.setLayerVisibility)(n,r,e))};var r=u(n(2)),i=u(n(186)),o=n(9),a=n(16),s=n(27);function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(297),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var d=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var y="function"==typeof Symbol&&Symbol.iterator;function m(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function b(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||v}function w(){}function x(t,e,n){this.props=t,this.context=e,this.refs=_,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(m(85));this.updater.enqueueSetState(this,t,e,"setState")},b.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},w.prototype=b.prototype;var S=x.prototype=new w;S.constructor=x,r(S,b.prototype),S.isPureReactComponent=!0;var E={current:null},O={current:null},P=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function T(t,e,n){var r,i={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)P.call(e,r)&&!C.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:t,key:a,ref:s,props:i,_owner:O.current}}function N(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}var I=/\/+/g,M=[];function A(t,e,n,r){if(M.length){var i=M.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function L(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>M.length&&M.push(t)}function R(t,e,n){return null==t?0:function t(e,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case o:case a:u=!0}}if(u)return r(i,e,""===n?"."+k(e,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=n+k(s=e[l],l);u+=t(s,c,r,i)}else if("function"==typeof(c=null===e||"object"!=typeof e?null:"function"==typeof(c=y&&e[y]||e["@@iterator"])?c:null))for(e=c.call(e),l=0;!(s=e.next()).done;)u+=t(s=s.value,c=n+k(s,l++),r,i);else if("object"===s)throw r=""+e,Error(m(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}(t,"",e,n)}function k(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function F(t,e){t.func.call(t.context,e,t.count++)}function j(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?D(t,r,n,(function(t){return t})):null!=t&&(N(t)&&(t=function(t,e){return{$$typeof:o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(I,"$&/")+"/")+n)),r.push(t))}function D(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),R(t,j,e=A(e,o,r,i)),L(e)}function U(){var t=E.current;if(null===t)throw Error(m(321));return t}var G={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return D(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;R(t,F,e=A(null,null,e,n)),L(e)},count:function(t){return R(t,(function(){return null}),null)},toArray:function(t){var e=[];return D(t,e,null,(function(t){return t})),e},only:function(t){if(!N(t))throw Error(m(143));return t}},createRef:function(){return{current:null}},Component:b,PureComponent:x,createContext:function(t,e){return void 0===e&&(e=null),(t={$$typeof:f,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:h,render:t}},lazy:function(t){return{$$typeof:g,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:d,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return U().useCallback(t,e)},useContext:function(t,e){return U().useContext(t,e)},useEffect:function(t,e){return U().useEffect(t,e)},useImperativeHandle:function(t,e,n){return U().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return U().useLayoutEffect(t,e)},useMemo:function(t,e){return U().useMemo(t,e)},useReducer:function(t,e,n){return U().useReducer(t,e,n)},useRef:function(t){return U().useRef(t)},useState:function(t){return U().useState(t)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,createElement:T,cloneElement:function(t,e,n){if(null==t)throw Error(m(267,t));var i=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=O.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)P.call(e,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:o,type:t.type,key:a,ref:s,props:i,_owner:u}},createFactory:function(t){var e=T.bind(null,t);return e.type=t,e},isValidElement:N,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r}},z={default:G},B=z&&G||z;t.exports=B.default||B},function(t,e,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2),i=n(297),o=n(600);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,u={};function l(){if(s)for(var t in u){var e=u[t],n=s.indexOf(t);if(!(-1<n))throw Error(a(96,t));if(!f[n]){if(!e.extractEvents)throw Error(a(97,t));for(var r in f[n]=e,n=e.eventTypes){var i=void 0,o=n[r],l=e,p=r;if(h.hasOwnProperty(p))throw Error(a(99,p));h[p]=o;var d=o.phasedRegistrationNames;if(d){for(i in d)d.hasOwnProperty(i)&&c(d[i],l,p);i=!0}else o.registrationName?(c(o.registrationName,l,p),i=!0):i=!1;if(!i)throw Error(a(98,r,t))}}}}function c(t,e,n){if(p[t])throw Error(a(100,t));p[t]=e,d[t]=e.eventTypes[n].dependencies}var f=[],h={},p={},d={},g=!1,y=null,m=!1,v=null,_={onError:function(t){g=!0,y=t}};function b(t,e,n,r,i,o,a,s,u){g=!1,y=null,function(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}.apply(_,arguments)}var w=null,x=null,S=null;function E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=S(n),function(t,e,n,r,i,o,s,u,l){if(b.apply(this,arguments),g){if(!g)throw Error(a(198));var c=y;g=!1,y=null,m||(m=!0,v=c)}}(r,e,void 0,t),t.currentTarget=null}function O(t,e){if(null==e)throw Error(a(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function P(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var C=null;function T(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)E(t,e[r],n[r]);else e&&E(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function N(t){if(null!==t&&(C=O(C,t)),t=C,C=null,t){if(P(t,T),C)throw Error(a(95));if(m)throw t=v,m=!1,v=null,t}}var I={injectEventPluginOrder:function(t){if(s)throw Error(a(101));s=Array.prototype.slice.call(t),l()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!u.hasOwnProperty(e)||u[e]!==r){if(u[e])throw Error(a(102,e));u[e]=r,n=!0}}n&&l()}};function M(t,e){var n=t.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(a(231,e,typeof n));return n}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;A.hasOwnProperty("ReactCurrentDispatcher")||(A.ReactCurrentDispatcher={current:null}),A.hasOwnProperty("ReactCurrentBatchConfig")||(A.ReactCurrentBatchConfig={suspense:null});var L=/^(.*)[\\\/]/,R="function"==typeof Symbol&&Symbol.for,k=R?Symbol.for("react.element"):60103,F=R?Symbol.for("react.portal"):60106,j=R?Symbol.for("react.fragment"):60107,D=R?Symbol.for("react.strict_mode"):60108,U=R?Symbol.for("react.profiler"):60114,G=R?Symbol.for("react.provider"):60109,z=R?Symbol.for("react.context"):60110,B=R?Symbol.for("react.concurrent_mode"):60111,q=R?Symbol.for("react.forward_ref"):60112,V=R?Symbol.for("react.suspense"):60113,Y=R?Symbol.for("react.suspense_list"):60120,H=R?Symbol.for("react.memo"):60115,W=R?Symbol.for("react.lazy"):60116;R&&Symbol.for("react.fundamental"),R&&Symbol.for("react.responder"),R&&Symbol.for("react.scope");var X="function"==typeof Symbol&&Symbol.iterator;function K(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=X&&t[X]||t["@@iterator"])?t:null}function Z(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case j:return"Fragment";case F:return"Portal";case U:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case z:return"Context.Consumer";case G:return"Context.Provider";case q:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case H:return Z(t.type);case W:if(t=1===t._status?t._result:null)return Z(t)}return null}function J(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=Z(t.type);n=null,r&&(n=Z(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(L,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}var Q=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$=null,tt=null,et=null;function nt(t){if(t=x(t)){if("function"!=typeof $)throw Error(a(280));var e=w(t.stateNode);$(t.stateNode,t.type,e)}}function rt(t){tt?et?et.push(t):et=[t]:tt=t}function it(){if(tt){var t=tt,e=et;if(et=tt=null,nt(t),e)for(t=0;t<e.length;t++)nt(e[t])}}function ot(t,e){return t(e)}function at(t,e,n,r){return t(e,n,r)}function st(){}var ut=ot,lt=!1,ct=!1;function ft(){null===tt&&null===et||(st(),it())}new Map;var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pt=Object.prototype.hasOwnProperty,dt={},gt={};function yt(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){mt[t]=new yt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];mt[e]=new yt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){mt[t]=new yt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){mt[t]=new yt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){mt[t]=new yt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){mt[t]=new yt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){mt[t]=new yt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){mt[t]=new yt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){mt[t]=new yt(t,5,!1,t.toLowerCase(),null,!1)}));var vt=/[\-:]([a-z])/g;function _t(t){return t[1].toUpperCase()}function bt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function wt(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!pt.call(gt,t)||!pt.call(dt,t)&&(ht.test(t)?gt[t]=!0:(dt[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function xt(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function St(t){t._valueTracker||(t._valueTracker=function(t){var e=xt(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Et(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xt(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Ot(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Pt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=bt(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Ct(t,e){null!=(e=e.checked)&&wt(t,"checked",e,!1)}function Tt(t,e){Ct(t,e);var n=bt(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?It(t,e.type,n):e.hasOwnProperty("defaultValue")&&It(t,e.type,bt(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Nt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function It(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Mt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function At(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+bt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Lt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,e){var n=e.value;if(null==n){if(n=e.defaultValue,null!=(e=e.children)){if(null!=n)throw Error(a(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(a(93));e=e[0]}n=e}null==n&&(n="")}t._wrapperState={initialValue:bt(n)}}function kt(t,e){var n=bt(e.value),r=bt(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Ft(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(vt,_t);mt[e]=new yt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(vt,_t);mt[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(vt,_t);mt[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){mt[t]=new yt(t,1,!1,t.toLowerCase(),null,!1)})),mt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){mt[t]=new yt(t,1,!1,t.toLowerCase(),null,!0)}));var jt={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Gt,zt=function(t){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction((function(){return t(e,n)}))}:t}((function(t,e){if(t.namespaceURI!==jt.svg||"innerHTML"in t)t.innerHTML=e;else{for((Gt=Gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}));function Bt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function qt(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vt={animationend:qt("Animation","AnimationEnd"),animationiteration:qt("Animation","AnimationIteration"),animationstart:qt("Animation","AnimationStart"),transitionend:qt("Transition","TransitionEnd")},Yt={},Ht={};function Wt(t){if(Yt[t])return Yt[t];if(!Vt[t])return t;var e,n=Vt[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ht)return Yt[t]=n[e];return t}Q&&(Ht=document.createElement("div").style,"AnimationEvent"in window||(delete Vt.animationend.animation,delete Vt.animationiteration.animation,delete Vt.animationstart.animation),"TransitionEvent"in window||delete Vt.transitionend.transition);var Xt=Wt("animationend"),Kt=Wt("animationiteration"),Zt=Wt("animationstart"),Jt=Wt("transitionend"),Qt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function $t(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function te(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function ee(t){if($t(t)!==t)throw Error(a(188))}function ne(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=$t(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ee(i),t;if(o===r)return ee(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}var re,ie,oe,ae=!1,se=[],ue=null,le=null,ce=null,fe=new Map,he=new Map,pe=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),ge="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ye(t,e,n,r){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:r}}function me(t,e){switch(t){case"focus":case"blur":ue=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ce=null;break;case"pointerover":case"pointerout":fe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function ve(t,e,n,r,i){return null===t||t.nativeEvent!==i?(t=ye(e,n,r,i),null!==e&&null!==(e=cr(e))&&ie(e),t):(t.eventSystemFlags|=r,t)}function _e(t){var e=lr(t.target);if(null!==e){var n=$t(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=te(n)))return t.blockedOn=e,void o.unstable_runWithPriority(t.priority,(function(){oe(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function be(t){if(null!==t.blockedOn)return!1;var e=Tn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);if(null!==e){var n=cr(e);return null!==n&&ie(n),t.blockedOn=e,!1}return!0}function we(t,e,n){be(t)&&n.delete(e)}function xe(){for(ae=!1;0<se.length;){var t=se[0];if(null!==t.blockedOn){null!==(t=cr(t.blockedOn))&&re(t);break}var e=Tn(t.topLevelType,t.eventSystemFlags,t.nativeEvent);null!==e?t.blockedOn=e:se.shift()}null!==ue&&be(ue)&&(ue=null),null!==le&&be(le)&&(le=null),null!==ce&&be(ce)&&(ce=null),fe.forEach(we),he.forEach(we)}function Se(t,e){t.blockedOn===e&&(t.blockedOn=null,ae||(ae=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xe)))}function Ee(t){function e(e){return Se(e,t)}if(0<se.length){Se(se[0],t);for(var n=1;n<se.length;n++){var r=se[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==ue&&Se(ue,t),null!==le&&Se(le,t),null!==ce&&Se(ce,t),fe.forEach(e),he.forEach(e),n=0;n<pe.length;n++)(r=pe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<pe.length&&null===(n=pe[0]).blockedOn;)_e(n),null===n.blockedOn&&pe.shift()}function Oe(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Pe(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Ce(t,e,n){(e=M(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function Te(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Pe(e);for(e=n.length;0<e--;)Ce(n[e],"captured",t);for(e=0;e<n.length;e++)Ce(n[e],"bubbled",t)}}function Ne(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=M(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=O(n._dispatchListeners,e),n._dispatchInstances=O(n._dispatchInstances,t))}function Ie(t){t&&t.dispatchConfig.registrationName&&Ne(t._targetInst,null,t)}function Me(t){P(t,Te)}function Ae(){return!0}function Le(){return!1}function Re(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ae:Le,this.isPropagationStopped=Le,this}function ke(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Fe(t){if(!(t instanceof this))throw Error(a(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function je(t){t.eventPool=[],t.getPooled=ke,t.release=Fe}i(Re.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ae)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ae)},persist:function(){this.isPersistent=Ae},isPersistent:Le,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Le,this._dispatchInstances=this._dispatchListeners=null}}),Re.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Re.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var o=new e;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,t),n.extend=r.extend,je(n),n},je(Re);var De=Re.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ue=Re.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ge=Re.extend({view:null,detail:null}),ze=Ge.extend({relatedTarget:null});function Be(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var qe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ye={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function He(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ye[t])&&!!e[t]}function We(){return He}for(var Xe=Ge.extend({key:function(t){if(t.key){var e=qe[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Be(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Ve[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:We,charCode:function(t){return"keypress"===t.type?Be(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Be(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ke=0,Ze=0,Je=!1,Qe=!1,$e=Ge.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:We,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ke;return Ke=t.screenX,Je?"mousemove"===t.type?t.screenX-e:0:(Je=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Ze;return Ze=t.screenY,Qe?"mousemove"===t.type?t.screenY-e:0:(Qe=!0,0)}}),tn=$e.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),en=$e.extend({dataTransfer:null}),nn=Ge.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:We}),rn=Re.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),on=$e.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),an=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Xt,"animationEnd",2],[Kt,"animationIteration",2],[Zt,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Jt,"transitionEnd",2],["waiting","waiting",2]],sn={},un={},ln=0;ln<an.length;ln++){var cn=an[ln],fn=cn[0],hn=cn[1],pn=cn[2],dn="on"+(hn[0].toUpperCase()+hn.slice(1)),gn={phasedRegistrationNames:{bubbled:dn,captured:dn+"Capture"},dependencies:[fn],eventPriority:pn};sn[hn]=gn,un[fn]=gn}var yn={eventTypes:sn,getEventPriority:function(t){return void 0!==(t=un[t])?t.eventPriority:2},extractEvents:function(t,e,n,r){var i=un[t];if(!i)return null;switch(t){case"keypress":if(0===Be(n))return null;case"keydown":case"keyup":t=Xe;break;case"blur":case"focus":t=ze;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=$e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=en;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=nn;break;case Xt:case Kt:case Zt:t=De;break;case Jt:t=rn;break;case"scroll":t=Ge;break;case"wheel":t=on;break;case"copy":case"cut":case"paste":t=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=tn;break;default:t=Re}return Me(e=t.getPooled(i,e,n,r)),e}},mn=o.unstable_UserBlockingPriority,vn=o.unstable_runWithPriority,_n=yn.getEventPriority,bn=10,wn=[];function xn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Oe(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=t.eventSystemFlags,s=null,u=0;u<f.length;u++){var l=f[u];l&&(l=l.extractEvents(r,e,o,i,a))&&(s=O(s,l))}N(s)}}var Sn=!0;function En(t,e){On(e,t,!1)}function On(t,e,n){switch(_n(e)){case 0:var r=function(t,e,n){lt||st();var r=Cn,i=lt;lt=!0;try{at(r,t,e,n)}finally{(lt=i)||ft()}}.bind(null,e,1);break;case 1:r=function(t,e,n){vn(mn,Cn.bind(null,t,e,n))}.bind(null,e,1);break;default:r=Cn.bind(null,e,1)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Pn(t,e,n,r){if(wn.length){var i=wn.pop();i.topLevelType=t,i.eventSystemFlags=e,i.nativeEvent=n,i.targetInst=r,t=i}else t={topLevelType:t,eventSystemFlags:e,nativeEvent:n,targetInst:r,ancestors:[]};try{if(e=xn,n=t,ct)e(n,void 0);else{ct=!0;try{ut(e,n,void 0)}finally{ct=!1,ft()}}}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,wn.length<bn&&wn.push(t)}}function Cn(t,e,n){if(Sn)if(0<se.length&&-1<de.indexOf(t))t=ye(null,t,e,n),se.push(t);else{var r=Tn(t,e,n);null===r?me(t,n):-1<de.indexOf(t)?(t=ye(r,t,e,n),se.push(t)):function(t,e,n,r){switch(e){case"focus":return ue=ve(ue,t,e,n,r),!0;case"dragenter":return le=ve(le,t,e,n,r),!0;case"mouseover":return ce=ve(ce,t,e,n,r),!0;case"pointerover":var i=r.pointerId;return fe.set(i,ve(fe.get(i)||null,t,e,n,r)),!0;case"gotpointercapture":return i=r.pointerId,he.set(i,ve(he.get(i)||null,t,e,n,r)),!0}return!1}(r,t,e,n)||(me(t,n),Pn(t,e,n,null))}}function Tn(t,e,n){var r=Oe(n);if(null!==(r=lr(r))){var i=$t(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=te(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Pn(t,e,n,r),null}function Nn(t){if(!Q)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var In=new("function"==typeof WeakMap?WeakMap:Map);function Mn(t){var e=In.get(t);return void 0===e&&(e=new Set,In.set(t,e)),e}function An(t,e,n){if(!n.has(t)){switch(t){case"scroll":On(e,"scroll",!0);break;case"focus":case"blur":On(e,"focus",!0),On(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Nn(t)&&On(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qt.indexOf(t)&&En(t,e)}n.add(t)}}var Ln={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rn=["Webkit","ms","Moz","O"];function kn(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Ln.hasOwnProperty(t)&&Ln[t]?(""+e).trim():e+"px"}function Fn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=kn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Ln).forEach((function(t){Rn.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ln[e]=Ln[t]}))}));var jn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(t,e){if(e){if(jn[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if(!("object"==typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(a(62,""))}}function Un(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Gn(t,e){var n=Mn(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=d[e];for(var r=0;r<e.length;r++)An(e[r],t,n)}function zn(){}function Bn(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function qn(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vn(t,e){var n,r=qn(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=qn(r)}}function Yn(){for(var t=window,e=Bn();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=Bn((t=e.contentWindow).document)}return e}function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var Wn="$",Xn="/$",Kn="$?",Zn="$!",Jn=null,Qn=null;function $n(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function tr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var er="function"==typeof setTimeout?setTimeout:void 0,nr="function"==typeof clearTimeout?clearTimeout:void 0;function rr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function ir(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if(n===Wn||n===Zn||n===Kn){if(0===e)return t;e--}else n===Xn&&e++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),ar="__reactInternalInstance$"+or,sr="__reactEventHandlers$"+or,ur="__reactContainere$"+or;function lr(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ur]||n[ar]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ir(t);null!==t;){if(n=t[ar])return n;t=ir(t)}return e}n=(t=n).parentNode}return null}function cr(t){return!(t=t[ar]||t[ur])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function fr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function hr(t){return t[sr]||null}var pr=null,dr=null,gr=null;function yr(){if(gr)return gr;var t,e,n=dr,r=n.length,i="value"in pr?pr.value:pr.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return gr=i.slice(t,1<e?1-e:void 0)}var mr=Re.extend({data:null}),vr=Re.extend({data:null}),_r=[9,13,27,32],br=Q&&"CompositionEvent"in window,wr=null;Q&&"documentMode"in document&&(wr=document.documentMode);var xr=Q&&"TextEvent"in window&&!wr,Sr=Q&&(!br||wr&&8<wr&&11>=wr),Er=String.fromCharCode(32),Or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Pr=!1;function Cr(t,e){switch(t){case"keyup":return-1!==_r.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Tr(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Nr=!1,Ir={eventTypes:Or,extractEvents:function(t,e,n,r){var i;if(br)t:{switch(t){case"compositionstart":var o=Or.compositionStart;break t;case"compositionend":o=Or.compositionEnd;break t;case"compositionupdate":o=Or.compositionUpdate;break t}o=void 0}else Nr?Cr(t,n)&&(o=Or.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=Or.compositionStart);return o?(Sr&&"ko"!==n.locale&&(Nr||o!==Or.compositionStart?o===Or.compositionEnd&&Nr&&(i=yr()):(dr="value"in(pr=r)?pr.value:pr.textContent,Nr=!0)),o=mr.getPooled(o,e,n,r),i?o.data=i:null!==(i=Tr(n))&&(o.data=i),Me(o),i=o):i=null,(t=xr?function(t,e){switch(t){case"compositionend":return Tr(e);case"keypress":return 32!==e.which?null:(Pr=!0,Er);case"textInput":return(t=e.data)===Er&&Pr?null:t;default:return null}}(t,n):function(t,e){if(Nr)return"compositionend"===t||!br&&Cr(t,e)?(t=yr(),gr=dr=pr=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Sr&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=vr.getPooled(Or.beforeInput,e,n,r)).data=t,Me(e)):e=null,null===i?e:null===e?i:[i,e]}},Mr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Mr[t.type]:"textarea"===e}var Lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rr(t,e,n){return(t=Re.getPooled(Lr.change,t,e,n)).type="change",rt(n),Me(t),t}var kr=null,Fr=null;function jr(t){N(t)}function Dr(t){if(Et(fr(t)))return t}function Ur(t,e){if("change"===t)return e}var Gr=!1;function zr(){kr&&(kr.detachEvent("onpropertychange",Br),Fr=kr=null)}function Br(t){if("value"===t.propertyName&&Dr(Fr))if(t=Rr(Fr,t,Oe(t)),lt)N(t);else{lt=!0;try{ot(jr,t)}finally{lt=!1,ft()}}}function qr(t,e,n){"focus"===t?(zr(),Fr=n,(kr=e).attachEvent("onpropertychange",Br)):"blur"===t&&zr()}function Vr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Dr(Fr)}function Yr(t,e){if("click"===t)return Dr(e)}function Hr(t,e){if("input"===t||"change"===t)return Dr(e)}Q&&(Gr=Nn("input")&&(!document.documentMode||9<document.documentMode));var Wr,Xr={eventTypes:Lr,_isInputEventSupported:Gr,extractEvents:function(t,e,n,r){var i=e?fr(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Ur;else if(Ar(i))if(Gr)a=Hr;else{a=Vr;var s=qr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Yr);if(a&&(a=a(t,e)))return Rr(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&It(i,"number",i.value)}},Kr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zr={eventTypes:Kr,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?lr(e):null)&&(e!==(o=$t(e))||5!==e.tag&&6!==e.tag)&&(e=null)):a=null,a===e)return null;if("mouseout"===t||"mouseover"===t)var s=$e,u=Kr.mouseLeave,l=Kr.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=tn,u=Kr.pointerLeave,l=Kr.pointerEnter,c="pointer");if(t=null==a?i:fr(a),i=null==e?i:fr(e),(u=s.getPooled(u,a,n,r)).type=c+"leave",u.target=t,u.relatedTarget=i,(r=s.getPooled(l,e,n,r)).type=c+"enter",r.target=i,r.relatedTarget=t,c=e,(s=a)&&c)t:{for(t=c,a=0,e=l=s;e;e=Pe(e))a++;for(e=0,i=t;i;i=Pe(i))e++;for(;0<a-e;)l=Pe(l),a--;for(;0<e-a;)t=Pe(t),e--;for(;a--;){if(l===t||l===t.alternate)break t;l=Pe(l),t=Pe(t)}l=null}else l=null;for(t=l,l=[];s&&s!==t&&(null===(a=s.alternate)||a!==t);)l.push(s),s=Pe(s);for(s=[];c&&c!==t&&(null===(a=c.alternate)||a!==t);)s.push(c),c=Pe(c);for(c=0;c<l.length;c++)Ne(l[c],"bubbled",u);for(c=s.length;0<c--;)Ne(s[c],"captured",r);return n===Wr?(Wr=null,[u]):(Wr=n,[u,r])}},Jr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Qr=Object.prototype.hasOwnProperty;function $r(t,e){if(Jr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qr.call(e,n[r])||!Jr(t[n[r]],e[n[r]]))return!1;return!0}var ti=Q&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ni=null,ri=null,ii=null,oi=!1;function ai(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return oi||null==ni||ni!==Bn(n)?null:(n="selectionStart"in(n=ni)&&Hn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ii&&$r(ii,n)?null:(ii=n,(t=Re.getPooled(ei.select,ri,t,e)).type="select",t.target=ni,Me(t),t))}var si={eventTypes:ei,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Mn(o),i=d.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break t}o=!0}i=!o}if(i)return null;switch(o=e?fr(e):window,t){case"focus":(Ar(o)||"true"===o.contentEditable)&&(ni=o,ri=e,ii=null);break;case"blur":ii=ri=ni=null;break;case"mousedown":oi=!0;break;case"contextmenu":case"mouseup":case"dragend":return oi=!1,ai(n,r);case"selectionchange":if(ti)break;case"keydown":case"keyup":return ai(n,r)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=hr,x=cr,S=fr,I.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:Zr,ChangeEventPlugin:Xr,SelectEventPlugin:si,BeforeInputEventPlugin:Ir}),new Set;var ui=[],li=-1;function ci(t){0>li||(t.current=ui[li],ui[li]=null,li--)}function fi(t,e){ui[++li]=t.current,t.current=e}var hi={},pi={current:hi},di={current:!1},gi=hi;function yi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function vi(t){ci(di),ci(pi)}function _i(t){ci(di),ci(pi)}function bi(t,e,n){if(pi.current!==hi)throw Error(a(168));fi(pi,e),fi(di,n)}function wi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,Z(e)||"Unknown",o));return i({},n,{},r)}function xi(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||hi,gi=pi.current,fi(pi,e),fi(di,di.current),!0}function Si(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(e=wi(t,e,gi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(pi),fi(pi,e)):ci(di),fi(di,n)}var Ei=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Pi=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Ni=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ai=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,ki=o.unstable_IdlePriority,Fi={},ji=void 0!==Ti?Ti:function(){},Di=null,Ui=null,Gi=!1,zi=Ni(),Bi=1e4>zi?Ni:function(){return Ni()-zi};function qi(){switch(Ii()){case Mi:return 99;case Ai:return 98;case Li:return 97;case Ri:return 96;case ki:return 95;default:throw Error(a(332))}}function Vi(t){switch(t){case 99:return Mi;case 98:return Ai;case 97:return Li;case 96:return Ri;case 95:return ki;default:throw Error(a(332))}}function Yi(t,e){return t=Vi(t),Ei(t,e)}function Hi(t,e,n){return t=Vi(t),Oi(t,e,n)}function Wi(t){return null===Di?(Di=[t],Ui=Oi(Mi,Ki)):Di.push(t),Fi}function Xi(){if(null!==Ui){var t=Ui;Ui=null,Pi(t)}Ki()}function Ki(){if(!Gi&&null!==Di){Gi=!0;var t=0;try{var e=Di;Yi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Di=null}catch(e){throw null!==Di&&(Di=Di.slice(t+1)),Oi(Mi,Xi),e}finally{Gi=!1}}}var Zi=3;function Ji(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Qi(t,e){if(t&&t.defaultProps)for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var $i={current:null},to=null,eo=null,no=null;function ro(){no=eo=to=null}function io(t,e){var n=t.type._context;fi($i,n._currentValue),n._currentValue=e}function oo(t){var e=$i.current;ci($i),t.type._context._currentValue=e}function ao(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function so(t,e){to=t,no=eo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ba=!0),t.firstContext=null)}function uo(t,e){if(no!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(no=t,e=1073741823),e={context:t,observedBits:e,next:null},null===eo){if(null===to)throw Error(a(308));eo=e,to.dependencies={expirationTime:0,firstContext:e,responders:null}}else eo=eo.next=e;return t._currentValue}var lo=!1;function co(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fo(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ho(t,e){return{expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function po(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function go(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=co(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=co(t.memoizedState),i=n.updateQueue=co(n.memoizedState)):r=t.updateQueue=fo(i):null===i&&(i=n.updateQueue=fo(r));null===i||r===i?po(r,e):null===r.lastUpdate||null===i.lastUpdate?(po(r,e),po(i,e)):(po(r,e),i.lastUpdate=e)}function yo(t,e){var n=t.updateQueue;null===(n=null===n?t.updateQueue=co(t.memoizedState):mo(t,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function mo(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=fo(e)),e}function vo(t,e,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(t=n.payload)?t.call(a,r,o):t;case 3:t.effectTag=-4097&t.effectTag|64;case 0:if(null===(o="function"==typeof(t=n.payload)?t.call(a,r,o):t)||void 0===o)break;return i({},r,o);case 2:lo=!0}return r}function _o(t,e,n,r,i){lo=!1;for(var o=(e=mo(t,e)).baseState,a=null,s=0,u=e.firstUpdate,l=o;null!==u;){var c=u.expirationTime;c<i?(null===a&&(a=u,o=l),s<c&&(s=c)):(Su(c,u.suspenseConfig),l=vo(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(c=null,u=e.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===c&&(c=u,null===a&&(o=l)),s<f&&(s=f)):(l=vo(t,0,u,l,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===c?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===c&&(o=l),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=c,Eu(s),t.expirationTime=s,t.memoizedState=l}function bo(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),wo(e.firstEffect,n),e.firstEffect=e.lastEffect=null,wo(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function wo(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}t=t.nextEffect}}var xo=A.ReactCurrentBatchConfig,So=(new r.Component).refs;function Eo(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}var Oo={isMounted:function(t){return!!(t=t._reactInternalFiber)&&$t(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=fu(),i=xo.suspense;(i=ho(r=hu(r,t,i),i)).payload=e,null!=n&&(i.callback=n),go(t,i),pu(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=fu(),i=xo.suspense;(i=ho(r=hu(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),go(t,i),pu(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=fu(),r=xo.suspense;(r=ho(n=hu(n,t,r),r)).tag=2,null!=e&&(r.callback=e),go(t,r),pu(t,n)}};function Po(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!(e.prototype&&e.prototype.isPureReactComponent&&$r(n,r)&&$r(i,o))}function Co(t,e,n){var r=!1,i=hi,o=e.contextType;return"object"==typeof o&&null!==o?o=uo(o):(i=mi(e)?gi:pi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?yi(t,i):hi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=Oo,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function To(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Oo.enqueueReplaceState(e,e.state,null)}function No(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=So;var o=e.contextType;"object"==typeof o&&null!==o?i.context=uo(o):(o=mi(e)?gi:pi.current,i.context=yi(t,o)),null!==(o=t.updateQueue)&&(_o(t,o,n,i,r),i.state=t.memoizedState),"function"==typeof(o=e.getDerivedStateFromProps)&&(Eo(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&Oo.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(_o(t,o,n,i,r),i.state=t.memoizedState)),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var Io=Array.isArray;function Mo(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===So&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function Ao(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function Lo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e,n){return(t=zu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Vu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=Mo(t,e,n),r.return=t,r):((r=Bu(n.type,n.key,n.props,null,t.mode,r)).ref=Mo(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function f(t,e,n,r,o){return null===e||7!==e.tag?((e=qu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Vu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case k:return(n=Bu(e.type,e.key,e.props,null,t.mode,n)).ref=Mo(t,null,e),n.return=t,n;case F:return(e=Yu(e,t.mode,n)).return=t,e}if(Io(e)||K(e))return(e=qu(e,t.mode,n,null)).return=t,e;Ao(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===j?f(t,e,n.props.children,r,i):l(t,e,n,r):null;case F:return n.key===i?c(t,e,n,r):null}if(Io(n)||K(n))return null!==i?null:f(t,e,n,r,null);Ao(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return t=t.get(null===r.key?n:r.key)||null,r.type===j?f(e,t,r.props.children,i,r.key):l(e,t,r,i);case F:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Io(r)||K(r))return f(e,t=t.get(n)||null,r,i,null);Ao(e,r)}return null}function g(i,a,s,u){for(var l=null,c=null,f=a,g=a=0,y=null;null!==f&&g<s.length;g++){f.index>g?(y=f,f=null):y=f.sibling;var m=p(i,f,s[g],u);if(null===m){null===f&&(f=y);break}t&&f&&null===m.alternate&&e(i,f),a=o(m,a,g),null===c?l=m:c.sibling=m,c=m,f=y}if(g===s.length)return n(i,f),l;if(null===f){for(;g<s.length;g++)null!==(f=h(i,s[g],u))&&(a=o(f,a,g),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);g<s.length;g++)null!==(y=d(f,i,g,s[g],u))&&(t&&null!==y.alternate&&f.delete(null===y.key?g:y.key),a=o(y,a,g),null===c?l=y:c.sibling=y,c=y);return t&&f.forEach((function(t){return e(i,t)})),l}function y(i,s,u,l){var c=K(u);if("function"!=typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,g=s,y=s=0,m=null,v=u.next();null!==g&&!v.done;y++,v=u.next()){g.index>y?(m=g,g=null):m=g.sibling;var _=p(i,g,v.value,l);if(null===_){null===g&&(g=m);break}t&&g&&null===_.alternate&&e(i,g),s=o(_,s,y),null===f?c=_:f.sibling=_,f=_,g=m}if(v.done)return n(i,g),c;if(null===g){for(;!v.done;y++,v=u.next())null!==(v=h(i,v.value,l))&&(s=o(v,s,y),null===f?c=v:f.sibling=v,f=v);return c}for(g=r(i,g);!v.done;y++,v=u.next())null!==(v=d(g,i,y,v.value,l))&&(t&&null!==v.alternate&&g.delete(null===v.key?y:v.key),s=o(v,s,y),null===f?c=v:f.sibling=v,f=v);return t&&g.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"==typeof o&&null!==o&&o.type===j&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case k:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?o.type===j:l.elementType===o.type){n(t,l.sibling),(r=i(l,o.type===j?o.props.children:o.props)).ref=Mo(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===j?((r=qu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Bu(o.type,o.key,o.props,null,t.mode,u)).ref=Mo(t,r,o),u.return=t,t=u)}return s(t);case F:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yu(o,t.mode,u)).return=t,t=r}return s(t)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Vu(o,t.mode,u)).return=t,t=r),s(t);if(Io(o))return g(t,r,o,u);if(K(o))return y(t,r,o,u);if(c&&Ao(t,o),void 0===o&&!l)switch(t.tag){case 1:case 0:throw t=t.type,Error(a(152,t.displayName||t.name||"Component"))}return n(t,r)}}var Ro=Lo(!0),ko=Lo(!1),Fo={},jo={current:Fo},Do={current:Fo},Uo={current:Fo};function Go(t){if(t===Fo)throw Error(a(174));return t}function zo(t,e){fi(Uo,e),fi(Do,t),fi(jo,Fo);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ut(null,"");break;default:e=Ut(e=(n=8===n?e.parentNode:e).namespaceURI||null,n=n.tagName)}ci(jo),fi(jo,e)}function Bo(t){ci(jo),ci(Do),ci(Uo)}function qo(t){Go(Uo.current);var e=Go(jo.current),n=Ut(e,t.type);e!==n&&(fi(Do,t),fi(jo,n))}function Vo(t){Do.current===t&&(ci(jo),ci(Do))}var Yo={current:0};function Ho(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Kn||n.data===Zn))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Wo(t,e){return{responder:t,props:e}}var Xo=A.ReactCurrentDispatcher,Ko=A.ReactCurrentBatchConfig,Zo=0,Jo=null,Qo=null,$o=null,ta=null,ea=null,na=null,ra=0,ia=null,oa=0,aa=!1,sa=null,ua=0;function la(){throw Error(a(321))}function ca(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jr(t[n],e[n]))return!1;return!0}function fa(t,e,n,r,i,o){if(Zo=o,Jo=e,$o=null!==t?t.memoizedState:null,Xo.current=null===$o?Ia:Ma,e=n(r,i),aa){do{aa=!1,ua+=1,$o=null!==t?t.memoizedState:null,na=ta,ia=ea=Qo=null,Xo.current=Ma,e=n(r,i)}while(aa);sa=null,ua=0}if(Xo.current=Na,(t=Jo).memoizedState=ta,t.expirationTime=ra,t.updateQueue=ia,t.effectTag|=oa,t=null!==Qo&&null!==Qo.next,Zo=0,na=ea=ta=$o=Qo=Jo=null,ra=0,ia=null,oa=0,t)throw Error(a(300));return e}function ha(){Xo.current=Na,Zo=0,na=ea=ta=$o=Qo=Jo=null,ra=0,ia=null,oa=0,aa=!1,sa=null,ua=0}function pa(){var t={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?ta=ea=t:ea=ea.next=t,ea}function da(){if(null!==na)na=(ea=na).next,$o=null!==(Qo=$o)?Qo.next:null;else{if(null===$o)throw Error(a(310));var t={memoizedState:(Qo=$o).memoizedState,baseState:Qo.baseState,queue:Qo.queue,baseUpdate:Qo.baseUpdate,next:null};ea=null===ea?ta=t:ea.next=t,$o=Qo.next}return ea}function ga(t,e){return"function"==typeof e?e(t):e}function ya(t){var e=da(),n=e.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=t,0<ua){var r=n.dispatch;if(null!==sa){var i=sa.get(n);if(void 0!==i){sa.delete(n);var o=e.memoizedState;do{o=t(o,i.action),i=i.next}while(null!==i);return Jr(o,e.memoizedState)||(Ba=!0),e.memoizedState=o,e.baseUpdate===n.last&&(e.baseState=o),n.lastRenderedState=o,[o,r]}}return[e.memoizedState,r]}r=n.last;var s=e.baseUpdate;if(o=e.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,l=r,c=!1;do{var f=l.expirationTime;f<Zo?(c||(c=!0,u=s,i=o),f>ra&&Eu(ra=f)):(Su(f,l.suspenseConfig),o=l.eagerReducer===t?l.eagerState:t(o,l.action)),s=l,l=l.next}while(null!==l&&l!==r);c||(u=s,i=o),Jr(o,e.memoizedState)||(Ba=!0),e.memoizedState=o,e.baseUpdate=u,e.baseState=i,n.lastRenderedState=o}return[e.memoizedState,n.dispatch]}function ma(t){var e=pa();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={last:null,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t}).dispatch=Ta.bind(null,Jo,t),[e.memoizedState,t]}function va(t){return ya(ga)}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===ia?(ia={lastEffect:null}).lastEffect=t.next=t:null===(e=ia.lastEffect)?ia.lastEffect=t.next=t:(n=e.next,e.next=t,t.next=n,ia.lastEffect=t),t}function ba(t,e,n,r){var i=pa();oa|=t,i.memoizedState=_a(e,n,void 0,void 0===r?null:r)}function wa(t,e,n,r){var i=da();r=void 0===r?null:r;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==r&&ca(r,a.deps))return void _a(0,n,o,r)}oa|=t,i.memoizedState=_a(e,n,o,r)}function xa(t,e){return ba(516,192,t,e)}function Sa(t,e){return wa(516,192,t,e)}function Ea(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Oa(){}function Pa(t,e){return pa().memoizedState=[t,void 0===e?null:e],t}function Ca(t,e){var n=da();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ca(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ta(t,e,n){if(!(25>ua))throw Error(a(301));var r=t.alternate;if(t===Jo||null!==r&&r===Jo)if(aa=!0,t={expirationTime:Zo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===sa&&(sa=new Map),void 0===(n=sa.get(e)))sa.set(e,t);else{for(e=n;null!==e.next;)e=e.next;e.next=t}else{var i=fu(),o=xo.suspense;o={expirationTime:i=hu(i,t,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=e.last;if(null===s)o.next=o;else{var u=s.next;null!==u&&(o.next=u),s.next=o}if(e.last=o,0===t.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=e.lastRenderedReducer))try{var l=e.lastRenderedState,c=r(l,n);if(o.eagerReducer=r,o.eagerState=c,Jr(c,l))return}catch(t){}pu(t,i)}}var Na={readContext:uo,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Ia={readContext:uo,useCallback:Pa,useContext:uo,useEffect:xa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ba(4,36,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,36,t,e)},useMemo:function(t,e){var n=pa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={last:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ta.bind(null,Jo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},pa().memoizedState=t},useState:ma,useDebugValue:Oa,useResponder:Wo,useDeferredValue:function(t,e){var n=ma(t),r=n[0],i=n[1];return xa((function(){o.unstable_next((function(){var n=Ko.suspense;Ko.suspense=void 0===e?null:e;try{i(t)}finally{Ko.suspense=n}}))}),[t,e]),r},useTransition:function(t){var e=ma(!1),n=e[0],r=e[1];return[Pa((function(e){r(!0),o.unstable_next((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{r(!1),e()}finally{Ko.suspense=n}}))}),[t,n]),n]}},Ma={readContext:uo,useCallback:Ca,useContext:uo,useEffect:Sa,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,wa(4,36,Ea.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wa(4,36,t,e)},useMemo:function(t,e){var n=da();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ca(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)},useReducer:ya,useRef:function(){return da().memoizedState},useState:va,useDebugValue:Oa,useResponder:Wo,useDeferredValue:function(t,e){var n=va(),r=n[0],i=n[1];return Sa((function(){o.unstable_next((function(){var n=Ko.suspense;Ko.suspense=void 0===e?null:e;try{i(t)}finally{Ko.suspense=n}}))}),[t,e]),r},useTransition:function(t){var e=va(),n=e[0],r=e[1];return[Ca((function(e){r(!0),o.unstable_next((function(){var n=Ko.suspense;Ko.suspense=void 0===t?null:t;try{r(!1),e()}finally{Ko.suspense=n}}))}),[t,n]),n]}},Aa=null,La=null,Ra=!1;function ka(t,e){var n=Uu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Fa(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function ja(t){if(Ra){var e=La;if(e){var n=e;if(!Fa(t,e)){if(!(e=rr(n.nextSibling))||!Fa(t,e))return t.effectTag=-1025&t.effectTag|2,Ra=!1,void(Aa=t);ka(Aa,n)}Aa=t,La=rr(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,Ra=!1,Aa=t}}function Da(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Aa=t}function Ua(t){if(t!==Aa)return!1;if(!Ra)return Da(t),Ra=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!tr(e,t.memoizedProps))for(e=La;e;)ka(t,e),e=rr(e.nextSibling);if(Da(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if(n===Xn){if(0===e){La=rr(t.nextSibling);break t}e--}else n!==Wn&&n!==Zn&&n!==Kn||e++}t=t.nextSibling}La=null}}else La=Aa?rr(t.stateNode.nextSibling):null;return!0}function Ga(){La=Aa=null,Ra=!1}var za=A.ReactCurrentOwner,Ba=!1;function qa(t,e,n,r){e.child=null===t?ko(e,null,n,r):Ro(e,t.child,n,r)}function Va(t,e,n,r,i){n=n.render;var o=e.ref;return so(e,i),r=fa(t,e,n,r,o,i),null===t||Ba?(e.effectTag|=1,qa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ss(t,e,i))}function Ya(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Gu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Bu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ha(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:$r)(i,r)&&t.ref===e.ref)?ss(t,e,o):(e.effectTag|=1,(t=zu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ha(t,e,n,r,i,o){return null!==t&&$r(t.memoizedProps,r)&&t.ref===e.ref&&(Ba=!1,i<o)?ss(t,e,o):Xa(t,e,n,r,o)}function Wa(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Xa(t,e,n,r,i){var o=mi(n)?gi:pi.current;return o=yi(e,o),so(e,i),n=fa(t,e,n,r,o,i),null===t||Ba?(e.effectTag|=1,qa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),ss(t,e,i))}function Ka(t,e,n,r,i){if(mi(n)){var o=!0;xi(e)}else o=!1;if(so(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),Co(e,n,r),No(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;l="object"==typeof l&&null!==l?uo(l):yi(e,l=mi(n)?gi:pi.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&To(e,a,r,l),lo=!1;var h=e.memoizedState;u=a.state=h;var p=e.updateQueue;null!==p&&(_o(e,p,r,a,i),u=e.memoizedState),s!==r||h!==u||di.current||lo?("function"==typeof c&&(Eo(e,n,c,r),u=e.memoizedState),(s=lo||Po(e,n,s,r,h,u,l))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=e.type===e.elementType?s:Qi(e.type,s),u=a.context,l="object"==typeof(l=n.contextType)&&null!==l?uo(l):yi(e,l=mi(n)?gi:pi.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==l)&&To(e,a,r,l),lo=!1,u=e.memoizedState,h=a.state=u,null!==(p=e.updateQueue)&&(_o(e,p,r,a,i),h=e.memoizedState),s!==r||u!==h||di.current||lo?("function"==typeof c&&(Eo(e,n,c,r),h=e.memoizedState),(c=lo||Po(e,n,s,r,u,h,l))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Za(t,e,n,r,o,i)}function Za(t,e,n,r,i,o){Wa(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&Si(e,n,!1),ss(t,e,o);r=e.stateNode,za.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=Ro(e,t.child,null,o),e.child=Ro(e,null,s,o)):qa(t,e,s,o),e.memoizedState=r.state,i&&Si(e,n,!0),e.child}function Ja(t){var e=t.stateNode;e.pendingContext?bi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&bi(0,e.context,!1),zo(t,e.containerInfo)}var Qa,$a,ts,es,ns={dehydrated:null,retryTime:0};function rs(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Yo.current,s=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),fi(Yo,1&a),null===t){if(void 0!==o.fallback&&ja(e),s){if(s=o.fallback,(o=qu(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=qu(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=ns,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=ko(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=zu(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=zu(i,o,i.expirationTime)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=ns,e.child=n,i}return n=Ro(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=qu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=qu(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=ns,e.child=o,n}return e.memoizedState=null,e.child=Ro(e,t,o.children,n)}function is(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),ao(t.return,e)}function os(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function as(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qa(t,e,r.children,n),0!=(2&(r=Yo.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&is(t,n);else if(19===t.tag)is(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fi(Yo,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Ho(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),os(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ho(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}os(e,!0,n,null,o,e.lastEffect);break;case"together":os(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ss(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&Eu(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=zu(t=e.child,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=zu(t,t.pendingProps,t.expirationTime)).return=e;n.sibling=null}return e.child}function us(t){t.effectTag|=4}function ls(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function cs(t){switch(t.tag){case 1:mi(t.type)&&vi();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Bo(),_i(),0!=(64&(e=t.effectTag)))throw Error(a(285));return t.effectTag=-4097&e|64,t;case 5:return Vo(t),null;case 13:return ci(Yo),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return ci(Yo),null;case 4:return Bo(),null;case 10:return oo(t),null;default:return null}}function fs(t,e){return{value:t,source:e,stack:J(e)}}Qa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(){},ts=function(t,e,n,r,o){var a=t.memoizedProps;if(a!==r){var s,u,l=e.stateNode;switch(Go(jo.current),t=null,n){case"input":a=Ot(l,a),r=Ot(l,r),t=[];break;case"option":a=Mt(l,a),r=Mt(l,r),t=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),t=[];break;case"textarea":a=Lt(l,a),r=Lt(l,r),t=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=zn)}for(s in Dn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in l=a[s])l.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?t||(t=[]):(t=t||[]).push(s,null));for(s in r){var c=r[s];if(l=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==l&&(null!=c||null!=l))if("style"===s)if(l){for(u in l)!l.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&l[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(t||(t=[]),t.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(t=t||[]).push(s,""+c)):"children"===s?l===c||"string"!=typeof c&&"number"!=typeof c||(t=t||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(p.hasOwnProperty(s)?(null!=c&&Gn(o,s),t||l===c||(t=[])):(t=t||[]).push(s,c))}n&&(t=t||[]).push("style",n),o=t,(e.updateQueue=o)&&us(e)}},es=function(t,e,n,r){n!==r&&us(e)};var hs="function"==typeof WeakSet?WeakSet:Set;function ps(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=J(n)),null!==n&&Z(n.type),e=e.value,null!==t&&1===t.tag&&Z(t.type);try{console.error(e)}catch(t){setTimeout((function(){throw t}))}}function ds(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){ku(t,e)}else e.current=null}function gs(t,e){switch(e.tag){case 0:case 11:case 15:ys(2,0,e);break;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function ys(t,e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&t)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&e)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ms(t,e,n){switch("function"==typeof Du&&Du(e),e.tag){case 0:case 11:case 14:case 15:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;Yi(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(t){ku(i,t)}}t=t.next}while(t!==r)}))}break;case 1:ds(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ku(t,e)}}(e,n);break;case 5:ds(e);break;case 4:ws(t,e,n)}}function vs(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,null!==e&&vs(e)}function _s(t){return 5===t.tag||3===t.tag||4===t.tag}function bs(t){t:{for(var e=t.return;null!==e;){if(_s(e)){var n=e;break t}e=e.return}throw Error(a(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Bt(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||_s(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var i=t;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(o=e).nodeType?o.parentNode.insertBefore(u,s):o.insertBefore(u,s)}else e.insertBefore(s,n);else r?(8===(u=e).nodeType?(o=u.parentNode).insertBefore(s,u):(o=u).appendChild(s),null!==(u=u._reactRootContainer)&&void 0!==u||null!==o.onclick||(o.onclick=zn)):e.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ws(t,e,n){for(var r,i,o=e,s=!1;;){if(!s){s=o.return;t:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}s=s.return}s=!0}if(5===o.tag||6===o.tag){t:for(var u=t,l=o,c=n,f=l;;)if(ms(u,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break;for(;null===f.sibling;){if(null===f.return||f.return===l)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,l=o.stateNode,8===u.nodeType?u.parentNode.removeChild(l):u.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(ms(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function xs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:ys(4,8,e);break;case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[sr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&Ct(n,r),Un(t,i),e=Un(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Fn(n,u):"dangerouslySetInnerHTML"===s?zt(n,u):"children"===s?Bt(n,u):wt(n,s,u,e)}switch(t){case"input":Tt(n,r);break;case"textarea":kt(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?At(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?At(n,!!r.multiple,r.defaultValue,!0):At(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===e.stateNode)throw Error(a(162));e.stateNode.nodeValue=e.memoizedProps;break;case 3:(e=e.stateNode).hydrate&&(e.hydrate=!1,Ee(e.containerInfo));break;case 12:break;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Qs=Bi()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=void 0!==(i=t.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=kn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break t;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}Ss(e);break;case 19:Ss(e);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function Ss(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new hs),e.forEach((function(e){var r=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(e=hu(e=fu(),t,null)),null!==(t=du(t,e))&&yu(t)}.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var Es="function"==typeof WeakMap?WeakMap:Map;function Os(t,e,n){(n=ho(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eu||(eu=!0,nu=r),ps(t,e)},n}function Ps(t,e,n){(n=ho(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return ps(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ru?ru=new Set([this]):ru.add(this),ps(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var Cs,Ts=Math.ceil,Ns=A.ReactCurrentDispatcher,Is=A.ReactCurrentOwner,Ms=0,As=8,Ls=16,Rs=32,ks=0,Fs=1,js=2,Ds=3,Us=4,Gs=5,zs=Ms,Bs=null,qs=null,Vs=0,Ys=ks,Hs=null,Ws=1073741823,Xs=1073741823,Ks=null,Zs=0,Js=!1,Qs=0,$s=500,tu=null,eu=!1,nu=null,ru=null,iu=!1,ou=null,au=90,su=null,uu=0,lu=null,cu=0;function fu(){return(zs&(Ls|Rs))!==Ms?1073741821-(Bi()/10|0):0!==cu?cu:cu=1073741821-(Bi()/10|0)}function hu(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=qi();if(0==(4&e))return 99===r?1073741823:1073741822;if((zs&Ls)!==Ms)return Vs;if(null!==n)t=Ji(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Ji(t,150,100);break;case 97:case 96:t=Ji(t,5e3,250);break;case 95:t=2;break;default:throw Error(a(326))}return null!==Bs&&t===Vs&&--t,t}function pu(t,e){if(50<uu)throw uu=0,lu=null,Error(a(185));if(null!==(t=du(t,e))){var n=qi();1073741823===e?(zs&As)!==Ms&&(zs&(Ls|Rs))===Ms?mu(t):(yu(t),zs===Ms&&Xi()):yu(t),(4&zs)===Ms||98!==n&&99!==n||(null===su?su=new Map([[t,e]]):(void 0===(n=su.get(t))||n>e)&&su.set(t,e))}}function du(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Bs===i&&(Eu(e),Ys===Us&&Wu(i,Vs)),Xu(i,e)),i}function gu(t){var e=t.lastExpiredTime;return 0!==e?e:Hu(t,e=t.firstPendingTime)?(e=t.lastPingedTime)>(t=t.nextKnownPendingLevel)?e:t:e}function yu(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Wi(mu.bind(null,t));else{var e=gu(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=fu();if(r=1073741823===e?99:1===e||2===e?95:0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Fi&&Pi(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Wi(mu.bind(null,t)):Hi(r,function t(e,n){if(cu=0,n)return Ku(e,n=fu()),yu(e),null;var r=gu(e);if(0!==r){if(n=e.callbackNode,(zs&(Ls|Rs))!==Ms)throw Error(a(327));if(Au(),e===Bs&&r===Vs||bu(e,r),null!==qs){var i=zs;zs|=Ls;for(var o=xu();;)try{Pu();break}catch(t){wu(e,t)}if(ro(),zs=i,Ns.current=o,Ys===Fs)throw n=Hs,bu(e,r),Wu(e,r),yu(e),n;if(null===qs)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,i=Ys,Bs=null,i){case ks:case Fs:throw Error(a(345));case js:Ku(e,2<r?2:r);break;case Ds:if(Wu(e,r),r===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Nu(o)),1073741823===Ws&&10<(o=Qs+$s-Bi())){if(Js){var s=e.lastPingedTime;if(0===s||s>=r){e.lastPingedTime=r,bu(e,r);break}}if(0!==(s=gu(e))&&s!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}e.timeoutHandle=er(Iu.bind(null,e),o);break}Iu(e);break;case Us:if(Wu(e,r),r===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Nu(o)),Js&&(0===(o=e.lastPingedTime)||o>=r)){e.lastPingedTime=r,bu(e,r);break}if(0!==(o=gu(e))&&o!==r)break;if(0!==i&&i!==r){e.lastPingedTime=i;break}if(1073741823!==Xs?i=10*(1073741821-Xs)-Bi():1073741823===Ws?i=0:(i=10*(1073741821-Ws)-5e3,0>(i=(o=Bi())-i)&&(i=0),(r=10*(1073741821-r)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Ts(i/1960))-i)&&(i=r)),10<i){e.timeoutHandle=er(Iu.bind(null,e),i);break}Iu(e);break;case Gs:if(1073741823!==Ws&&null!==Ks){s=Ws;var u=Ks;if(0>=(i=0|u.busyMinDurationMs)?i=0:(o=0|u.busyDelayMs,i=(s=Bi()-(10*(1073741821-s)-(0|u.timeoutMs||5e3)))<=o?0:o+i-s),10<i){Wu(e,r),e.timeoutHandle=er(Iu.bind(null,e),i);break}}Iu(e);break;default:throw Error(a(329))}if(yu(e),e.callbackNode===n)return t.bind(null,e)}}return null}.bind(null,t),{timeout:10*(1073741821-e)-Bi()}),t.callbackNode=e}}}function mu(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,t.finishedExpirationTime===e)Iu(t);else{if((zs&(Ls|Rs))!==Ms)throw Error(a(327));if(Au(),t===Bs&&e===Vs||bu(t,e),null!==qs){var n=zs;zs|=Ls;for(var r=xu();;)try{Ou();break}catch(e){wu(t,e)}if(ro(),zs=n,Ns.current=r,Ys===Fs)throw n=Hs,bu(t,e),Wu(t,e),yu(t),n;if(null!==qs)throw Error(a(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Bs=null,Iu(t),yu(t)}}return null}function vu(t,e){var n=zs;zs|=1;try{return t(e)}finally{(zs=n)===Ms&&Xi()}}function _u(t,e){var n=zs;zs&=-2,zs|=As;try{return t(e)}finally{(zs=n)===Ms&&Xi()}}function bu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,nr(n)),null!==qs)for(n=qs.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&vi();break;case 3:Bo(),_i();break;case 5:Vo(r);break;case 4:Bo();break;case 13:case 19:ci(Yo);break;case 10:oo(r)}n=n.return}Bs=t,qs=zu(t.current,null),Vs=e,Ys=ks,Hs=null,Xs=Ws=1073741823,Ks=null,Zs=0,Js=!1}function wu(t,e){for(;;){try{if(ro(),ha(),null===qs||null===qs.return)return Ys=Fs,Hs=e,null;t:{var n=t,r=qs.return,i=qs,o=e;if(e=Vs,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Yo.current),u=r;do{var l;if(l=13===u.tag){var c=u.memoizedState;if(null!==c)l=null!==c.dehydrated;else{var f=u.memoizedProps;l=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!s)}}if(l){var h=u.updateQueue;if(null===h){var p=new Set;p.add(a),u.updateQueue=p}else h.add(a);if(0==(2&u.mode)){if(u.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var d=ho(1073741823,null);d.tag=2,go(i,d)}i.expirationTime=1073741823;break t}o=void 0,i=e;var g=n.pingCache;if(null===g?(g=n.pingCache=new Es,o=new Set,g.set(a,o)):void 0===(o=g.get(a))&&(o=new Set,g.set(a,o)),!o.has(i)){o.add(i);var y=Fu.bind(null,n,a,i);a.then(y,y)}u.effectTag|=4096,u.expirationTime=e;break t}u=u.return}while(null!==u);o=Error((Z(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Ys!==Gs&&(Ys=js),o=fs(o,i),u=r;do{switch(u.tag){case 3:a=o,u.effectTag|=4096,u.expirationTime=e,yo(u,Os(u,a,e));break t;case 1:a=o;var m=u.type,v=u.stateNode;if(0==(64&u.effectTag)&&("function"==typeof m.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===ru||!ru.has(v)))){u.effectTag|=4096,u.expirationTime=e,yo(u,Ps(u,a,e));break t}}u=u.return}while(null!==u)}qs=Tu(qs)}catch(t){e=t;continue}break}}function xu(){var t=Ns.current;return Ns.current=Na,null===t?Na:t}function Su(t,e){t<Ws&&2<t&&(Ws=t),null!==e&&t<Xs&&2<t&&(Xs=t,Ks=e)}function Eu(t){t>Zs&&(Zs=t)}function Ou(){for(;null!==qs;)qs=Cu(qs)}function Pu(){for(;null!==qs&&!Ci();)qs=Cu(qs)}function Cu(t){var e=Cs(t.alternate,t,Vs);return t.memoizedProps=t.pendingProps,null===e&&(e=Tu(t)),Is.current=null,e}function Tu(t){qs=t;do{var e=qs.alternate;if(t=qs.return,0==(2048&qs.effectTag)){t:{var n=e,r=Vs,o=(e=qs).pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:mi(e.type)&&vi();break;case 3:Bo(),_i(),(o=e.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===n||null===n.child)&&Ua(e)&&us(e),$a(e);break;case 5:Vo(e),r=Go(Uo.current);var s=e.type;if(null!==n&&null!=e.stateNode)ts(n,e,s,o,r),n.ref!==e.ref&&(e.effectTag|=128);else if(o){var u=Go(jo.current);if(Ua(e)){var l=(o=e).stateNode;n=o.type;var c=o.memoizedProps,f=r;switch(l[ar]=o,l[sr]=c,s=void 0,r=l,n){case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(l=0;l<Qt.length;l++)En(Qt[l],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"form":En("reset",r),En("submit",r);break;case"details":En("toggle",r);break;case"input":Pt(r,c),En("invalid",r),Gn(f,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},En("invalid",r),Gn(f,"onChange");break;case"textarea":Rt(r,c),En("invalid",r),Gn(f,"onChange")}for(s in Dn(n,c),l=null,c)c.hasOwnProperty(s)&&(u=c[s],"children"===s?"string"==typeof u?r.textContent!==u&&(l=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(l=["children",""+u]):p.hasOwnProperty(s)&&null!=u&&Gn(f,s));switch(n){case"input":St(r),Nt(r,c,!0);break;case"textarea":St(r),Ft(r);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(r.onclick=zn)}s=l,o.updateQueue=s,(o=null!==s)&&us(e)}else{n=e,f=s,c=o,l=9===r.nodeType?r:r.ownerDocument,u===jt.html&&(u=Dt(f)),u===jt.html?"script"===f?((c=l.createElement("div")).innerHTML="<script><\/script>",l=c.removeChild(c.firstChild)):"string"==typeof c.is?l=l.createElement(f,{is:c.is}):(l=l.createElement(f),"select"===f&&(f=l,c.multiple?f.multiple=!0:c.size&&(f.size=c.size))):l=l.createElementNS(u,f),(c=l)[ar]=n,c[sr]=o,Qa(c,e,!1,!1),e.stateNode=c;var h=r,d=Un(f=s,n=o);switch(f){case"iframe":case"object":case"embed":En("load",c),r=n;break;case"video":case"audio":for(r=0;r<Qt.length;r++)En(Qt[r],c);r=n;break;case"source":En("error",c),r=n;break;case"img":case"image":case"link":En("error",c),En("load",c),r=n;break;case"form":En("reset",c),En("submit",c),r=n;break;case"details":En("toggle",c),r=n;break;case"input":Pt(c,n),r=Ot(c,n),En("invalid",c),Gn(h,"onChange");break;case"option":r=Mt(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},r=i({},n,{value:void 0}),En("invalid",c),Gn(h,"onChange");break;case"textarea":Rt(c,n),r=Lt(c,n),En("invalid",c),Gn(h,"onChange");break;default:r=n}Dn(f,r),l=void 0,u=f;var g=c,y=r;for(l in y)if(y.hasOwnProperty(l)){var m=y[l];"style"===l?Fn(g,m):"dangerouslySetInnerHTML"===l?null!=(m=m?m.__html:void 0)&&zt(g,m):"children"===l?"string"==typeof m?("textarea"!==u||""!==m)&&Bt(g,m):"number"==typeof m&&Bt(g,""+m):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(p.hasOwnProperty(l)?null!=m&&Gn(h,l):null!=m&&wt(g,l,m,d))}switch(f){case"input":St(c),Nt(c,n,!1);break;case"textarea":St(c),Ft(c);break;case"option":null!=n.value&&c.setAttribute("value",""+bt(n.value));break;case"select":(r=c).multiple=!!n.multiple,null!=(c=n.value)?At(r,!!n.multiple,c,!1):null!=n.defaultValue&&At(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=zn)}(o=$n(s,o))&&us(e)}null!==e.ref&&(e.effectTag|=128)}else if(null===e.stateNode)throw Error(a(166));break;case 6:if(n&&null!=e.stateNode)es(n,e,n.memoizedProps,o);else{if("string"!=typeof o&&null===e.stateNode)throw Error(a(166));r=Go(Uo.current),Go(jo.current),Ua(e)?(s=(o=e).stateNode,r=o.memoizedProps,s[ar]=o,(o=s.nodeValue!==r)&&us(e)):(s=e,(o=(9===r.nodeType?r:r.ownerDocument).createTextNode(o))[ar]=s,e.stateNode=o)}break;case 11:break;case 13:if(ci(Yo),o=e.memoizedState,0!=(64&e.effectTag)){e.expirationTime=r;break t}o=null!==o,s=!1,null===n?void 0!==e.memoizedProps.fallback&&Ua(e):(s=null!==(r=n.memoizedState),o||null===r||null!==(r=n.child.sibling)&&(null!==(c=e.firstEffect)?(e.firstEffect=r,r.nextEffect=c):(e.firstEffect=e.lastEffect=r,r.nextEffect=null),r.effectTag=8)),o&&!s&&0!=(2&e.mode)&&(null===n&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Yo.current)?Ys===ks&&(Ys=Ds):(Ys!==ks&&Ys!==Ds||(Ys=Us),0!==Zs&&null!==Bs&&(Wu(Bs,Vs),Xu(Bs,Zs)))),(o||s)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Bo(),$a(e);break;case 10:oo(e);break;case 9:case 14:break;case 17:mi(e.type)&&vi();break;case 19:if(ci(Yo),null===(o=e.memoizedState))break;if(s=0!=(64&e.effectTag),null===(c=o.rendering)){if(s)ls(o,!1);else if(Ys!==ks||null!==n&&0!=(64&n.effectTag))for(n=e.child;null!==n;){if(null!==(c=Ho(n))){for(e.effectTag|=64,ls(o,!1),null!==(s=c.updateQueue)&&(e.updateQueue=s,e.effectTag|=4),null===o.lastEffect&&(e.firstEffect=null),e.lastEffect=o.lastEffect,o=r,s=e.child;null!==s;)n=o,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(c=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=c.childExpirationTime,r.expirationTime=c.expirationTime,r.child=c.child,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,n=c.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;fi(Yo,1&Yo.current|2),e=e.child;break t}n=n.sibling}}else{if(!s)if(null!==(n=Ho(c))){if(e.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(e.updateQueue=r,e.effectTag|=4),ls(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(e=e.lastEffect=o.lastEffect)&&(e.nextEffect=null);break}}else Bi()>o.tailExpiration&&1<r&&(e.effectTag|=64,s=!0,ls(o,!1),e.expirationTime=e.childExpirationTime=r-1);o.isBackwards?(c.sibling=e.child,e.child=c):(null!==(r=o.last)?r.sibling=c:e.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Bi()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=e.lastEffect,r.sibling=null,o=Yo.current,fi(Yo,o=s?1&o|2:1&o),e=r;break t}break;case 20:case 21:break;default:throw Error(a(156,e.tag))}e=null}if(o=qs,1===Vs||1!==o.childExpirationTime){for(s=0,r=o.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(c=r.childExpirationTime)>s&&(s=c),r=r.sibling;o.childExpirationTime=s}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=qs.firstEffect),null!==qs.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=qs.firstEffect),t.lastEffect=qs.lastEffect),1<qs.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=qs:t.firstEffect=qs,t.lastEffect=qs))}else{if(null!==(e=cs(qs)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=qs.sibling))return e;qs=t}while(null!==qs);return Ys===ks&&(Ys=Gs),null}function Nu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function Iu(t){var e=qi();return Yi(99,function(t,e){do{Au()}while(null!==ou);if((zs&(Ls|Rs))!==Ms)throw Error(a(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(a(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=Nu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Bs&&(qs=Bs=null,Vs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=zs;zs|=Rs,Is.current=null,Jn=Sn;var s=Yn();if(Hn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(t){u=null;break t}var h=0,p=-1,d=-1,g=0,y=0,m=s,v=null;e:for(;;){for(var _;m!==u||0!==c&&3!==m.nodeType||(p=h+c),m!==f||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(_=m.firstChild);)v=m,m=_;for(;;){if(m===s)break e;if(v===u&&++g===c&&(p=h),v===f&&++y===l&&(d=h),null!==(_=m.nextSibling))break;v=(m=v).parentNode}m=_}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;Qn={focusedElem:s,selectionRange:u},Sn=!1,tu=i;do{try{Mu()}catch(t){if(null===tu)throw Error(a(330));ku(tu,t),tu=tu.nextEffect}}while(null!==tu);tu=i;do{try{for(s=t,u=e;null!==tu;){var b=tu.effectTag;if(16&b&&Bt(tu.stateNode,""),128&b){var w=tu.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:bs(tu),tu.effectTag&=-3;break;case 6:bs(tu),tu.effectTag&=-3,xs(tu.alternate,tu);break;case 1024:tu.effectTag&=-1025;break;case 1028:tu.effectTag&=-1025,xs(tu.alternate,tu);break;case 4:xs(tu.alternate,tu);break;case 8:ws(s,c=tu,u),vs(c)}tu=tu.nextEffect}}catch(t){if(null===tu)throw Error(a(330));ku(tu,t),tu=tu.nextEffect}}while(null!==tu);if(x=Qn,w=Yn(),b=x.focusedElem,u=x.selectionRange,w!==b&&b&&b.ownerDocument&&function t(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?t(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==u&&Hn(b)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=b.textContent.length,s=Math.min(u.start,c),u=void 0===u.end?s:Math.min(u.end,c),!x.extend&&s>u&&(c=u,u=s,s=c),c=Vn(b,s),f=Vn(b,u),c&&f&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Qn=null,Sn=!!Jn,Jn=null,t.current=n,tu=i;do{try{for(b=r;null!==tu;){var S=tu.effectTag;if(36&S){var E=tu.alternate;switch(x=b,(w=tu).tag){case 0:case 11:case 15:ys(16,32,w);break;case 1:var O=w.stateNode;if(4&w.effectTag)if(null===E)O.componentDidMount();else{var P=w.elementType===w.type?E.memoizedProps:Qi(w.type,E.memoizedProps);O.componentDidUpdate(P,E.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var C=w.updateQueue;null!==C&&bo(0,C,O);break;case 3:var T=w.updateQueue;if(null!==T){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}bo(0,T,s)}break;case 5:var N=w.stateNode;null===E&&4&w.effectTag&&$n(w.type,w.memoizedProps)&&N.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var I=w.alternate;if(null!==I){var M=I.memoizedState;if(null!==M){var A=M.dehydrated;null!==A&&Ee(A)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&S){w=void 0;var L=tu.ref;if(null!==L){var R=tu.stateNode;switch(tu.tag){case 5:w=R;break;default:w=R}"function"==typeof L?L(w):L.current=w}}tu=tu.nextEffect}}catch(t){if(null===tu)throw Error(a(330));ku(tu,t),tu=tu.nextEffect}}while(null!==tu);tu=null,ji(),zs=o}else t.current=n;if(iu)iu=!1,ou=t,au=e;else for(tu=i;null!==tu;)e=tu.nextEffect,tu.nextEffect=null,tu=e;if(0===(e=t.firstPendingTime)&&(ru=null),1073741823===e?t===lu?uu++:(uu=0,lu=t):uu=0,"function"==typeof ju&&ju(n.stateNode,r),yu(t),eu)throw eu=!1,t=nu,nu=null,t;return(zs&As)!==Ms?null:(Xi(),null)}.bind(null,t,e)),null}function Mu(){for(;null!==tu;){var t=tu.effectTag;0!=(256&t)&&gs(tu.alternate,tu),0==(512&t)||iu||(iu=!0,Hi(97,(function(){return Au(),null}))),tu=tu.nextEffect}}function Au(){if(90!==au){var t=97<au?97:au;return au=90,Yi(t,Lu)}}function Lu(){if(null===ou)return!1;var t=ou;if(ou=null,(zs&(Ls|Rs))!==Ms)throw Error(a(331));var e=zs;for(zs|=Rs,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ys(128,0,n),ys(0,64,n)}}catch(e){if(null===t)throw Error(a(330));ku(t,e)}n=t.nextEffect,t.nextEffect=null,t=n}return zs=e,Xi(),!0}function Ru(t,e,n){go(t,e=Os(t,e=fs(n,e),1073741823)),null!==(t=du(t,1073741823))&&yu(t)}function ku(t,e){if(3===t.tag)Ru(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Ru(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ru||!ru.has(r))){go(n,t=Ps(n,t=fs(e,t),1073741823)),null!==(n=du(n,1073741823))&&yu(n);break}}n=n.return}}function Fu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Bs===t&&Vs===n?Ys===Us||Ys===Ds&&1073741823===Ws&&Bi()-Qs<$s?bu(t,Vs):Js=!0:Hu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,t.finishedExpirationTime===n&&(t.finishedExpirationTime=0,t.finishedWork=null),yu(t)))}Cs=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||di.current)Ba=!0;else{if(r<n){switch(Ba=!1,e.tag){case 3:Ja(e),Ga();break;case 5:if(qo(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:mi(e.type)&&xi(e);break;case 4:zo(e,e.stateNode.containerInfo);break;case 10:io(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?rs(t,e,n):(fi(Yo,1&Yo.current),null!==(e=ss(t,e,n))?e.sibling:null);fi(Yo,1&Yo.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return as(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),fi(Yo,Yo.current),!r)return null}return ss(t,e,n)}Ba=!1}}else Ba=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=yi(e,pi.current),so(e,n),i=fa(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,ha(),mi(r)){var o=!0;xi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Eo(e,r,s,t),i.updater=Oo,e.stateNode=i,i._reactInternalFiber=e,No(e,r,t,n),e=Za(null,e,r,!0,o,n)}else e.tag=0,qa(null,e,i,n),e=e.child;return e;case 16:if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return Gu(t)?1:0;if(null!=t){if((t=t.$$typeof)===q)return 11;if(t===H)return 14}return 2}(i),t=Qi(i,t),o){case 0:e=Xa(null,e,i,t,n);break;case 1:e=Ka(null,e,i,t,n);break;case 11:e=Va(null,e,i,t,n);break;case 14:e=Ya(null,e,i,Qi(i.type,t),r,n);break;default:throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Xa(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ka(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 3:if(Ja(e),null===(r=e.updateQueue))throw Error(a(282));if(i=null!==(i=e.memoizedState)?i.element:null,_o(e,r,e.pendingProps,null,n),(r=e.memoizedState.element)===i)Ga(),e=ss(t,e,n);else{if((i=e.stateNode.hydrate)&&(La=rr(e.stateNode.containerInfo.firstChild),Aa=e,i=Ra=!0),i)for(n=ko(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else qa(t,e,r,n),Ga();e=e.child}return e;case 5:return qo(e),null===t&&ja(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,tr(r,i)?s=null:null!==o&&tr(r,o)&&(e.effectTag|=16),Wa(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(qa(t,e,s,n),e=e.child),e;case 6:return null===t&&ja(e),null;case 13:return rs(t,e,n);case 4:return zo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ro(e,null,r,n):qa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Va(t,e,r,i=e.elementType===r?i:Qi(r,i),n);case 7:return qa(t,e,e.pendingProps,n),e.child;case 8:case 12:return qa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,io(e,o=i.value),null!==s){var u=s.value;if(0==(o=Jr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){e=ss(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===u.tag&&((c=ho(n,null)).tag=2,go(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ao(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}qa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,so(e,n),r=r(i=uo(i,o.unstable_observedBits)),e.effectTag|=1,qa(t,e,r,n),e.child;case 14:return o=Qi(i=e.type,e.pendingProps),Ya(t,e,i,o=Qi(i.type,o),r,n);case 15:return Ha(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,mi(r)?(t=!0,xi(e)):t=!1,so(e,n),Co(e,r,i),No(e,r,i,n),Za(null,e,r,!0,t,n);case 19:return as(t,e,n)}throw Error(a(156,e.tag))};var ju=null,Du=null;function Uu(t,e,n,r){return new function(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}(t,e,n,r)}function Gu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function zu(t,e){var n=t.alternate;return null===n?((n=Uu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,r,i,o){var s=2;if(r=t,"function"==typeof t)Gu(t)&&(s=1);else if("string"==typeof t)s=5;else t:switch(t){case j:return qu(n.children,i,o,e);case B:s=8,i|=7;break;case D:s=8,i|=1;break;case U:return(t=Uu(12,n,e,8|i)).elementType=U,t.type=U,t.expirationTime=o,t;case V:return(t=Uu(13,n,e,i)).type=V,t.elementType=V,t.expirationTime=o,t;case Y:return(t=Uu(19,n,e,i)).elementType=Y,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case G:s=10;break t;case z:s=9;break t;case q:s=11;break t;case H:s=14;break t;case W:s=16,r=null;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Uu(s,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function qu(t,e,n,r){return(t=Uu(7,t,r,e)).expirationTime=n,t}function Vu(t,e,n){return(t=Uu(6,t,null,e)).expirationTime=n,t}function Yu(t,e,n){return(e=Uu(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Wu(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Xu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Ku(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Zu(t,e,n,r){var i=e.current,o=fu(),s=xo.suspense;o=hu(o,i,s);t:if(n){e:{if($t(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(mi(l)){n=wi(n,l,u);break t}}n=u}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=ho(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),go(i,e),pu(i,o),o}function Ju(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Qu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function $u(t,e){Qu(t,e),(t=t.alternate)&&Qu(t,e)}function tl(t,e,n){var r=new function(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}(t,e,n=null!=n&&!0===n.hydrate),i=Uu(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,t[ur]=r.current,n&&0!==e&&function(t){var e=Mn(t);de.forEach((function(n){An(n,t,e)})),ge.forEach((function(n){An(n,t,e)}))}(9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function el(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function nl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Ju(a);s.call(t)}}Zu(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new tl(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var u=i;i=function(){var t=Ju(a);u.call(t)}}_u((function(){Zu(e,a,t,i)}))}return Ju(a)}function rl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!el(e))throw Error(a(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)}tl.prototype.render=function(t,e){Zu(t,this._internalRoot,null,void 0===e?null:e)},tl.prototype.unmount=function(t){var e=this._internalRoot,n=void 0===t?null:t,r=e.containerInfo;Zu(null,e,null,(function(){r[ur]=null,null!==n&&n()}))},re=function(t){if(13===t.tag){var e=Ji(fu(),150,100);pu(t,e),$u(t,e)}},ie=function(t){if(13===t.tag){fu();var e=Zi++;pu(t,e),$u(t,e)}},oe=function(t){if(13===t.tag){var e=fu();pu(t,e=hu(e,t,null)),$u(t,e)}},$=function(t,e,n){switch(e){case"input":if(Tt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hr(r);if(!i)throw Error(a(90));Et(r),Tt(r,i)}}}break;case"textarea":kt(t,n);break;case"select":null!=(e=n.value)&&At(t,!!n.multiple,e,!1)}},ot=vu,at=function(t,e,n,r){var i=zs;zs|=4;try{return Yi(98,t.bind(null,e,n,r))}finally{(zs=i)===Ms&&Xi()}},st=function(){(zs&(1|Ls|Rs))===Ms&&(function(){if(null!==su){var t=su;su=null,t.forEach((function(t,e){Ku(e,t),yu(e)})),Xi()}}(),Au())},ut=function(t,e){var n=zs;zs|=2;try{return t(e)}finally{(zs=n)===Ms&&Xi()}};var il={createPortal:rl,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return null===(t=ne(e))?null:t.stateNode},hydrate:function(t,e,n){if(!el(e))throw Error(a(200));return nl(null,t,e,!0,n)},render:function(t,e,n){if(!el(e))throw Error(a(200));return nl(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){if(!el(n))throw Error(a(200));if(null==t||void 0===t._reactInternalFiber)throw Error(a(38));return nl(t,e,n,!1,r)},unmountComponentAtNode:function(t){if(!el(t))throw Error(a(40));return!!t._reactRootContainer&&(_u((function(){nl(null,null,t,!1,(function(){t._reactRootContainer=null,t[ur]=null}))})),!0)},unstable_createPortal:function(){return rl.apply(void 0,arguments)},unstable_batchedUpdates:vu,flushSync:function(t,e){if((zs&(Ls|Rs))!==Ms)throw Error(a(187));var n=zs;zs|=1;try{return Yi(99,t.bind(null,e))}finally{zs=n,Xi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[cr,fr,hr,I.injectEventPluginsByName,h,Me,function(t){P(t,Ie)},rt,it,Cn,N,Au,{current:!1}]}};!function(t){var e=t.findFiberByHostInstance;!function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ju=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(t){}},Du=function(t){try{e.onCommitFiberUnmount(n,t)}catch(t){}}}catch(t){}}(i({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=ne(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:lr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var ol={default:il},al=ol&&il||ol;t.exports=al.default||al},function(t,e,n){"use strict";t.exports=n(601)},function(t,e,n){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,i,o,a,s;if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(c,0),t}},f=Date.now();e.unstable_now=function(){return Date.now()-f},r=function(t){null!==u?setTimeout(r,0,t):(u=t,setTimeout(c,0))},i=function(t,e){l=setTimeout(t,e)},o=function(){clearTimeout(l)},a=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,d=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var y=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)e.unstable_now=function(){return h.now()};else{var m=p.now();e.unstable_now=function(){return p.now()-m}}var v=!1,_=null,b=-1,w=5,x=0;a=function(){return e.unstable_now()>=x},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<t?Math.floor(1e3/t):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==_){var t=e.unstable_now();x=t+w;try{_(!0,t)?E.postMessage(null):(v=!1,_=null)}catch(t){throw E.postMessage(null),t}}else v=!1},r=function(t){_=t,v||(v=!0,E.postMessage(null))},i=function(t,n){b=d((function(){t(e.unstable_now())}),n)},o=function(){g(b),b=-1}}function O(t,e){var n=t.length;t.push(e);t:for(;;){var r=Math.floor((n-1)/2),i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function P(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>T(a,n))void 0!==u&&0>T(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>T(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var N=[],I=[],M=1,A=null,L=3,R=!1,k=!1,F=!1;function j(t){for(var e=P(I);null!==e;){if(null===e.callback)C(I);else{if(!(e.startTime<=t))break;C(I),e.sortIndex=e.expirationTime,O(N,e)}e=P(I)}}function D(t){if(F=!1,j(t),!k)if(null!==P(N))k=!0,r(U);else{var e=P(I);null!==e&&i(D,e.startTime-t)}}function U(t,n){k=!1,F&&(F=!1,o()),R=!0;var r=L;try{for(j(n),A=P(N);null!==A&&(!(A.expirationTime>n)||t&&!a());){var s=A.callback;if(null!==s){A.callback=null,L=A.priorityLevel;var u=s(A.expirationTime<=n);n=e.unstable_now(),"function"==typeof u?A.callback=u:A===P(N)&&C(N),j(n)}else C(N);A=P(N)}if(null!==A)var l=!0;else{var c=P(I);null!==c&&i(D,c.startTime-n),l=!1}return l}finally{A=null,L=r,R=!1}}function G(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=L;L=t;try{return e()}finally{L=n}},e.unstable_next=function(t){switch(L){case 1:case 2:case 3:var e=3;break;default:e=L}var n=L;L=e;try{return t()}finally{L=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;u="number"==typeof u&&0<u?s+u:s,a="number"==typeof a.timeout?a.timeout:G(t)}else a=G(t),u=s;return t={id:M++,callback:n,priorityLevel:t,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(t.sortIndex=u,O(I,t),null===P(N)&&t===P(I)&&(F?o():F=!0,i(D,u-s))):(t.sortIndex=a,O(N,t),k||R||(k=!0,r(U))),t},e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_wrapCallback=function(t){var e=L;return function(){var n=L;L=e;try{return t.apply(this,arguments)}finally{L=n}}},e.unstable_getCurrentPriorityLevel=function(){return L},e.unstable_shouldYield=function(){var t=e.unstable_now();j(t);var n=P(N);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=t&&n.expirationTime<A.expirationTime||a()},e.unstable_requestPaint=z,e.unstable_continueExecution=function(){k||R||(k=!0,r(U))},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return P(N)},e.unstable_Profiling=null},function(t,e,n){"use strict";var r=n(603);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,b=r?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case i:switch(t=t.type){case f:case h:case a:case u:case s:case d:return t;default:switch(t=t&&t.$$typeof){case c:case p:case m:case y:case l:return t;default:return e}}case o:return e}}}function x(t){return w(t)===h}e.typeOf=w,e.AsyncMode=f,e.ConcurrentMode=h,e.ContextConsumer=c,e.ContextProvider=l,e.Element=i,e.ForwardRef=p,e.Fragment=a,e.Lazy=m,e.Memo=y,e.Portal=o,e.Profiler=u,e.StrictMode=s,e.Suspense=d,e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===h||t===u||t===s||t===d||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===y||t.$$typeof===l||t.$$typeof===c||t.$$typeof===p||t.$$typeof===v||t.$$typeof===_||t.$$typeof===b)},e.isAsyncMode=function(t){return x(t)||w(t)===f},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===c},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===i},e.isForwardRef=function(t){return w(t)===p},e.isFragment=function(t){return w(t)===a},e.isLazy=function(t){return w(t)===m},e.isMemo=function(t){return w(t)===y},e.isPortal=function(t){return w(t)===o},e.isProfiler=function(t){return w(t)===u},e.isStrictMode=function(t){return w(t)===s},e.isSuspense=function(t){return w(t)===d}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.coordinates=function(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(607),i=n(304),o=n(608);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return G(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:m(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){f=!1;break}if(f)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return B(G(e,t.length-n),t,n,r)}function b(t,e,n,r){return B(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function x(t,e,n,r){return B(z(e),t,n,r)}function S(t,e,n,r){return B(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,l=t[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(t){var e=t.length;if(e<=P)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=P));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=t.slice(e,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function A(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function k(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,o){return o||k(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return o||k(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||M(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||A(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||A(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);A(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||A(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:G(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function B(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(72))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e),1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e),u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(f(t,a,a+16383>s?s:a+16383));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function f(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeFilter=function(t){var e=(0,p.createElementNS)(S,"Filter");return L(e,t,[]),e};var r=n(18),i=d(n(143)),o=d(n(610)),a=n(224),s=d(a),u=n(306),l=d(n(175)),c=n(176),f=n(13),h=n(5),p=n(78);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y={"http://www.opengis.net/gml":{boundedBy:(0,p.makeObjectPropertySetter)(s.default.prototype.readGeometryElement,"bounds")}},m={"http://www.opengis.net/wfs":{totalInserted:(0,p.makeObjectPropertySetter)(c.readNonNegativeInteger),totalUpdated:(0,p.makeObjectPropertySetter)(c.readNonNegativeInteger),totalDeleted:(0,p.makeObjectPropertySetter)(c.readNonNegativeInteger)}},v={"http://www.opengis.net/wfs":{TransactionSummary:(0,p.makeObjectPropertySetter)((function(t,e){return(0,p.pushParseAndPop)({},m,t,e)}),"transactionSummary"),InsertResults:(0,p.makeObjectPropertySetter)((function(t,e){return(0,p.pushParseAndPop)([],N,t,e)}),"insertIds")}},_={"http://www.opengis.net/wfs":{PropertyName:(0,p.makeChildAppender)(c.writeStringTextNode)}},b={"http://www.opengis.net/wfs":{Insert:(0,p.makeChildAppender)((function(t,e,n){var r=n[n.length-1],a=r.featureType,s=r.featureNS,u=r.gmlVersion,l=(0,p.createElementNS)(s,a);t.appendChild(l),2===u?i.default.prototype.writeFeatureElement(l,e,n):o.default.prototype.writeFeatureElement(l,e,n)})),Update:(0,p.makeChildAppender)((function(t,e,n){var i=n[n.length-1];(0,r.assert)(void 0!==e.getId(),27);var o=i.featureType,a=i.featurePrefix,s=i.featureNS,u=M(a,o),l=e.getGeometryName();t.setAttribute("typeName",u),t.setAttributeNS(x,"xmlns:"+a,s);var c=e.getId();if(void 0!==c){for(var f=e.getKeys(),h=[],d=0,g=f.length;d<g;d++){var y=e.get(f[d]);if(void 0!==y){var m=f[d];y&&"function"==typeof y.getSimplifiedGeometry&&(m=l),h.push({name:m,value:y})}}(0,p.pushSerializeAndPop)({gmlVersion:i.gmlVersion,node:t,hasZ:i.hasZ,srsName:i.srsName},b,(0,p.makeSimpleNodeFactory)("Property"),h,n),I(t,c,n)}})),Delete:(0,p.makeChildAppender)((function(t,e,n){var i=n[n.length-1];(0,r.assert)(void 0!==e.getId(),26);var o=i.featureType,a=i.featurePrefix,s=i.featureNS,u=M(a,o);t.setAttribute("typeName",u),t.setAttributeNS(x,"xmlns:"+a,s);var l=e.getId();void 0!==l&&I(t,l,n)})),Property:(0,p.makeChildAppender)((function(t,e,n){var r=(0,p.createElementNS)(E,"Name"),a=n[n.length-1].gmlVersion;if(t.appendChild(r),(0,c.writeStringTextNode)(r,e.name),void 0!==e.value&&null!==e.value){var s=(0,p.createElementNS)(E,"Value");t.appendChild(s),e.value&&"function"==typeof e.value.getSimplifiedGeometry?2===a?i.default.prototype.writeGeometryElement(s,e.value,n):o.default.prototype.writeGeometryElement(s,e.value,n):(0,c.writeStringTextNode)(s,e.value)}})),Native:(0,p.makeChildAppender)((function(t,e,n){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&(0,c.writeStringTextNode)(t,e.value)}))}},w="feature",x="http://www.w3.org/2000/xmlns/",S="http://www.opengis.net/ogc",E="http://www.opengis.net/wfs",O={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},P="1.1.0",C=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.featureType_=r.featureType,n.featureNS_=r.featureNS,n.gmlFormat_=r.gmlFormat?r.gmlFormat:new o.default,n.schemaLocation_=r.schemaLocation?r.schemaLocation:O[P],n}return g(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var n={node:t};(0,f.assign)(n,{featureType:this.featureType_,featureNS:this.featureNS_}),(0,f.assign)(n,this.getReadOptions(t,e||{}));var r=[n];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[a.GMLNS].featureMember=(0,p.makeArrayPusher)(s.default.prototype.readFeaturesInternal);var i=(0,p.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,r,this.gmlFormat_);return i||(i=[]),i},e.prototype.readTransactionResponse=function(t){if(t){if("string"==typeof t){var e=(0,p.parse)(t);return this.readTransactionResponseFromDocument(e)}return(0,p.isDocument)(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"==typeof t){var e=(0,p.parse)(t);return this.readFeatureCollectionMetadataFromDocument(e)}return(0,p.isDocument)(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},n=(0,c.readNonNegativeIntegerString)(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=n,(0,p.pushParseAndPop)(e,y,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return(0,p.pushParseAndPop)({},v,t,[])},e.prototype.writeGetFeature=function(t){var e,n=(0,p.createElementNS)(E,"GetFeature");if(n.setAttribute("service","WFS"),n.setAttribute("version","1.1.0"),t&&(t.handle&&n.setAttribute("handle",t.handle),t.outputFormat&&n.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&n.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&n.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&n.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&n.setAttribute("count",String(t.count)),void 0!==t.viewParams&&n.setAttribute("viewParams",t.viewParams),e=t.filter,t.bbox)){(0,r.assert)(t.geometryName,12);var i=(0,u.bbox)(t.geometryName,t.bbox,t.srsName);e=e?(0,u.and)(e,i):i}n.setAttributeNS(p.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation_);var o={node:n};return(0,f.assign)(o,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:e,propertyNames:t.propertyNames?t.propertyNames:[]}),(0,r.assert)(Array.isArray(t.featureTypes),11),function(t,e,n){var r=n[n.length-1],i=(0,f.assign)({},r);i.node=t,(0,p.pushSerializeAndPop)(i,A,(0,p.makeSimpleNodeFactory)("Query"),e,n)}(n,t.featureTypes,[o]),n},e.prototype.writeTransaction=function(t,e,n,r){var i,o,a=[],s=(0,p.createElementNS)(E,"Transaction"),u=r.version?r.version:P,l="1.0.0"===u?2:3;s.setAttribute("service","WFS"),s.setAttribute("version",u),r&&(i=r.gmlOptions?r.gmlOptions:{},r.handle&&s.setAttribute("handle",r.handle));var c=O[u];s.setAttributeNS(p.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",c);var h=r.featurePrefix?r.featurePrefix:w;return t&&(o=(0,f.assign)({node:s},{featureNS:r.featureNS,featureType:r.featureType,featurePrefix:h,gmlVersion:l,hasZ:r.hasZ,srsName:r.srsName}),(0,f.assign)(o,i),(0,p.pushSerializeAndPop)(o,b,(0,p.makeSimpleNodeFactory)("Insert"),t,a)),e&&(o=(0,f.assign)({node:s},{featureNS:r.featureNS,featureType:r.featureType,featurePrefix:h,gmlVersion:l,hasZ:r.hasZ,srsName:r.srsName}),(0,f.assign)(o,i),(0,p.pushSerializeAndPop)(o,b,(0,p.makeSimpleNodeFactory)("Update"),e,a)),n&&(0,p.pushSerializeAndPop)({node:s,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:h,gmlVersion:l,srsName:r.srsName},b,(0,p.makeSimpleNodeFactory)("Delete"),n,a),r.nativeElements&&(0,p.pushSerializeAndPop)({node:s,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:h,gmlVersion:l,srsName:r.srsName},b,(0,p.makeSimpleNodeFactory)("Native"),r.nativeElements,a),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(var e=(t=t.firstElementChild.firstElementChild).firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var n=[{}];return this.gmlFormat_.readGeometryElement(e,n),(0,h.get)(n.pop().srsName)}return null},e}(l.default),T={"http://www.opengis.net/ogc":{FeatureId:(0,p.makeArrayPusher)((function(t,e){return t.getAttribute("fid")}))}},N={"http://www.opengis.net/wfs":{Feature:function(t,e){(0,p.parseNode)(T,t,e)}}};function I(t,e,n){var r=(0,p.createElementNS)(S,"Filter"),i=(0,p.createElementNS)(S,"FeatureId");r.appendChild(i),i.setAttribute("fid",e),t.appendChild(r)}function M(t,e){var n=(t=t||w)+":";return 0===e.indexOf(n)?e:n+e}var A={"http://www.opengis.net/wfs":{Query:(0,p.makeChildAppender)((function(t,e,n){var r,i=n[n.length-1],o=i.featurePrefix,a=i.featureNS,s=i.propertyNames,u=i.srsName;r=o?M(o,e):e,t.setAttribute("typeName",r),u&&t.setAttribute("srsName",u),a&&t.setAttributeNS(x,"xmlns:"+o,a);var l=(0,f.assign)({},i);l.node=t,(0,p.pushSerializeAndPop)(l,_,(0,p.makeSimpleNodeFactory)("PropertyName"),s,n);var c=i.filter;if(c){var h=(0,p.createElementNS)(S,"Filter");t.appendChild(h),L(h,c,n)}}))},"http://www.opengis.net/ogc":{During:(0,p.makeChildAppender)((function(t,e,n){var r=(0,p.createElementNS)("http://www.opengis.net/fes","ValueReference");(0,c.writeStringTextNode)(r,e.propertyName),t.appendChild(r);var i=(0,p.createElementNS)(a.GMLNS,"TimePeriod");t.appendChild(i);var o=(0,p.createElementNS)(a.GMLNS,"begin");i.appendChild(o),U(o,e.begin);var s=(0,p.createElementNS)(a.GMLNS,"end");i.appendChild(s),U(s,e.end)})),And:(0,p.makeChildAppender)(R),Or:(0,p.makeChildAppender)(R),Not:(0,p.makeChildAppender)((function(t,e,n){var r={node:t},i=e.condition;(0,p.pushSerializeAndPop)(r,A,(0,p.makeSimpleNodeFactory)(i.getTagName()),[i],n)})),BBOX:(0,p.makeChildAppender)((function(t,e,n){n[n.length-1].srsName=e.srsName,j(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.extent,n)})),Contains:(0,p.makeChildAppender)((function(t,e,n){n[n.length-1].srsName=e.srsName,j(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.geometry,n)})),Intersects:(0,p.makeChildAppender)((function(t,e,n){n[n.length-1].srsName=e.srsName,j(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.geometry,n)})),Within:(0,p.makeChildAppender)((function(t,e,n){n[n.length-1].srsName=e.srsName,j(t,e.geometryName),o.default.prototype.writeGeometryElement(t,e.geometry,n)})),PropertyIsEqualTo:(0,p.makeChildAppender)(k),PropertyIsNotEqualTo:(0,p.makeChildAppender)(k),PropertyIsLessThan:(0,p.makeChildAppender)(k),PropertyIsLessThanOrEqualTo:(0,p.makeChildAppender)(k),PropertyIsGreaterThan:(0,p.makeChildAppender)(k),PropertyIsGreaterThanOrEqualTo:(0,p.makeChildAppender)(k),PropertyIsNull:(0,p.makeChildAppender)((function(t,e,n){j(t,e.propertyName)})),PropertyIsBetween:(0,p.makeChildAppender)((function(t,e,n){j(t,e.propertyName);var r=(0,p.createElementNS)(S,"LowerBoundary");t.appendChild(r),D(r,""+e.lowerBoundary);var i=(0,p.createElementNS)(S,"UpperBoundary");t.appendChild(i),D(i,""+e.upperBoundary)})),PropertyIsLike:(0,p.makeChildAppender)((function(t,e,n){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),j(t,e.propertyName),D(t,""+e.pattern)}))}};function L(t,e,n){var r={node:t};(0,p.pushSerializeAndPop)(r,A,(0,p.makeSimpleNodeFactory)(e.getTagName()),[e],n)}function R(t,e,n){for(var r={node:t},i=e.conditions,o=0,a=i.length;o<a;++o){var s=i[o];(0,p.pushSerializeAndPop)(r,A,(0,p.makeSimpleNodeFactory)(s.getTagName()),[s],n)}}function k(t,e,n){void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),j(t,e.propertyName),D(t,""+e.expression)}function F(t,e,n){var r=(0,p.createElementNS)(S,t);(0,c.writeStringTextNode)(r,n),e.appendChild(r)}function j(t,e){F("PropertyName",t,e)}function D(t,e){F("Literal",t,e)}function U(t,e){var n=(0,p.createElementNS)(a.GMLNS,"TimeInstant");t.appendChild(n);var r=(0,p.createElementNS)(a.GMLNS,"timePosition");n.appendChild(r),(0,c.writeStringTextNode)(r,e)}e.default=C},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=n(75),a=n(224),s=m(a),u=n(176),l=m(n(46)),c=m(n(65)),f=m(n(117)),h=m(n(118)),p=m(n(35)),d=n(13),g=n(5),y=n(78);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=a.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",b={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},w=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).surface_=void 0!==r.surface&&r.surface,n.curve_=void 0!==r.curve&&r.curve,n.multiCurve_=void 0===r.multiCurve||r.multiCurve,n.multiSurface_=void 0===r.multiSurface||r.multiSurface,n.schemaLocation=r.schemaLocation?r.schemaLocation:_,n.hasZ=void 0!==r.hasZ&&r.hasZ,n}return v(e,t),e.prototype.readMultiCurve_=function(t,e){var n=(0,y.pushParseAndPop)([],this.MULTICURVE_PARSERS_,t,e,this);return n?new f.default(n):void 0},e.prototype.readMultiSurface_=function(t,e){var n=(0,y.pushParseAndPop)([],this.MULTISURFACE_PARSERS_,t,e,this);if(n)return new h.default(n)},e.prototype.curveMemberParser_=function(t,e){(0,y.parseNode)(this.CURVEMEMBER_PARSERS_,t,e,this)},e.prototype.surfaceMemberParser_=function(t,e){(0,y.parseNode)(this.SURFACEMEMBER_PARSERS_,t,e,this)},e.prototype.readPatch_=function(t,e){return(0,y.pushParseAndPop)([null],this.PATCHES_PARSERS_,t,e,this)},e.prototype.readSegment_=function(t,e){return(0,y.pushParseAndPop)([null],this.SEGMENTS_PARSERS_,t,e,this)},e.prototype.readPolygonPatch_=function(t,e){return(0,y.pushParseAndPop)([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment_=function(t,e){return(0,y.pushParseAndPop)([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser_=function(t,e){var n=(0,y.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);n&&e[e.length-1].push(n)},e.prototype.exteriorParser_=function(t,e){var n=(0,y.pushParseAndPop)(void 0,this.RING_PARSERS,t,e,this);n&&(e[e.length-1][0]=n)},e.prototype.readSurface_=function(t,e){var n=(0,y.pushParseAndPop)([null],this.SURFACE_PARSERS_,t,e,this);if(n&&n[0]){var i,o=n[0],a=[o.length],s=void 0;for(s=1,i=n.length;s<i;++s)(0,r.extend)(o,n[s]),a.push(o.length);return new p.default(o,l.default.XYZ,a)}},e.prototype.readCurve_=function(t,e){var n=(0,y.pushParseAndPop)([null],this.CURVE_PARSERS_,t,e,this);return n?new c.default(n,l.default.XYZ):void 0},e.prototype.readEnvelope_=function(t,e){var n=(0,y.pushParseAndPop)([null],this.ENVELOPE_PARSERS_,t,e,this);return(0,i.createOrUpdate)(n[1][0],n[1][1],n[2][0],n[2][1])},e.prototype.readFlatPos_=function(t,e){for(var n,r=(0,y.getAllTextContent)(t,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];n=i.exec(r);)o.push(parseFloat(n[1])),r=r.substr(n[0].length);if(""===r){var a=e[0].srsName,s="enu";if(a&&(s=(0,g.get)(a).getAxisOrientation()),"neu"===s){var u,l=void 0;for(l=0,u=o.length;l<u;l+=3){var c=o[l],f=o[l+1];o[l]=f,o[l+1]=c}}var h=o.length;if(2==h&&o.push(0),0!==h)return o}},e.prototype.readFlatPosList_=function(t,e){var n=(0,y.getAllTextContent)(t,!1).replace(/^\s*|\s*$/g,""),r=e[0],i=r.srsName,o=r.srsDimension,a="enu";i&&(a=(0,g.get)(i).getAxisOrientation());var s,l,c,f=n.split(/\s+/),h=2;t.getAttribute("srsDimension")?h=(0,u.readNonNegativeIntegerString)(t.getAttribute("srsDimension")):t.getAttribute("dimension")?h=(0,u.readNonNegativeIntegerString)(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?h=(0,u.readNonNegativeIntegerString)(t.parentNode.getAttribute("srsDimension")):o&&(h=(0,u.readNonNegativeIntegerString)(o));for(var p=[],d=0,m=f.length;d<m;d+=h)s=parseFloat(f[d]),l=parseFloat(f[d+1]),c=3===h?parseFloat(f[d+2]):0,"en"===a.substr(0,2)?p.push(s,l,c):p.push(l,s,c);return p},e.prototype.writePos_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);var a=r.srsName,s="enu";a&&(s=(0,g.get)(a).getAxisOrientation());var l,c=e.getCoordinates();l="en"===s.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],i&&(l+=" "+(c[2]||0)),(0,u.writeStringTextNode)(t,l)},e.prototype.getCoords_=function(t,e,n){var r="enu";e&&(r=(0,g.get)(e).getAxisOrientation());var i="en"===r.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];return n&&(i+=" "+(t[2]||0)),i},e.prototype.writePosList_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=i?"3":"2";t.setAttribute("srsDimension",o);for(var a,s=r.srsName,l=e.getCoordinates(),c=l.length,f=new Array(c),h=0;h<c;++h)a=l[h],f[h]=this.getCoords_(a,s,i);(0,u.writeStringTextNode)(t,f.join(" "))},e.prototype.writePoint_=function(t,e,n){var r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);var i=(0,y.createElementNS)(t.namespaceURI,"pos");t.appendChild(i),this.writePos_(i,e,n)},e.prototype.writeEnvelope=function(t,e,n){var r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);var i=[e[0]+" "+e[1],e[2]+" "+e[3]];(0,y.pushSerializeAndPop)({node:t},this.ENVELOPE_SERIALIZERS_,y.OBJECT_PROPERTY_NODE_FACTORY,i,n,["lowerCorner","upperCorner"],this)},e.prototype.writeLinearRing_=function(t,e,n){var r=n[n.length-1].srsName;r&&t.setAttribute("srsName",r);var i=(0,y.createElementNS)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,n)},e.prototype.RING_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1],i=r.node,o=r.exteriorWritten;return void 0===o&&(r.exteriorWritten=!0),(0,y.createElementNS)(i.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();(0,y.pushSerializeAndPop)({node:t,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,n,void 0,this)}else if("Surface"===t.nodeName){var s=(0,y.createElementNS)(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,n)}},e.prototype.writeCurveOrLineString_=function(t,e,n){var r=n[n.length-1].srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=(0,y.createElementNS)(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,n)}else if("Curve"===t.nodeName){var o=(0,y.createElementNS)(t.namespaceURI,"segments");t.appendChild(o),this.writeCurveSegments_(o,e,n)}},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName,a=r.surface;o&&t.setAttribute("srsName",o);var s=e.getPolygons();(0,y.pushSerializeAndPop)({node:t,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeMultiPoint_=function(t,e,n){var r=n[n.length-1],i=r.srsName,o=r.hasZ;i&&t.setAttribute("srsName",i);var a=e.getPoints();(0,y.pushSerializeAndPop)({node:t,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS_,(0,y.makeSimpleNodeFactory)("pointMember"),a,n,void 0,this)},e.prototype.writeMultiCurveOrLineString_=function(t,e,n){var r=n[n.length-1],i=r.hasZ,o=r.srsName,a=r.curve;o&&t.setAttribute("srsName",o);var s=e.getLineStrings();(0,y.pushSerializeAndPop)({node:t,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeRing_=function(t,e,n){var r=(0,y.createElementNS)(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing_(r,e,n)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,n))},e.prototype.writePointMember_=function(t,e,n){var r=(0,y.createElementNS)(t.namespaceURI,"Point");t.appendChild(r),this.writePoint_(r,e,n)},e.prototype.writeLineStringOrCurveMember_=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeCurveOrLineString_(r,e,n))},e.prototype.writeSurfacePatches_=function(t,e,n){var r=(0,y.createElementNS)(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon_(r,e,n)},e.prototype.writeCurveSegments_=function(t,e,n){var r=(0,y.createElementNS)(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString_(r,e,n)},e.prototype.writeGeometryElement=function(t,e,n){var r,i=n[n.length-1],a=(0,d.assign)({},i);a.node=t,r=Array.isArray(e)?(0,o.transformExtentWithOptions)(e,i):(0,o.transformGeometryWithOptions)(e,!0,i),(0,y.pushSerializeAndPop)(a,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[r],n,void 0,this)},e.prototype.writeFeatureElement=function(t,e,n){var r=e.getId();r&&t.setAttribute("fid",r);var i=n[n.length-1],o=i.featureNS,a=e.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var s=e.getProperties(),l=[],c=[];for(var f in s){var h=s[f];null!==h&&(l.push(f),c.push(h),f==a||"function"==typeof h.getSimplifiedGeometry?f in i.serializers[o]||(i.serializers[o][f]=(0,y.makeChildAppender)(this.writeGeometryElement,this)):f in i.serializers[o]||(i.serializers[o][f]=(0,y.makeChildAppender)(u.writeStringTextNode)))}var p=(0,d.assign)({},i);p.node=t,(0,y.pushSerializeAndPop)(p,i.serializers,(0,y.makeSimpleNodeFactory)(void 0,o),c,n,l)},e.prototype.writeFeatureMembers_=function(t,e,n){var r=n[n.length-1],i=r.featureType,o=r.featureNS,a={};a[o]={},a[o][i]=(0,y.makeChildAppender)(this.writeFeatureElement,this);var s=(0,d.assign)({},r);s.node=t,(0,y.pushSerializeAndPop)(s,a,(0,y.makeSimpleNodeFactory)(i,o),e,n)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1].node;return(0,y.createElementNS)(this.namespace,b[r.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var r,i=e[e.length-1],o=i.multiSurface,a=i.surface,s=i.curve,u=i.multiCurve;return Array.isArray(t)?r="Envelope":"MultiPolygon"===(r=t.getType())&&!0===o?r="MultiSurface":"Polygon"===r&&!0===a?r="Surface":"LineString"===r&&!0===s?r="Curve":"MultiLineString"===r&&!0===u&&(r="MultiCurve"),(0,y.createElementNS)(this.namespace,r)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var n=(0,y.createElementNS)(this.namespace,"geom"),r={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&(0,d.assign)(r,e),this.writeGeometryElement(n,t,[r]),n},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=(0,y.createElementNS)(this.namespace,"featureMembers");n.setAttributeNS(y.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&(0,d.assign)(r,e),this.writeFeatureMembers_(n,t,[r]),n},e}(s.default);w.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:(0,y.makeReplacer)(w.prototype.readFlatPos_),posList:(0,y.makeReplacer)(w.prototype.readFlatPosList_)}},w.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:w.prototype.interiorParser_,exterior:w.prototype.exteriorParser_}},w.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:(0,y.makeReplacer)(s.default.prototype.readPoint),MultiPoint:(0,y.makeReplacer)(s.default.prototype.readMultiPoint),LineString:(0,y.makeReplacer)(s.default.prototype.readLineString),MultiLineString:(0,y.makeReplacer)(s.default.prototype.readMultiLineString),LinearRing:(0,y.makeReplacer)(s.default.prototype.readLinearRing),Polygon:(0,y.makeReplacer)(s.default.prototype.readPolygon),MultiPolygon:(0,y.makeReplacer)(s.default.prototype.readMultiPolygon),Surface:(0,y.makeReplacer)(w.prototype.readSurface_),MultiSurface:(0,y.makeReplacer)(w.prototype.readMultiSurface_),Curve:(0,y.makeReplacer)(w.prototype.readCurve_),MultiCurve:(0,y.makeReplacer)(w.prototype.readMultiCurve_),Envelope:(0,y.makeReplacer)(w.prototype.readEnvelope_)}},w.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:(0,y.makeArrayPusher)(w.prototype.curveMemberParser_),curveMembers:(0,y.makeArrayPusher)(w.prototype.curveMemberParser_)}},w.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:(0,y.makeArrayPusher)(w.prototype.surfaceMemberParser_),surfaceMembers:(0,y.makeArrayPusher)(w.prototype.surfaceMemberParser_)}},w.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:(0,y.makeArrayPusher)(s.default.prototype.readLineString),Curve:(0,y.makeArrayPusher)(w.prototype.readCurve_)}},w.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:(0,y.makeArrayPusher)(s.default.prototype.readPolygon),Surface:(0,y.makeArrayPusher)(w.prototype.readSurface_)}},w.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:(0,y.makeReplacer)(w.prototype.readPatch_)}},w.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:(0,y.makeReplacer)(w.prototype.readSegment_)}},w.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:(0,y.makeArrayPusher)(w.prototype.readFlatPosList_),upperCorner:(0,y.makeArrayPusher)(w.prototype.readFlatPosList_)}},w.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:(0,y.makeReplacer)(w.prototype.readPolygonPatch_)}},w.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:(0,y.makeReplacer)(w.prototype.readLineStringSegment_)}},w.prototype.writeFeatures,w.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:(0,y.makeChildAppender)(w.prototype.writeRing_),interior:(0,y.makeChildAppender)(w.prototype.writeRing_)}},w.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:(0,y.makeChildAppender)(u.writeStringTextNode),upperCorner:(0,y.makeChildAppender)(u.writeStringTextNode)}},w.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:(0,y.makeChildAppender)(w.prototype.writeSurfaceOrPolygonMember_),polygonMember:(0,y.makeChildAppender)(w.prototype.writeSurfaceOrPolygonMember_)}},w.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:(0,y.makeChildAppender)(w.prototype.writePointMember_)}},w.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:(0,y.makeChildAppender)(w.prototype.writeLineStringOrCurveMember_),curveMember:(0,y.makeChildAppender)(w.prototype.writeLineStringOrCurveMember_)}},w.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:(0,y.makeChildAppender)(w.prototype.writeCurveOrLineString_),MultiCurve:(0,y.makeChildAppender)(w.prototype.writeMultiCurveOrLineString_),Point:(0,y.makeChildAppender)(w.prototype.writePoint_),MultiPoint:(0,y.makeChildAppender)(w.prototype.writeMultiPoint_),LineString:(0,y.makeChildAppender)(w.prototype.writeCurveOrLineString_),MultiLineString:(0,y.makeChildAppender)(w.prototype.writeMultiCurveOrLineString_),LinearRing:(0,y.makeChildAppender)(w.prototype.writeLinearRing_),Polygon:(0,y.makeChildAppender)(w.prototype.writeSurfaceOrPolygon_),MultiPolygon:(0,y.makeChildAppender)(w.prototype.writeMultiSurfaceOrPolygon_),Surface:(0,y.makeChildAppender)(w.prototype.writeSurfaceOrPolygon_),MultiSurface:(0,y.makeChildAppender)(w.prototype.writeMultiSurfaceOrPolygon_),Envelope:(0,y.makeChildAppender)(w.prototype.writeEnvelope)}},e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(307)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(144)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,"BBOX")||this;if(i.geometryName=e,i.extent=n,4!==n.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return i.srsName=r,i}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(226)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){return t.call(this,"Contains",e,n,r)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,"During",e)||this;return i.begin=n,i.end=r,i}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){return t.call(this,"PropertyIsEqualTo",e,n,r)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n){return t.call(this,"PropertyIsGreaterThan",e,n)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,n)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(226)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){return t.call(this,"Intersects",e,n,r)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){var i=t.call(this,"PropertyIsBetween",e)||this;return i.lowerBoundary=n,i.upperBoundary=r,i}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r,i,o,a){var s=t.call(this,"PropertyIsLike",e)||this;return s.pattern=n,s.wildCard=void 0!==r?r:"*",s.singleChar=void 0!==i?i:".",s.escapeChar=void 0!==o?o:"!",s.matchCase=a,s}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){return t.call(this,"PropertyIsNull",e)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n){return t.call(this,"PropertyIsLessThan",e,n)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n){return t.call(this,"PropertyIsLessThanOrEqualTo",e,n)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(144)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=t.call(this,"Not")||this;return n.condition=e,n}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(130)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){return t.call(this,"PropertyIsNotEqualTo",e,n,r)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(307)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(226)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e,n,r){return t.call(this,"Within",e,n,r)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){var r,i,o=n(308),a=n(309),s=0,u=0;t.exports=function(t,e,n){var l=e&&n||0,c=e||[],f=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:i;if(null==f||null==h){var p=o();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=i=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:u+1,y=d-s+(g-u)/1e4;if(y<0&&void 0===t.clockseq&&(h=h+1&16383),(y<0||d>s)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=g,i=h;var m=(1e4*(268435455&(d+=122192928e5))+g)%4294967296;c[l++]=m>>>24&255,c[l++]=m>>>16&255,c[l++]=m>>>8&255,c[l++]=255&m;var v=d/4294967296*1e4&268435455;c[l++]=v>>>8&255,c[l++]=255&v,c[l++]=v>>>24&15|16,c[l++]=v>>>16&255,c[l++]=h>>>8|128,c[l++]=255&h;for(var _=0;_<6;++_)c[l+_]=f[_];return e||a(c)}},function(t,e,n){var r=n(308),i=n(309);t.exports=function(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||i(a)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addTool=i,e.addDrawer=o,e.remove=function(t){return{type:r.TOOLBAR.REMOVE,name:t}},e.parseToolbar=function(t){return t?function t(e,n){var r=[],u=!0,l=!1,c=void 0;try{for(var f,h=n.childNodes[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;if("drawer"===p.tagName){var d=s(p);r.push(o(e,d)),r=r.concat(t(d.name,p))}else"tool"===p.tagName&&r.push(i(e,a(p)))}}catch(t){l=!0,c=t}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}return r}("root",t):[]};var r=n(28);function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"last";return{type:r.TOOLBAR.ADD,order:n,root:t,tool:e}}function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"last";return{type:r.TOOLBAR.ADD,order:n,root:t,tool:{name:e.name,label:e.label,actionType:"drawer",actionDetail:""}}}function a(t){return{name:t.getAttribute("name"),label:t.getAttribute("title"),actionType:t.getAttribute("type"),actionDetail:t.getAttribute("action"),cssClass:t.getAttribute("css-class")}}function s(t){return{name:t.getAttribute("name"),label:t.getAttribute("title")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setConfig=function(t){return{type:r.CONFIG.SET,payload:t}};var r=n(28)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{root:{id:r.default.v4(),children:[]}},e=arguments[1],n={};switch(e.type){case i.CATALOG.ADD_LAYER:case i.CATALOG.ADD_GROUP:return function(t,e){var n={},r=e.child;return n[r.id]=r,Object.assign({},t,n)}(t,e);case i.CATALOG.ADD_CHILD:var o=e.parentId;o||(o="root");var a=Object.assign({},t[o],{children:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t[o].children),[e.childId])}),s={};return s[o]=a,Object.assign({},t,s);case i.CATALOG.FAVORITE:var u={};return u[e.id]=Object.assign({},t[e.id],{favorite:e.favorite}),Object.assign({},t,u);case i.CATALOG.GROUP_VIS:var l={};return l[e.id]=Object.assign({},t[e.id],{expand:e.expand}),Object.assign({},t,l);case i.CATALOG.REFRESH:return n[e.id]=Object.assign({},t[e.id],{refreshEnabled:e.refreshEnabled}),Object.assign({},t,n);case i.CATALOG.LEGEND_VIS:return n[e.id]=Object.assign({},t[e.id],{legend:e.on}),Object.assign({},t,n);default:return t}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(79)),i=n(28)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleReload=void 0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n={};switch(e.type){case i.MAPSOURCE.SET_ATTRIBUTE:return a(t,e);case i.MAPSOURCE.LAYER_VIS:return a(t,e,"on");case i.MAPSOURCE.LAYER_FAVORITE:return a(t,e,"favorite");case i.MAPSOURCE.SET_TEMPLATE:return a(t,e);case i.MAPSOURCE.ADD:return n[e.mapSource.name]=Object.assign({layers:[],params:{},printable:!0,queryable:!1},e.mapSource),Object.assign({},t,n);case i.MAPSOURCE.SET_Z:var u={};return u[e.mapSourceName]=Object.assign({},t[e.mapSourceName],{zIndex:e.zIndex}),Object.assign({},t,u);case i.MAPSOURCE.SET_OPACITY:var l={};return l[e.mapSourceName]=Object.assign({},t[e.mapSourceName],{opacity:e.opacity}),Object.assign({},t,l);case i.MAPSOURCE.ADD_LAYER:if(t[e.mapSourceName]){var c={};return c[e.mapSourceName]=Object.assign({},t[e.mapSourceName],{layers:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t[e.mapSourceName].layers),[e.layer])}),Object.assign({},t,c)}return t;case i.MAPSOURCE.REFRESH:if(t[e.mapSourceName]){var f={};return f[e.mapSourceName]=Object.assign({},t[e.mapSourceName],{refresh:e.refresh}),Object.assign({},t,f)}return t;case i.MAPSOURCE.ADD_FEATURES:case i.MAPSOURCE.CLEAR_FEATURES:case i.MAPSOURCE.REMOVE_FEATURE:case i.MAPSOURCE.REMOVE_FEATURES:case i.MAPSOURCE.CHANGE_FEATURES:case i.MAPSOURCE.MODIFY_GEOMETRY:return Object.assign({},t,function(t,e){var n=t[e.mapSourceName],a=[],s=1;switch(n.features&&(a=n.features.slice(),s=n.featuresVersion),e.type){case i.MAPSOURCE.ADD_FEATURES:for(var u=0,l=e.features.length;!e.copy&&u<l;u++){var c={};c._uuid=(0,r.default)(),e.features[u].properties=Object.assign({},e.features[u].properties,c)}a=a.concat(e.features),s+=1;break;case i.MAPSOURCE.CLEAR_FEATURES:a=[],s+=1;break;case i.MAPSOURCE.REMOVE_FEATURE:a=[];var f=!0,h=!1,p=void 0;try{for(var d,g=n.features[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var y=d.value;y.properties._uuid!==e.id&&a.push(y)}}catch(t){h=!0,p=t}finally{try{!f&&g.return&&g.return()}finally{if(h)throw p}}s+=1;break;case i.MAPSOURCE.REMOVE_FEATURES:a=(0,o.filterFeatures)(a,e.filter),s+=1;break;case i.MAPSOURCE.CHANGE_FEATURES:a=(0,o.changeFeatures)(n.features,e.filter,e.properties),s+=1;break;case i.MAPSOURCE.MODIFY_GEOMETRY:a=(0,o.changeFeatures)(n.features,{_uuid:e.id},null,e.geometry),s+=1}var m={};return m[e.mapSourceName]=Object.assign(n,{features:a,featuresVersion:s}),m}(t,e));case i.MAPSOURCE.RELOAD:return s(t,e);default:return t}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(79)),i=n(28),o=n(16);function a(t,e,n){var r=[];if(!t[e.mapSourceName])return t;for(var o=0,a=t[e.mapSourceName].layers.length;o<a;o++){var s=Object.assign({},t[e.mapSourceName].layers[o]);s.name===e.layerName&&(e.type===i.MAPSOURCE.SET_TEMPLATE?s.templates[e.name]=e.template:s[n]=e[n]),r.push(s)}var u=Object.assign({},t[e.mapSourceName],{layers:r}),l={};return l[e.mapSourceName]=u,Object.assign({},t,l)}var s=e.handleReload=function(t,e){var n={},r=t[e.mapSourceName];return n[e.mapSourceName]=Object.assign({},r,{featuresVersion:r.featuresVersion?r.featuresVersion+1:1,params:Object.assign({},r.params,{_ck:"."+(new Date).getTime()})}),Object.assign({},t,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments[1];switch(e.type){case r.MAP.MOVE:for(var n={extent:null},o=["center","zoom","resolution"],a=0;a<o.length;a++){var s=o[a];void 0!==e[s]&&(n[s]=e[s])}return Object.assign({},t,n);case r.MAP.ZOOM_TO_EXTENT:return Object.assign({},t,{extent:{bbox:e.extent,projection:e.projection}});case r.MAP.CHANGE_TOOL:return Object.assign({},t,{activeSource:e.src,interactionType:e.tool});case r.MAP.ADD_SELECTION_FEATURE:return Object.assign({},t,{selectionFeatures:[e.feature].concat(t.selectionFeatures)});case r.MAP.CLEAR_SELECTION_FEATURES:return Object.assign({},t,{selectionFeatures:[]});case r.MAP.BUFFER_SELECTION_FEATURES:return Object.assign({},t,{selectionBuffer:e.distance,selectionBufferUnits:e.units||t.selectionBufferUnits});case r.CONFIG.SET:return function(t,e){var n={};return e.map&&e.map.defaultUnits&&(n.selectionBufferUnits=e.map.defaultUnits),Object.assign({},t,n)}(t,e.payload);case r.MAP.SET_EDIT_PATH:return Object.assign({},t,{editPath:e.editPath});default:return t}};var r=n(28),i={center:[0,0],zoom:1,resolution:null,extent:null,activeSource:null,interactionType:null,selectionFeatures:[],selectionBuffer:0,selectionBufferUnits:"ft",editPath:""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments[1];switch(e.type){case r.TOOLBAR.ADD:var n=e.root?e.root:"root",o=e.order?e.order:"last",a=Object.assign({},t);return a[n]||(a[n]=[]),"first"===o?a[n].unshift(e.tool):a[n].push(e.tool),a;case r.TOOLBAR.REMOVE:var s={};for(var u in t){s[u]=[];var l=!0,c=!1,f=void 0;try{for(var h,p=t[u][Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var d=h.value;d.name!==e.name&&s[u].push(d)}}catch(t){c=!0,f=t}finally{try{!l&&p.return&&p.return()}finally{if(c)throw f}}}return s;default:return t}};var r=n(28),i={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=arguments[1],n={};switch(e.type){case i.SERVICE.START:return Object.assign({},t,{service:e.service,showServiceForm:!0});case i.SERVICE.FINISH:return Object.assign({},t,{service:null,showServiceForm:!1});case i.MAP.QUERY_NEW:var u=r.default.v4();n[u]=Object.assign({},e.query,{progress:"new",filter:[],results:{},rendered:{}});var l=[u].concat(t.order),c=Object.assign({},t);if(e.singleQuery){l=[u];var f=!0,h=!1,p=void 0;try{for(var d,g=t.order[Symbol.iterator]();!(f=(d=g.next()).done);f=!0){var y=d.value;delete c[y]}}catch(t){h=!0,p=t}finally{try{!f&&g.return&&g.return()}finally{if(h)throw p}}}return Object.assign(c,{order:l},n);case i.MAP.QUERY_RESULTS:var m={};e.failed?m[e.layer]={failed:!0,failureMessage:e.messageText}:m[e.layer]=e.features;for(var v=0,_=e.features.length;v<_;v++)m[e.layer][v].query=e.id;var b=Object.assign({},t[e.id].results,m);return n[e.id]=Object.assign({},t[e.id],{results:b}),Object.assign({},t,n);case i.MAP.QUERY_START:return Object.assign({},t,s(e.id,t,"started"));case i.MAP.QUERY_PROGRESS:return Object.assign({},t,s(e.id,t,"progress"));case i.MAP.QUERY_FINISHED:return Object.assign({},t,s(e.id,t,"finished"));case i.MAP.QUERY_RENDERED_RESULTS:var w=[{data:e.data,target:e.target}].concat(t[e.id].rendered),x={};return x[e.id]=Object({},t[e.id],{rendered:w}),Object.assign({},t,x);case i.MAP.QUERY_RESULTS_REMOVE:return function(t,e,n){var r={};for(var i in t[e].results)r[i]=o.filterFeatures(t[e].results[i],n);var a=Object.assign({},t[e],{results:r}),s=Object.assign({},t);return s[e]=a,s}(t,e.id,e.filter);case i.MAP.QUERY_REMOVE:return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t.order[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u!==e&&n.push(u)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var l=Object.assign({},t,{order:n});return delete l[e],l}(t,e.id);case i.MAP.ADD_FILTER:return n[e.id]=Object.assign({},t[e.id],{filter:t[e.id].filter.concat([e.filter])}),Object.assign({},t,n);case i.MAP.REMOVE_FILTER:var S=[];for(var E in t[e.id].filter)E.length>2&&E[1]!==e.field&&S.push(E);return n[e.id]=Object.assign({},t[e.id],{filter:S}),Object.assign({},t,n);case i.SERVICE.SHOW_FORM:return Object.assign({},t,{showServiceForm:e.show});default:return t}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(79)),i=n(28),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),a={service:null,order:[]};function s(t,e,n){var r=e[t],i={};return i[t]=Object.assign({},r,{progress:n,counter:void 0===r.counter?0:r.counter+1}),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments[1];switch(e.type){case i.UI.HINT:return Object.assign({},t,{stateId:(0,r.default)(),hint:e.hint});case i.UI.CLEAR_HINT:return Object.assign({},t,{stateId:(0,r.default)(),hint:null});case i.UI.RUN_ACTION:return Object.assign({},t,{stateId:(0,r.default)(),action:e.action});case i.UI.CLEAR_ACTION:return Object.assign({},t,{stateId:(0,r.default)(),action:null});case i.UI.SHOW_MODAL:return Object.assign({},t,{modal:e.payload});default:return t}};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(79)),i=n(28),o={stateId:0,hint:null,action:null,modal:""}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments[1];switch(e.type){case r.MAP.CURSOR:return Object.assign({},t,{coords:e.coords});case r.MAP.SKETCH_GEOMETRY:return Object.assign({},t,{sketchGeometry:e.geometry});default:return t}};var r=n(28),i={coords:[0,0],sketchGeometry:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments[1];switch(e.type){case r.PRINT.REQUEST:return Object.assign({},t,{state:"printing",request:e.request});case r.PRINT.IMAGE:return Object.assign({},t,{state:"printing",printData:e.data});case r.PRINT.FINISHED:return Object.assign({},t,{state:"printed",data:"",request:null});default:return t}};var r=n(28),i={state:"printed",printData:"",request:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.type===r.CONFIG.SET?Object.assign({},t,e.payload):t};var r=n(28),i={map:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(28),o={feature:null,source:"",modal:""};e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case i.EDITOR.START_EDIT:return r({},t,{feature:e.feature,source:e.source||"",modal:"edit"});case i.EDITOR.FINISH_EDIT:return r({},t,{feature:null,source:"",modal:""});case i.EDITOR.REMOVE:return r({},t,{feature:e.feature,source:e.source||"",modal:"remove"});default:return t}}},function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},function(t,e,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,i=n(644),o=Object.create?Object.create(null):{};function a(t,e,n,r,i){var o=e.indexOf("<",r),a=e.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+t.length>=0||" "!==a)&&t.push({type:"text",content:a})}t.exports=function(t,e){e||(e={}),e.components||(e.components=o);var n,s=[],u=-1,l=[],c={},f=!1;return t.replace(r,(function(r,o){if(f){if(r!=="</"+n.name+">")return;f=!1}var h,p="/"!==r.charAt(1),d=0===r.indexOf("\x3c!--"),g=o+r.length,y=t.charAt(g);p&&!d&&(u++,"tag"===(n=i(r)).type&&e.components[n.name]&&(n.type="component",f=!0),n.voidElement||f||!y||"<"===y||a(n.children,t,u,g,e.ignoreWhitespace),c[n.tagName]=n,0===u&&s.push(n),(h=l[u-1])&&h.children.push(n),l[u]=n),(d||!p||n.voidElement)&&(d||u--,!f&&"<"!==y&&y&&a(h=-1===u?s:l[u].children,t,u,g,e.ignoreWhitespace))})),!s.length&&t.length&&a(s,t,0,0,e.ignoreWhitespace),s}},function(t,e,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(645);t.exports=function(t){var e,n=0,o=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return t.replace(r,(function(r){if("="===r)return o=!0,void n++;o?0===n?((i[r]||"/"===t.charAt(t.length-2))&&(a.voidElement=!0),a.name=r):(a.attrs[e]=r.replace(/^['"]|['"]$/g,""),e=void 0):(e&&(a.attrs[e]=e),e=r),n++,o=!1})),a}},function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e){function n(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(t){var e=[];for(var n in t)e.push(n+'="'+t[n]+'"');return e.length?" "+e.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(n,"")+"</"+e.name+">"}}t.exports=function(t){return t.reduce((function(t,e){return t+n("",e)}),"")}},function(t,e,n){"use strict";t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=function(t){var e,n,a=Object.keys(t.defs),s=a.length;for(e=0;e<s;++e){var u=a[e];if(!(0,r.get)(u)){var l=t.defs(u);(0,r.addProjection)(new o.default({code:u,axisOrientation:l.axis,metersPerUnit:l.to_meter,units:l.units}))}}for(e=0;e<s;++e){var c=a[e],f=(0,r.get)(c);for(n=0;n<s;++n){var h=a[n],p=(0,r.get)(h);if(!(0,i.get)(c,h))if(t.defs[c]===t.defs[h])(0,r.addEquivalentProjections)([f,p]);else{var d=t(c,h);(0,r.addCoordinateTransforms)(f,p,d.forward,d.inverse)}}}};var r=n(5),i=n(296),o=function(t){return t&&t.__esModule?t:{default:t}}(n(141))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.i18nStart=void 0;var r=u(n(374)),i=n(22),o=u(n(652)),a=u(n(653)),s=u(n(654));function u(t){return t&&t.__esModule?t:{default:t}}var l={en:{translation:a.default},es:{translation:s.default}},c={order:["querystring","cookie","navigator","htmlTag"],caches:[]},f=e.i18nStart=function(t){r.default.use(o.default).use(i.initReactI18next).init(t)};e.default=function(t){var e={},n=[],r=function(r){n.push(fetch(t[r]).then((function(t){return t.json()})).then((function(t){e[r]={translation:t}})))};for(var i in t)r(i);Promise.all(n).then((function(){f({detection:c,resources:Object.assign(l,e),keySeparator:!1,interpolation:{escapeValue:!1}})}))}},function(t,e,n){"use strict";n.r(e);var r,i=n(50),o=n(51),a=[],s=a.forEach,u=a.slice,l={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&"undefined"!=typeof document){var n=function(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}(t.lookupCookie);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&function(t,e,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/"};if(n){var a=new Date;a.setTime(a.getTime()+60*n*1e3),i="; expires="+a.toUTCString()}else i="";r=r?"domain="+r+";":"",o=Object.keys(o).reduce((function(t,e){return t+";"+e.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))+"="+o[e]}),""),document.cookie=t+"="+encodeURIComponent(e)+i+";"+r+o}(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},c={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");i>0&&n[r].substring(0,i)===t.lookupQuerystring&&(e=n[r].substring(i+1))}return e}};try{r="undefined"!==window&&null!==window.localStorage,window.localStorage.setItem("i18next.translate.boo","foo"),window.localStorage.removeItem("i18next.translate.boo")}catch(t){r=!1}var f={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&r){var n=window.localStorage.getItem(t.lookupLocalStorage);n&&(e=n)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&r&&window.localStorage.setItem(e.lookupLocalStorage,t)}},h={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)e.push(navigator.languages[n]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},p={name:"htmlTag",lookup:function(t){var e,n=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(e=n.getAttribute("lang")),e}},d={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof n[t.lookupFromPathIndex])return;e=n[t.lookupFromPathIndex].replace("/","")}else e=n[0].replace("/","")}return e}},g={name:"subdomain",lookup:function(t){var e;if("undefined"!=typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(e="number"==typeof t.lookupFromSubdomainIndex?n[t.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return e}},y=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(i.a)(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return Object(o.a)(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=function(t){return s.call(u.call(arguments,1),(function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])})),t}(e,this.options||{},{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:!0}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(l),this.addDetector(c),this.addDetector(f),this.addDetector(h),this.addDetector(p),this.addDetector(d),this.addDetector(g)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var n,r=[];if(t.forEach((function(t){if(e.detectors[t]){var n=e.detectors[t].lookup(e.options);n&&"string"==typeof n&&(n=[n]),n&&(r=r.concat(n))}})),r.forEach((function(t){if(!n){var r=e.services.languageUtils.formatLanguageCode(t);e.options.checkWhitelist&&!e.services.languageUtils.isWhitelisted(r)||(n=r)}})),!n){var i=this.i18nOptions.fallbackLng;"string"==typeof i&&(i=[i]),i||(i=[]),n="[object Array]"===Object.prototype.toString.apply(i)?i[0]:i[0]||i.default&&i.default[0]}return n}},{key:"cacheUserLanguage",value:function(t,e){var n=this;e||(e=this.options.caches),e&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||e.forEach((function(e){n.detectors[e]&&n.detectors[e].cacheUserLanguage(t,n.options)})))}}]),t}();y.type="languageDetector",e.default=y},function(t){t.exports=JSON.parse('{"Bookmark":"Bookmark","Cancel":"Cancel","Clear":"Clear","Close":"Close","Find Me":"Find Me","Identify":"Identify","Measure":"Measure","Okay":"Okay","Print":"Print","Search":"Search","Select Features":"Select Features","Start Over":"Start Over","Zoom to Full Extent":"Zoom to Full Extent","cancel":"Cancel","clear-features":"Clear Features","clear-features-tip":"Clear all features from the layer.","clear-previous-selection":"Clear previous selection","download-features":"Download features","download-features-tip":"Download Features to a file.","download-format":"Download format","download-help":"Choose a format then click \'Okay\' to download layer features in that format.","draw-box-label":"Draw Box","draw-edit-tip":"Edit feature properties","draw-line-tip":"Add a Line to the layer","draw-linestring-label":"Draw Line","draw-linestring-tip":"Add a LineString to the layer","draw-modify-label":"Modify Feature","draw-modify-tip":"Modify a drawn feature","draw-multipoint-label":"Draw Multi-Point","draw-point-label":"Draw Point","draw-point-tip":"Add a Point to the layer","draw-polygon-label":"Draw Polygon","draw-polygon-tip":"Add a Polygon to the layer","draw-remove-tip":"Remove a feature from the layer","draw-select-label":"Feature from:","empty-properties":"No properties for this feature.","end":"End","end-drawing":"End Drawing","end-select":"End Selection","fade-tip":"Fade layer","favorites-help":"This tab lists all layers marked as \'Favorites\'.  Favorite layers can be selected by clicking the <i class=\'icon favorite\'></i> icon next to the layer name.","features":"Features","filter-sort":"Click to sort","finish":"End","go":"Go","grid-download-csv":"Download results as CSV","grid-min-max":"Min/Maximize Grid","label-max":"Max:","label-min":"Min:","label-value":"Value:","layer-down-tip":"Move layer down in the order","layer-refresh-tip":"Toggle automatic layer refreshing","layer-up-tip":"Move layer up in the order","layers":"Layers","map-title":"Map title","measure-area":"Area","measure-due-east":"Due East","measure-due-north":"Due North","measure-due-south":"Due South","measure-due-west":"Due West","measure-east-abbr":"E","measure-help":"Use <b>Draw line</b> to measure distances and <b>Draw Polygon</b> to measure areas.","measure-north-abbr":"N","measure-segment-length":"Segment length","measure-south-abbr":"S","measure-sq":"sq.","measure-west-abbr":"W","no-favorites":"No layers marked as favorite","page-layout":"Page layout","page-letter-landscape-legend":"Letter - Landscape with Legend","page-letter-landscape":"Letter - Landscape","page-letter-portrait":"Letter - Portrait","page-tabloid-landscape":"11x17 - Landscape","page-tabloid-portrait":"11x17 - Portrait","resolution":"Resolution","resolution-higher":"Higher","resolution-highest":"Highest","resolution-normal":"Normal","results-clear":"Clear results","save-changes":"Save changes","search-catalog":"Search catalog","start-service-help":"Nothing available to view. Please click a service to start in the toolbar.","toggle-legend-tip":"Toggle legend visibility.","unfade-tip":"Unfade layer","units":"Units","units-a":"Acres","units-ch":"Chains","units-ft":"Feet","units-h":"Hectares","units-in":"Inches","units-km":"Kilometers","units-m":"Meters","units-mi":"Miles","units-yd":"Yards","upload-file-error":"There was an error uploading the file. Please verify it is a valid GeoJSON or KML file.","upload-help":"Use the browse button to select a KML or GeoJSON file then click Okay to upload the features to the map.","upload-invalid-features":"There were {{count}} invalid features found in the file. Please check the source and try again.","upload-tip":"Upload features from a file.","upload-title":"Upload features","upload-uploaded":"There were {{count}} features uploaded","upload-uploading":"Uploading file(s)...","view-metadata-tip":"View metadata - opens new window","visible-layers-help":"This tab lists all of the visible layers. Checking a layer from the Catalog will cause the layer to appear here. Unchecking a layer\'s checkbox will cause it to disappear from this list.","with-buffer":"With buffer","zoomto-extent":"Zoom to Extent...","zoomto-results":"Zoom to results","zoomto-tip":"Zoom to layer extents."}')},function(t){t.exports=JSON.parse('{"Bookmark":"Marcador","Cancel":"Cancelar","Clear":"Limpiar","Close":"Cerrar","Find Me":"Localizame","Identify":"Identificar objetos","Measure":"Medir","Okay":"OK","Print":"Imprimir","Search":"Buscar","Select Features":"Seleccionar objetos","Start Over":"Restablecer","Zoom to Full Extent":"Zoom a la extension","cancel":"Cancelar","clear-features":"Limpiar objetos","clear-features-tip":"Limpiar objetos de la capa","clear-previous-selection":"Limpiar seleccion previa","download-features":"Descargar objetos","download-features-tip":"Descargar objetos a un archivo","download-help":"Elija un formato y click \'Okay\' para decsragar los objetos de la capa","draw-box-label":"Dibujar rectngulo","draw-edit-tip":"Editar atributos del objeto","draw-line-tip":"Aadir objeto lineal","draw-linestring-label":"Dibujar lnea","draw-linestring-tip":"Dibujar polilnea","draw-modify-label":"Editar geometra","draw-modify-tip":"Editar geometra existente","draw-multipoint-label":"Dibujar Multi-punto","draw-point-label":"Dibujar punto","draw-point-tip":"Aadir objeto puntual","draw-polygon-label":"Dibujar polgono","draw-polygon-tip":"Aadir objeto poligonal","draw-remove-tip":"Eliminar objetos de la capa","draw-select-label":"Objetos de:","empty-properties":"No hay atributos para esta objeto.","end":"Terminar de","end-drawing":"Terminar de dibujar","end-select":"Terminar de seleccionar","fade-tip":"Oscurecer capa","favorites-help":"Esta pestaa contiene las capas seleccionadas como favoritas. Lista de capas con la <i class=\'icon favorite\'></i> seleccionada.","features":"Objetos","filter-sort":"Pulse para ordenar","finish":"Terminar","go":"OK","grid-download-csv":"Guardar como archivo CSV","grid-min-max":"Min/Maximizar Tabla","label-max":"Mx:","label-min":"Min:","label-value":"Valor:","layer-down-tip":"Mover la capa hacia abago","layer-refresh-tip":"Activar refrescado de capa automtico","layer-up-tip":"Mover la capa hacia arriba","layers":"Capas","map-title":"Titulo del mapa","measure-area":"Area","measure-due-east":"Hacia el este","measure-due-north":"Hacia el norte","measure-due-south":"Hacia el sur","measure-due-west":"Hacia Oeste","measure-east-abbr":"E","measure-help":"Use <b>Dibujar lnea</b> para medir la distancia. Use <b>Dibujar polgono</b> para medir el rea.","measure-north-abbr":"N","measure-segment-length":"Longitud del segmento","measure-south-abbr":"S","measure-sq":"<super>2</super>","measure-west-abbr":"O","no-favorites":"No hay capas favoritas.","page-layout":"Composicin de impresin","page-letter-landscape-legend":"Carta - Horizontal con leyenda","page-letter-landscape":"Carta - Horizontal","page-letter-portrait":"Carta - Vertical","page-tabloid-landscape":"A3 - Horizontal","page-tabloid-portrait":"A3 - Vertical","resolution":"Resolucin","resolution-higher":"Alta","resolution-highest":"Maxima","resolution-normal":"Normal","results-clear":"Limpiar resultados","save-changes":"Guardar los cambios","search-catalog":"Buscar en el Catalogo de capas","start-service-help":"No hay ninguna seleccion. Seleccione una opcion de la barra de herramientas","toggle-legend-tip":"Alternar visibilidad de leyenda","unfade-tip":"Aclarar capa","units":"Unidades","units-a":"Acres","units-ch":"Chains","units-ft":"Pies","units-h":"Hectareas","units-in":"Pulgadas","units-km":"Kilmetros","units-m":"Metros","units-mi":"Millas","units-yd":"Yardas","upload-file-error":"Se produjo un error al cargar el archivo. Por favor, verifique que es un KML o GEOJSON valido","upload-help":"Utilice el boton de navegar para seleccionar un archivo KML o GEOJSON y pulse Ok para cargar los aobejtos en el mapa","upload-invalid-features":"Se encontraron {{count}} objetos invalidos en el archivo. Verifique el archivo fuente e intente nuevamente.","upload-tip":"Agregar objetos desde un archivo.","upload-title":"Agregar objetos.","upload-uploaded":"Se han aadido {{count}} objetos","upload-uploading":"Cargando archivo(s)...","view-metadata-tip":"Ver metadatos (en una nueva ventana)","visible-layers-help":"Esta pestaa muestra todas las capas visibles en el mapa. Clickando una capa del Catalogo provocara que la capa aparezca aqui. Volviendo a clickar, la capa desaparecera.","with-buffer":"Ancho de buffer","zoomto-extent":"Zoom a la extension","zoomto-results":"Zoom a la seleccion","zoomto-tip":"Zoom a la capa"}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=a(n(2)),o=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this,e=this.props.group,n="group",r="";return e.expand?(n+=" gm-expand",r="open"):n+=" gm-collapse",i.default.createElement("div",{key:e.id,className:n},i.default.createElement("div",{onClick:function(){t.props.onExpand()},className:"group-label"},i.default.createElement("i",{className:"folder icon "+r}),e.label),i.default.createElement("div",{className:"children"},this.props.children))}}]),e}();e.default=s,s.defaultProps={onExpand:function(){}},s.propTypes={onExpand:o.default.func,group:o.default.object.isRequired}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClearTool=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(2)),o=n(9),a=n(27),s=l(n(80)),u=n(81);function l(t){return t&&t.__esModule?t:{default:t}}var c=e.ClearTool=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={open:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this;return i.default.createElement(u.Tool,{tip:"clear-features-tip",iconClass:"clear",onClick:function(){t.setState({open:!0})}},!!this.state.open&&i.default.createElement(s.default,{title:"Clear features",open:this.state.open,onClose:function(){t.setState({open:!1});var e=t.props.layer.src[0];t.props.clearFeatures(e.mapSourceName)},options:[{label:"Cancel",value:"dismiss"},{label:"Clear",value:"clear"}]},"Remove all features from selected layer?"))}}]),e}();e.default=(0,o.connect)(void 0,(function(t){return{clearFeatures:function(e){t((0,a.clearFeatures)(e))}}}))(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(312)),i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),e}();e.default=i,i.defaultProps={tip:"layer-down-tip",iconClass:"down",direction:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadTool=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(2),o=g(i),a=n(9),s=n(22),u=g(n(313)),l=g(n(314)),c=g(n(114)),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(5)),h=n(81),p=g(n(80)),d=n(16);function g(t){return t&&t.__esModule?t:{default:t}}var y=e.DownloadTool=function(t){var e=t.layer,n=t.mapSources,a=t.onDownload,u=(0,i.useState)("kml"),l=r(u,2),c=l[0],f=l[1],d=(0,i.useState)(!1),g=r(d,2),y=g[0],m=g[1],v=(0,s.useTranslation)().t;return o.default.createElement(o.default.Fragment,null,o.default.createElement(h.Tool,{tip:"download-features-tip",iconClass:"download",onClick:function(){m(!0)}}),!!y&&o.default.createElement(p.default,{open:!0,title:"download-features",options:[{label:"Cancel",value:"dismiss"},{label:"Okay",value:"download"}],onClose:function(t){if("download"===t){var r=e.src[0],i=n[r.mapSourceName];a(r,i,c)}m(!1)}},o.default.createElement("p",null,v("download-help")),o.default.createElement("p",null,o.default.createElement("label",null,v("download-format")+" "),o.default.createElement("select",{value:c,onChange:function(t){f(t.target.value)}},o.default.createElement("option",{value:"geojson"},"GeoJSON"),o.default.createElement("option",{value:"kml"},"KML")))))};e.default=(0,a.connect)((function(t){return{mapSources:t.mapSources}}),(function(t){return{onDownload:function(t,e,n){for(var r=e.features,i=null,o=0,a=e.layers.length;null===i&&o<a;o++){var s=e.layers[o];s.name===t.layerName&&void 0!==s.filter&&(i=s.filter)}null!==i&&(r=(0,d.matchFeatures)(r,i)),function(t,e){var n="geomoose_"+(new Date).getTime();n+="."+e;var r=new c.default,i=new c.default,o="application/vnd.geo+json";"kml"===e&&(i=new l.default,o="application/vnd.google-earth.kml+xml");var a=r.readFeatures({type:"FeatureCollection",features:t},{dataProjection:f.get("EPSG:3857"),featureProjection:f.get("EPSG:4326")}),s=i.writeFeatures(a),h=new Blob([s],{type:o});u.default.saveAs(h,n)}(r,n)}}}))(y)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DrawTool=void 0;var r=l(n(2)),i=l(n(7)),o=n(9),a=n(37),s=n(177),u=n(81);function l(t){return t&&t.__esModule?t:{default:t}}var c={remove:"Remove",modify:"Modify",point:"Point",line:"LineString",polygon:"Polygon",edit:"Edit"},f=e.DrawTool=function(t){var e=t.layer,n=t.drawType,i=t.changeTool,o=t.interactionType,a=t.activeSource,s=t.service,l=t.finishService,f=e.src[0],h=f.mapSourceName+"/"+f.layerName;return r.default.createElement(u.Tool,{iconClass:n,tip:"draw-"+n+"-tip",onClick:function(){s&&l(),i(c[n],h)},active:c[n]===o&&h===a})};f.propTypes={changeTool:i.default.func,drawType:i.default.string,layer:i.default.object.isRequired},f.defaultProps={changeTool:function(){},drawType:"point"};var h={changeTool:a.changeTool,finishService:s.finishService};e.default=(0,o.connect)((function(t){return{activeSource:t.map.activeSource,interactionType:t.map.interactionType,service:t.query.service}}),h)(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LegendToggle=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(227),s=n(81),u=e.LegendToggle=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this;return i.default.createElement(s.Tool,{tip:"toggle-legend-tip",iconClass:"legend",onClick:function(){t.props.onToggleLegend(t.props.layer)}})}}]),e}();e.default=(0,o.connect)(void 0,(function(t){return{onToggleLegend:function(e){t((0,a.setLegendVisibility)(e.id,!0!==e.legend))}}}))(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(22);e.default=function(t){var e=t.href,n=(0,i.useTranslation)().t;return r.default.createElement("a",{className:"metadata",href:e,target:"_blank",rel:"noopener noreferrer",title:n("view-metadata-tip")},r.default.createElement("i",{className:"icon metadata"}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayerRefresh=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.isRefreshingOn=c;var i=l(n(2)),o=l(n(7)),a=n(9),s=n(27),u=n(81);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var n=0,r=e.src.length;n<r;n++)if(t[e.src[n].mapSourceName].refresh)return!0;return!1}var f=e.LayerRefresh=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this,e=c(this.props.mapSources,this.props.layer),n="refresh";return e&&(n+=" on"),i.default.createElement(u.Tool,{tip:"layer-refresh-tip",iconClass:n,onClick:function(){t.props.onToggleRefresh(t.props.layer,!e)}})}}]),e}();f.propTypes={mapSources:o.default.object.isRequired,layer:o.default.object.isRequired,onToggleRefresh:o.default.func.isRequired},e.default=(0,a.connect)((function(t){return{mapSources:t.mapSources}}),(function(t){return{onToggleRefresh:function(e,n){for(var r=n?e.refresh:null,i=0,o=e.src.length;i<o;i++){var a=e.src[i];t((0,s.setRefresh)(a.mapSourceName,r))}}}}))(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(321)),i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),e}();e.default=i,i.defaultProps={tip:"unfade-layer",iconClass:"unfade",direction:.1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UploadTool=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=n(9),a=n(22),s=h(n(314)),u=h(n(114)),l=n(27),c=h(n(80)),f=n(81);function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function y(t){for(var e=t.getGeometry().flatCoordinates,n=0,r=e.length;n<r;n++)if(isNaN(e[n]))return!1;return!0}var m=function(t){function e(){return p(this,e),d(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return g(e,c.default),r(e,[{key:"close",value:function(t){"upload"===t?(this.setState({progress:"loading",withError:!1,features:0}),this.parseFiles()):this.setState({loading:!1}),this.props.onClose(t)}},{key:"getOptions",value:function(){switch(this.state.progress){case"loading":return[];case"finished":return[{label:"Close",value:"dismiss"}];default:return this.props.options}}},{key:"renderBody",value:function(){if("loading"===this.state.progress)return i.default.createElement("div",null,i.default.createElement("p",null,i.default.createElement("span",{className:"upload spinner"})," ",this.props.t("upload-uploading")));if("finished"===this.state.progress){var t=!1;return this.state.withError?t=i.default.createElement("p",null,this.props.t("upload-file-error")):this.state.invalid>0&&(t=i.default.createElement("p",null,this.props.t("upload-invalid-features",{count:this.state.invalid}))),i.default.createElement("div",null,i.default.createElement("p",null,this.props.t("upload-uploaded",{count:this.state.features})),t)}return i.default.createElement("div",null,i.default.createElement("p",null,this.props.t("upload-help")),i.default.createElement("p",null,i.default.createElement("input",{ref:"fileInput",type:"file",accept:".geojson,.json,.kml"})))}},{key:"parseFiles",value:function(){for(var t=this.refs.fileInput.files,e=new FileReader,n=this,r=0,i=t.length;r<i;r++){var o=t[r];e.onload=function(t){return function(e){var r=new u.default,i=null;if("kml"===String(t.name).toLowerCase().split(".").pop())i=new s.default;else try{JSON.parse(e.target.result),i=new u.default}catch(t){}if(null!==i){var o=i.readFeatures(e.target.result),a=[],l=0,c=!0,f=!1,h=void 0;try{for(var p,d=o[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;g.setGeometry(g.getGeometry().transform("EPSG:4326","EPSG:3857")),y(g)?a.push(g):l+=1}}catch(t){f=!0,h=t}finally{try{!c&&d.return&&d.return()}finally{if(f)throw h}}o=null;var m=r.writeFeaturesObject(a);n.props.onAddFeatures(m.features),n.setState({progress:"finished",features:n.state.features+m.features.length,invalid:l})}else n.setState({progress:"finished",features:0,withError:!0})}}(o),e.readAsText(o)}}}]),e}();m.defaultProps={title:"upload-title",options:[{label:"Cancel",value:"dismiss"},{label:"Okay",value:"upload"}]};var v=(0,a.withTranslation)()(m),_=e.UploadTool=function(t){function e(t){p(this,e);var n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={open:!1},n}return g(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this;return i.default.createElement(f.Tool,{tip:"upload-tip",iconClass:"upload",onClick:function(){t.setState({open:!0})}},!!this.state.open&&i.default.createElement(v,{open:!0,layer:this.props.layer,onClose:function(e){"dismiss"===e&&t.setState({open:!1})},onAddFeatures:function(e){var n=t.props.layer.src[0];t.props.onAddFeatures(n.mapSourceName,e)}}))}}]),e}();e.default=(0,o.connect)(void 0,(function(t){return{onAddFeatures:function(e,n){t((0,l.addFeatures)(e,n))}}}))(_)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomToTool=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(37),s=n(16),u=n(81),l=e.ZoomToTool=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this;return i.default.createElement(u.Tool,{tip:"zoomto-tip",iconClass:"zoomto",onClick:function(){var e=t.props.layer.src[0],n=(0,s.getFeaturesExtent)(t.props.mapSources[e.mapSourceName]);null!==n[0]&&t.props.onZoomTo(n)}})}}]),e}();e.default=(0,o.connect)((function(t){return{mapSources:t.mapSources}}),(function(t){return{onZoomTo:function(e){t((0,a.zoomToExtent)(e))}}}))(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(9),s=n(179),u=n(16),l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderLegend=n.renderLegend.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"htmlLegend",value:function(t){return{__html:t}}},{key:"renderLegend",value:function(t){var e=(0,s.getLegend)(this.props.mapSources[t.mapSourceName],this.props.mapView,t.layerName),n="legend_"+t.mapSourceName+"_"+t.layerName,r=0;switch(e.type){case"html":return o.default.createElement("div",{key:n,className:"legend-html",dangerouslySetInnerHTML:this.htmlLegend(e.html)});case"img":var i=[];r=0;var a=!0,u=!1,l=void 0;try{for(var c,f=e.images[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var h=c.value;i.push(o.default.createElement("img",{alt:"layer legend",key:n+r,className:"legend-image",src:h})),r+=1}}catch(t){u=!0,l=t}finally{try{!a&&f.return&&f.return()}finally{if(u)throw l}}return o.default.createElement("div",{key:n,className:"legend-images"}," ",i," ");case"nolegend":default:return!1}}},{key:"render",value:function(){var t=this.props.layer;return!!(0,u.isLayerOn)(this.props.mapSources,t)&&o.default.createElement("div",{className:"catalog-legend"},t.src.map(this.renderLegend))}}]),e}();e.default=(0,a.connect)((function(t){return{mapSources:t.mapSources,mapView:t.map}}))(l)},function(t,e,n){!function(){var e=n(670),r=n(322).utf8,i=n(671),o=n(322).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,f=-1732584194,h=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var d=a._ff,g=a._gg,y=a._hh,m=a._ii;for(p=0;p<s.length;p+=16){var v=l,_=c,b=f,w=h;c=m(c=m(c=m(c=m(c=y(c=y(c=y(c=y(c=g(c=g(c=g(c=g(c=d(c=d(c=d(c=d(c,f=d(f,h=d(h,l=d(l,c,f,h,s[p+0],7,-680876936),c,f,s[p+1],12,-389564586),l,c,s[p+2],17,606105819),h,l,s[p+3],22,-1044525330),f=d(f,h=d(h,l=d(l,c,f,h,s[p+4],7,-176418897),c,f,s[p+5],12,1200080426),l,c,s[p+6],17,-1473231341),h,l,s[p+7],22,-45705983),f=d(f,h=d(h,l=d(l,c,f,h,s[p+8],7,1770035416),c,f,s[p+9],12,-1958414417),l,c,s[p+10],17,-42063),h,l,s[p+11],22,-1990404162),f=d(f,h=d(h,l=d(l,c,f,h,s[p+12],7,1804603682),c,f,s[p+13],12,-40341101),l,c,s[p+14],17,-1502002290),h,l,s[p+15],22,1236535329),f=g(f,h=g(h,l=g(l,c,f,h,s[p+1],5,-165796510),c,f,s[p+6],9,-1069501632),l,c,s[p+11],14,643717713),h,l,s[p+0],20,-373897302),f=g(f,h=g(h,l=g(l,c,f,h,s[p+5],5,-701558691),c,f,s[p+10],9,38016083),l,c,s[p+15],14,-660478335),h,l,s[p+4],20,-405537848),f=g(f,h=g(h,l=g(l,c,f,h,s[p+9],5,568446438),c,f,s[p+14],9,-1019803690),l,c,s[p+3],14,-187363961),h,l,s[p+8],20,1163531501),f=g(f,h=g(h,l=g(l,c,f,h,s[p+13],5,-1444681467),c,f,s[p+2],9,-51403784),l,c,s[p+7],14,1735328473),h,l,s[p+12],20,-1926607734),f=y(f,h=y(h,l=y(l,c,f,h,s[p+5],4,-378558),c,f,s[p+8],11,-2022574463),l,c,s[p+11],16,1839030562),h,l,s[p+14],23,-35309556),f=y(f,h=y(h,l=y(l,c,f,h,s[p+1],4,-1530992060),c,f,s[p+4],11,1272893353),l,c,s[p+7],16,-155497632),h,l,s[p+10],23,-1094730640),f=y(f,h=y(h,l=y(l,c,f,h,s[p+13],4,681279174),c,f,s[p+0],11,-358537222),l,c,s[p+3],16,-722521979),h,l,s[p+6],23,76029189),f=y(f,h=y(h,l=y(l,c,f,h,s[p+9],4,-640364487),c,f,s[p+12],11,-421815835),l,c,s[p+15],16,530742520),h,l,s[p+2],23,-995338651),f=m(f,h=m(h,l=m(l,c,f,h,s[p+0],6,-198630844),c,f,s[p+7],10,1126891415),l,c,s[p+14],15,-1416354905),h,l,s[p+5],21,-57434055),f=m(f,h=m(h,l=m(l,c,f,h,s[p+12],6,1700485571),c,f,s[p+3],10,-1894986606),l,c,s[p+10],15,-1051523),h,l,s[p+1],21,-2054922799),f=m(f,h=m(h,l=m(l,c,f,h,s[p+8],6,1873313359),c,f,s[p+15],10,-30611744),l,c,s[p+6],15,-1560198380),h,l,s[p+13],21,1309151649),f=m(f,h=m(h,l=m(l,c,f,h,s[p+4],6,-145523070),c,f,s[p+11],10,-1120210379),l,c,s[p+2],15,718787259),h,l,s[p+9],21,-343485551),l=l+v>>>0,c=c+_>>>0,f=f+b>>>0,h=h+w>>>0}return e.endian([l,c,f,h])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n}()},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";n.r(e);var r=n(154);e.default=function(){for(var t=new r.GeoJSONReader,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=r.UnionOp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new r.GeoJSONWriter).write(e),properties:arguments[0].properties}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=u(n(143)),o=u(n(175)),a=n(13),s=n(78);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.featureNS_="http://mapserver.gis.umn.edu/mapserver",n.gmlFormat_=new i.default,n.layers_=r.layers?r.layers:null,n}return l(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var n=t.localName,i=[];if(0===t.childNodes.length)return i;if("msGMLOutput"==n)for(var o=0,a=t.childNodes.length;o<a;o++){var u=t.childNodes[o];if(u.nodeType===Node.ELEMENT_NODE){var l=u,c=e[0],f=l.localName.replace("_layer","");if(!this.layers_||(0,r.includes)(this.layers_,f)){var h=f+"_feature";c.featureType=h,c.featureNS=this.featureNS_;var p={};p[h]=(0,s.makeArrayPusher)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var d=(0,s.makeStructureNS)([c.featureNS,null],p);l.setAttribute("namespaceURI",this.featureNS_);var g=(0,s.pushParseAndPop)([],d,l,e,this.gmlFormat_);g&&(0,r.extend)(i,g)}}}if("FeatureCollection"==n){var y=(0,s.pushParseAndPop)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);y&&(i=y)}return i},e.prototype.readFeaturesFromNode=function(t,e){var n={};return e&&(0,a.assign)(n,this.getReadOptions(t,e)),this.readFeatures_(t,[n])},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=g(n(150)),o=n(4),a=n(67),s=n(5),u=g(n(331)),l=n(334),c=g(l),f=g(n(239)),h=n(240),p=n(36),d=n(336);function g(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=(0,o.createEmpty)(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return y(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];(0,p.makeScale)(this.pixelTransform,1/n,1/n),(0,p.makeInverse)(this.inversePixelTransform,this.pixelTransform);var a=(0,p.toString)(this.pixelTransform);this.useContainer(e,a,r.opacity);var u=this.context,c=u.canvas,f=this.replayGroup_;if(!f||f.isEmpty())return!this.containerReused&&c.width>0&&(c.width=0),this.container;var h=Math.round(t.size[0]*n),d=Math.round(t.size[1]*n);c.width!=h||c.height!=d?(c.width=h,c.height=d,c.style.transform!==a&&(c.style.transform=a)):this.containerReused||u.clearRect(0,0,h,d),this.preRender(u,t);var g=t.extent,y=t.viewState,m=y.center,v=y.resolution,_=y.projection,b=y.rotation,w=_.getExtent(),x=this.getLayer().getSource(),S=!1;if(r.extent){var E=(0,s.fromUserExtent)(r.extent,_);(S=!(0,o.containsExtent)(E,t.extent)&&(0,o.intersects)(E,t.extent))&&this.clip(u,t,E)}var O=t.viewHints,P=!(O[i.default.ANIMATING]||O[i.default.INTERACTING]),C=this.getRenderTransform(m,v,b,n,h,d,0),T=this.getLayer().getDeclutter()?{}:null;if(f.execute(u,C,b,P,void 0,T),x.getWrapX()&&_.canWrapX()&&!(0,o.containsExtent)(w,g)){for(var N=g[0],I=(0,o.getWidth)(w),M=0,A=void 0;N<w[0];){A=I*--M;var L=this.getRenderTransform(m,v,b,n,h,d,A);f.execute(u,L,b,P,void 0,T),N+=I}for(M=0,N=g[2];N>w[2];){A=I*++M;var R=this.getRenderTransform(m,v,b,n,h,d,A);f.execute(u,R,b,P,void 0,T),N-=I}}if(T){var k=t.viewHints,F=!(k[i.default.ANIMATING]||k[i.default.INTERACTING]);(0,l.replayDeclutter)(T,u,b,1,F,t.declutterItems)}S&&u.restore(),this.postRender(u,t);var j=r.opacity,D=this.container;return j!==parseFloat(D.style.opacity)&&(D.style.opacity=1===j?"":j),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e,n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];(0,p.apply)(this.pixelTransform,r);var i=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,u=this.renderedProjection_,l=this.renderedExtent_,c=this.getLayer(),f=[],h=r[0]/2,g=r[1]/2;f.push(this.getRenderTransform(i,a,s,.5,h,g,0).slice());var y=c.getSource(),m=u.getExtent();if(y.getWrapX()&&u.canWrapX()&&!(0,o.containsExtent)(m,l)){for(var v=l[0],_=(0,o.getWidth)(m),b=0,w=void 0;v<m[0];)w=_*--b,f.push(this.getRenderTransform(i,a,s,.5,h,g,w).slice()),v+=_;for(b=0,v=l[2];v>m[2];)w=_*++b,f.push(this.getRenderTransform(i,a,s,.5,h,g,w).slice()),v-=_}this.hitDetectionImageData_=(0,d.createHitDetectionImageData)(r,f,this.renderedFeatures_,c.getStyleFunction(),l,a,s)}e((0,d.hitDetect)(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,u=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,n,(function(t){var e=(0,r.getUid)(t);if(!(e in l))return l[e]=!0,i(t,u)}),u.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[i.default.ANIMATING],l=t.viewHints[i.default.INTERACTING],f=e.getUpdateWhileAnimating(),p=e.getUpdateWhileInteracting();if(!this.dirty_&&!f&&r||!p&&l)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=t.extent,g=t.viewState,y=g.projection,m=g.resolution,v=t.pixelRatio,_=e.getRevision(),b=e.getRenderBuffer(),w=e.getRenderOrder();void 0===w&&(w=h.defaultOrder);var x=g.center.slice(),S=(0,o.buffer)(d,b*m),E=[S.slice()],O=y.getExtent();if(n.getWrapX()&&y.canWrapX()&&!(0,o.containsExtent)(O,t.extent)){var P=(0,o.getWidth)(O),C=Math.max((0,o.getWidth)(S)/2,P);S[0]=O[0]-C,S[2]=O[2]+C,(0,a.wrapX)(x,y);var T=(0,o.wrapX)(E[0],y);T[0]<O[0]&&T[2]<O[2]?E.push([T[0]+P,T[1],T[2]+P,T[3]]):T[0]>O[0]&&T[2]>O[2]&&E.push([T[0]-P,T[1],T[2]-P,T[3]])}if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==_&&this.renderedRenderOrder_==w&&(0,o.containsExtent)(this.renderedExtent_,S))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var N,I=new u.default((0,h.getTolerance)(m,v),S,m,v,e.getDeclutter()),M=(0,s.getUserProjection)();if(M){for(var A=0,L=E.length;A<L;++A)n.loadFeatures((0,s.toUserExtent)(E[A],y),m,M);N=(0,s.getTransformFromProjections)(M,y)}else for(A=0,L=E.length;A<L;++A)n.loadFeatures(E[A],m,y);var R=(0,h.getSquaredTolerance)(m,v),k=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,m)),n){var i=this.renderFeature(t,R,n,I,N);this.dirty_=this.dirty_||i}}.bind(this),F=(0,s.toUserExtent)(S,y),j=n.getFeaturesInExtent(F);for(w&&j.sort(w),A=0,L=j.length;A<L;++A)k(j[A]);this.renderedFeatures_=j;var D=I.finish(),U=new c.default(S,m,v,n.getOverlaps(),D,e.getRenderBuffer());return this.renderedResolution_=m,this.renderedRevision_=_,this.renderedRenderOrder_=w,this.renderedExtent_=S,this.renderedRotation_=g.rotation,this.renderedCenter_=x,this.renderedProjection_=y,this.replayGroup_=U,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=(0,h.renderFeature)(r,t,n[a],e,this.boundHandleStyleImageChange_,i)||o;else o=(0,h.renderFeature)(r,t,n,e,this.boundHandleStyleImageChange_,i);return o},e}(f.default);e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(133)),i=o(n(151));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return a(e,t),e.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r.default.DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r.default.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(i.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(133),i=a(r),o=a(n(151));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return s(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var o=this.coordinates.length,a=this.appendFlatCoordinates(t,e,n,r,!1,!1),s=[i.default.MOVE_TO_LINE_TO,o,a];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(void 0!==o&&void 0!==a){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.beginPathInstruction);var s=t.getFlatCoordinates(),u=t.getStride();this.drawFlatCoordinates_(s,0,s.length,u),this.hitDetectionInstructions.push(r.strokeInstruction),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(void 0!==o&&void 0!==a){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([i.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],r.beginPathInstruction);for(var s=t.getEnds(),u=t.getFlatCoordinates(),l=t.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinates_(u,c,s[f],l);this.hitDetectionInstructions.push(r.strokeInstruction),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(r.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(r.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(r.beginPathInstruction)},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(129),i=n(58),o=n(133),a=u(o),s=u(n(151));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return l(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,s=void 0!==i.fillStyle,u=void 0!==i.strokeStyle,l=n.length;this.instructions.push(o.beginPathInstruction),this.hitDetectionInstructions.push(o.beginPathInstruction);for(var c=0;c<l;++c){var f=n[c],h=this.coordinates.length,p=this.appendFlatCoordinates(t,e,f,r,!0,!u),d=[a.default.MOVE_TO_LINE_TO,h,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),u&&(this.instructions.push(o.closePathInstruction),this.hitDetectionInstructions.push(o.closePathInstruction)),e=f}return s&&(this.instructions.push(o.fillInstruction),this.hitDetectionInstructions.push(o.fillInstruction)),u&&(this.instructions.push(o.strokeInstruction),this.hitDetectionInstructions.push(o.strokeInstruction)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,s=n.strokeStyle;if(void 0!==r||void 0!==s){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,i.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var u=t.getFlatCoordinates(),l=t.getStride(),c=this.coordinates.length;this.appendFlatCoordinates(u,0,u.length,l,!1,!1);var f=[a.default.CIRCLE,c];this.instructions.push(o.beginPathInstruction,f),this.hitDetectionInstructions.push(o.beginPathInstruction,f),void 0!==n.fillStyle&&(this.instructions.push(o.fillInstruction),this.hitDetectionInstructions.push(o.fillInstruction)),void 0!==n.strokeStyle&&(this.instructions.push(o.strokeInstruction),this.hitDetectionInstructions.push(o.strokeInstruction)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,i.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=t.getEnds(),u=t.getOrientedFlatCoordinates(),l=t.getStride();this.drawFlatCoordinatess_(u,0,s,l),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([a.default.SET_FILL_STYLE,i.defaultFillStyle]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([a.default.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var s=t.getEndss(),u=t.getOrientedFlatCoordinates(),l=t.getStride(),c=0,f=0,h=s.length;f<h;++f)c=this.drawFlatCoordinatess_(u,c,s[f],l);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=(0,r.snap)(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(s.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchingChunk=function(t,e,n,r,i){var o,a,s,u,l,c,f,h,p,d=n,g=n,y=0,m=0,v=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==u&&(h=_-u,p=b-l,s=Math.sqrt(h*h+p*p),void 0!==c&&(m+=a,Math.acos((c*h+f*p)/(a*s))>t&&(m>y&&(y=m,d=v,g=o),m=0,v=o-i)),a=s,c=h,f=p),u=_,l=b}return(m+=s)>y?[v,o]:[d,g]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=n(4),o=n(302),a=n(680),s=n(115),u=n(58),l=d(n(133)),c=n(333),f=n(36),h=d(n(327)),p=n(82);function d(t){return t&&t.__esModule?t:{default:t}}var g=(0,i.createEmpty)(),y=(0,f.create)(),m=[],v=[],_=[],b=[],w=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.declutterItems=[],this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=(0,f.create)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],l=this.pixelRatio,f=s.scale*l,h=c.TEXT_ALIGN[s.textAlign||u.defaultTextAlign],d=r&&o.lineWidth?o.lineWidth:0,g=t.split("\n"),y=g.length,m=[],v=(0,u.measureTextWidths)(s.font,g,m),_=(0,u.measureTextHeight)(s.font),b=_*y,w=v+d,x=[],S={width:Math.ceil((w+2)*f),height:Math.ceil((b+d)*f),contextInstructions:x};1!=f&&x.push("scale",[f,f]),x.push("font",s.font),r&&(x.push("strokeStyle",o.strokeStyle),x.push("lineWidth",d),x.push("lineCap",o.lineCap),x.push("lineJoin",o.lineJoin),x.push("miterLimit",o.miterLimit),(p.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(x.push("setLineDash",[o.lineDash]),x.push("lineDashOffset",o.lineDashOffset))),n&&x.push("fillStyle",a.fillStyle),x.push("textBaseline","middle"),x.push("textAlign","center");var E,O=.5-h,P=h*w+O*d;if(r)for(E=0;E<y;++E)x.push("strokeText",[g[E],P+O*m[E],.5*(d+_)+E*_]);if(n)for(E=0;E<y;++E)x.push("fillText",[g[E],P+O*m[E],.5*(d+_)+E*_]);return this.labels_[i]=S,S},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.replayImageOrLabel_=function(t,e,n,r,o,a,s,l,c,h,p,d,w,x,S,E,O,P){var C=O||P;e-=o*=w,n-=a*=w;var T=S+h>r.width?r.width-h:S,N=l+p>r.height?r.height-p:l,I=E[3]+T*w+E[1],M=E[0]+N*w+E[2],A=e-E[3],L=n-E[0];(C||0!==d)&&(m[0]=A,b[0]=A,m[1]=L,v[1]=L,v[0]=A+I,_[0]=v[0],_[1]=L+M,b[1]=_[1]);var R=null;if(0!==d){var k=e+o,F=n+a;R=(0,f.compose)(y,k,F,1,1,d,-k,-F),(0,f.apply)(y,m),(0,f.apply)(y,v),(0,f.apply)(y,_),(0,f.apply)(y,b),(0,i.createOrUpdate)(Math.min(m[0],v[0],_[0],b[0]),Math.min(m[1],v[1],_[1],b[1]),Math.max(m[0],v[0],_[0],b[0]),Math.max(m[1],v[1],_[1],b[1]),g)}else(0,i.createOrUpdate)(A,L,A+I,L+M,g);var j=t.canvas,D=P?P[2]*w/2:0,U=g[0]-D<=j.width&&g[2]+D>=0&&g[1]-D<=j.height&&g[3]+D>=0;if(x&&(e=Math.round(e),n=Math.round(n)),s){if(!U&&1==s[4])return;(0,i.extend)(s,g);var G=U?[t,R?R.slice(0):null,c,r,h,p,T,N,e,n,w]:null;G&&(C&&G.push(O,P,m.slice(0),v.slice(0),_.slice(0),b.slice(0)),s.push(G))}else U&&(C&&this.replayTextBackground_(t,m,v,_,b,O,P),(0,u.drawImageOrLabel)(t,R,c,r,h,p,T,N,e,n,w))},t.prototype.fill_=function(t){if(this.alignFill_){var e=(0,f.apply)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.renderDeclutter=function(t,e,n,r){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var a={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(r||(r=new h.default(9)),!r.collides(a)){r.insert(a);for(var s=5,l=t.length;s<l;++s){var c=t[s],f=c[0],p=f.globalAlpha;p!==n&&(f.globalAlpha=n),c.length>11&&this.replayTextBackground_(c[0],c[13],c[14],c[15],c[16],c[11],c[12]),u.drawImageOrLabel.apply(void 0,c),p!==n&&(f.globalAlpha=p)}}t.length=5,(0,i.createOrUpdateEmpty)(t)}}return r},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,l=c.TEXT_ALIGN[i.textAlign||u.defaultTextAlign],f=c.TEXT_ALIGN[i.textBaseline||u.defaultTextBaseline],h=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale)+2*(.5-l)*h,anchorY:f*o.height/s+2*(.5-f)*h}},t.prototype.execute_=function(t,e,n,h,p,d){var g;this.declutterItems.length=0,this.pixelCoordinates_&&(0,r.equals)(e,this.renderedTransform_)?g=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),g=(0,s.transform2D)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,f.setFromArray)(this.renderedTransform_,e));for(var y,m,v,_,b,w,x,S,E,O,P,C,T,N,I,M,A,L=0,R=n.length,k=0,F=0,j=0,D=null,U=null,G=this.coordinateCache_,z=this.viewRotation_,B=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,q={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:z},V=this.instructions!=n||this.overlaps?0:200;L<R;){var Y=n[L];switch(Y[0]){case l.default.BEGIN_GEOMETRY:(I=Y[1]).getGeometry()?void 0===d||(0,i.intersects)(d,Y[3])?++L:L=Y[2]+1:L=Y[2];break;case l.default.BEGIN_PATH:F>V&&(this.fill_(t),F=0),j>V&&(t.stroke(),j=0),F||j||(t.beginPath(),_=NaN,b=NaN),++L;break;case l.default.CIRCLE:var H=g[k=Y[1]],W=g[k+1],X=g[k+2]-H,K=g[k+3]-W,Z=Math.sqrt(X*X+K*K);t.moveTo(H+Z,W),t.arc(H,W,Z,0,2*Math.PI,!0),++L;break;case l.default.CLOSE_PATH:t.closePath(),++L;break;case l.default.CUSTOM:k=Y[1],y=Y[2];var J=Y[3],Q=Y[4],$=6==Y.length?Y[5]:void 0;q.geometry=J,q.feature=I,L in G||(G[L]=[]);var tt=G[L];$?$(g,k,y,2,tt):(tt[0]=g[k],tt[1]=g[k+1],tt.length=2),Q(tt,q),++L;break;case l.default.DRAW_IMAGE:k=Y[1],y=Y[2],O=Y[3],m=Y[4],v=Y[5],E=p?null:Y[6];var et=Y[7],nt=Y[8],rt=Y[9],it=Y[10],ot=Y[11],at=Y[12],st=Y[13],ut=Y[14];if(!O&&Y.length>=19){P=Y[18],C=Y[19],T=Y[20],N=Y[21];var lt=this.drawLabelWithPointPlacement_(P,C,T,N);O=lt.label,Y[3]=O;var ct=Y[22];m=(lt.anchorX-ct)*this.pixelRatio,Y[4]=m;var ft=Y[23];v=(lt.anchorY-ft)*this.pixelRatio,Y[5]=v,et=O.height,Y[7]=et,ut=O.width,Y[14]=ut}var ht=void 0;Y.length>24&&(ht=Y[24]);var pt=void 0,dt=void 0,gt=void 0;Y.length>16?(pt=Y[15],dt=Y[16],gt=Y[17]):(pt=u.defaultPadding,dt=!1,gt=!1),ot&&B?at+=z:ot||B||(at-=z);for(var yt=0,mt=0;k<y;k+=2)if(!(ht&&ht[yt++]<ut/this.pixelRatio)){if(E){var vt=Math.floor(mt);E.length<vt+1&&((S=(0,i.createEmpty)()).push(E[0][4]),E.push(S)),S=E[vt]}this.replayImageOrLabel_(t,g[k],g[k+1],O,m,v,S,et,nt,rt,it,at,st,h,ut,pt,dt?D:null,gt?U:null),S&&(mt===Math.floor(mt)&&this.declutterItems.push(this,S,I),mt+=1/S[4])}++L;break;case l.default.DRAW_CHARS:var _t=Y[1],bt=Y[2],wt=Y[3];S=p?null:Y[4];var xt=Y[5];N=Y[6];var St=Y[7],Et=Y[8],Ot=Y[9];T=Y[10];var Pt=Y[11];P=Y[12],C=Y[13];var Ct=Y[14],Tt=this.textStates[C],Nt=Tt.font,It=Tt.scale*Et,Mt=void 0;Nt in this.widths_?Mt=this.widths_[Nt]:(Mt={},this.widths_[Nt]=Mt);var At=(0,o.lineStringLength)(g,_t,bt,2),Lt=It*(0,u.measureAndCacheTextWidth)(Nt,P,Mt);if(xt||Lt<=At){var Rt=this.textStates[C].textAlign,kt=(At-Lt)*c.TEXT_ALIGN[Rt],Ft=(0,a.drawTextOnPath)(g,_t,bt,2,P,kt,St,It,u.measureAndCacheTextWidth,Nt,Mt);if(Ft){var jt=void 0,Dt=void 0,Ut=void 0,Gt=void 0,zt=void 0;if(T)for(jt=0,Dt=Ft.length;jt<Dt;++jt)Ut=(zt=Ft[jt])[4],Gt=this.createLabel(Ut,C,"",T),m=zt[2]+Pt,v=wt*Gt.height+2*(.5-wt)*Pt-Ot,this.replayImageOrLabel_(t,zt[0],zt[1],Gt,m,v,S,Gt.height,1,0,0,zt[3],Ct,!1,Gt.width,u.defaultPadding,null,null);if(N)for(jt=0,Dt=Ft.length;jt<Dt;++jt)Ut=(zt=Ft[jt])[4],Gt=this.createLabel(Ut,C,N,""),m=zt[2],v=wt*Gt.height-Ot,this.replayImageOrLabel_(t,zt[0],zt[1],Gt,m,v,S,Gt.height,1,0,0,zt[3],Ct,!1,Gt.width,u.defaultPadding,null,null)}}this.declutterItems.push(this,S,I),++L;break;case l.default.END_GEOMETRY:if(void 0!==p){var Bt=p(I=Y[1]);if(Bt)return Bt}++L;break;case l.default.FILL:V?F++:this.fill_(t),++L;break;case l.default.MOVE_TO_LINE_TO:for(k=Y[1],y=Y[2],M=g[k],x=(A=g[k+1])+.5|0,(w=M+.5|0)===_&&x===b||(t.moveTo(M,A),_=w,b=x),k+=2;k<y;k+=2)w=(M=g[k])+.5|0,x=(A=g[k+1])+.5|0,k!=y-2&&w===_&&x===b||(t.lineTo(M,A),_=w,b=x);++L;break;case l.default.SET_FILL_STYLE:D=Y,this.alignFill_=Y[2],F&&(this.fill_(t),F=0,j&&(t.stroke(),j=0)),t.fillStyle=Y[1],++L;break;case l.default.SET_STROKE_STYLE:U=Y,j&&(t.stroke(),j=0),this.setStrokeStyle_(t,Y),++L;break;case l.default.STROKE:V?j++:t.stroke(),++L;break;default:++L}}F&&this.fill_(t),j&&t.stroke()},t.prototype.execute=function(t,e,n,r){this.viewRotation_=n,this.execute_(t,e,this.instructions,r,void 0,void 0)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,r,i)},t}();e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTextOnPath=function(t,e,n,i,o,a,s,u,l,c,f){for(var h,p,d=[],g=t[e]>t[n-i],y=o.length,m=t[e],v=t[e+1],_=t[e+=i],b=t[e+1],w=0,x=Math.sqrt(Math.pow(_-m,2)+Math.pow(b-v,2)),S=!1,E=0;E<y;++E){for(var O=o[h=g?y-E-1:E],P=u*l(c,O,f),C=a+P/2;e<n-i&&w+x<C;)m=_,v=b,_=t[e+=i],b=t[e+1],w+=x,x=Math.sqrt(Math.pow(_-m,2)+Math.pow(b-v,2));var T=C-w,N=Math.atan2(b-v,_-m);if(g&&(N+=N>0?-Math.PI:Math.PI),void 0!==p){var I=N-p;if(S=S||0!==I,I+=I>Math.PI?-2*Math.PI:I<-Math.PI?2*Math.PI:0,Math.abs(I)>s)return null}p=N;var M=T/x,A=(0,r.lerp)(m,_,M),L=(0,r.lerp)(v,b,M);d[h]=[A,L,P/2,N,O],a+=P}return S?d:[[d[0][0],d[0][1],d[0][2],d[0][3],o]]};var r=n(19)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=u(n(91)),o=u(n(218)),a=u(n(8)),s=u(n(92));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return l(e,t),e.prototype.getFeatures=function(t){return(0,r.abstract)()},e.prototype.prepareFrame=function(t){return(0,r.abstract)()},e.prototype.renderFrame=function(t,e){return(0,r.abstract)()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return(0,r.abstract)()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===i.default.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=i.default.LOADED&&e!=i.default.ERROR&&t.addEventListener(a.default.CHANGE,this.boundHandleImageChange_),e==i.default.IDLE&&(t.load(),e=t.getState()),e==i.default.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==s.default.READY&&t.changed()},e}(o.default);e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtent=function(t,e,n){return function(i,o,a,s){if(i){var u=e?0:a[0]*o,l=e?0:a[1]*o,c=t[0]+u/2,f=t[2]-u/2,h=t[1]+l/2,p=t[3]-l/2;c>f&&(f=c=(f+c)/2),h>p&&(p=h=(p+h)/2);var d=(0,r.clamp)(i[0],c,f),g=(0,r.clamp)(i[1],h,p),y=30*o;return s&&n&&(d+=-y*Math.log(1+Math.max(0,c-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-f)/y),g+=-y*Math.log(1+Math.max(0,h-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-p)/y)),[d,g]}}},e.none=function(t){return t};var r=n(19)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSnapToResolutions=function(t,e,n,i){return function(u,l,c,f){if(void 0!==u){var h=t[0],p=t[t.length-1],d=n?a(h,n,c,i):h;if(f)return void 0===e||e?s(u,d,p):(0,o.clamp)(u,p,d);var g=Math.min(d,u),y=Math.floor((0,r.linearFindNearest)(t,g,l));return t[y]>d&&y<t.length-1?t[y+1]:t[y]}}},e.createSnapToPower=function(t,e,n,r,i,u){return function(l,c,f,h){if(void 0!==l){var p=i?a(e,i,f,u):e,d=void 0!==n?n:0;if(h)return void 0===r||r?s(l,p,d):(0,o.clamp)(l,d,p);var g=Math.ceil(Math.log(e/p)/Math.log(t)-1e-9),y=-c*(.5-1e-9)+.5,m=Math.min(p,l),v=Math.floor(Math.log(e/m)/Math.log(t)+y),_=Math.max(g,v),b=e/Math.pow(t,_);return(0,o.clamp)(b,d,p)}}},e.createMinMaxResolution=function(t,e,n,r,i){return function(u,l,c,f){if(void 0!==u){var h=r?a(t,r,c,i):t;return(void 0===n||n)&&f?s(u,h,e):(0,o.clamp)(u,e,h)}}};var r=n(14),i=n(4),o=n(19);function a(t,e,n,r){var o=(0,i.getWidth)(e)/n[0],a=(0,i.getHeight)(e)/n[1];return r?Math.min(t,Math.max(o,a)):Math.min(t,Math.min(o,a))}function s(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),(0,o.clamp)(r,n/2,2*e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(243);var r=n(82),i=c(n(94)),o=c(n(345)),a=n(24),s=c(n(128)),u=c(n(244)),l=c(n(8));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n){var i=t.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*r.DEVICE_PIXEL_RATIO:r.DEVICE_PIXEL_RATIO,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=(0,a.listen)(o,u.default.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=(0,a.listen)(o,u.default.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(l.default.TOUCHMOVE,i.boundHandleTouchMove_,!!r.PASSIVE_EVENT_LISTENERS&&{passive:!1}),i}return f(e,t),e.prototype.emulateClick_=function(t){var e=new o.default(i.default.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new o.default(i.default.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new o.default(i.default.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==i.default.POINTERUP||e.type==i.default.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==i.default.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new o.default(i.default.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new o.default(i.default.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push((0,a.listen)(document,i.default.POINTERMOVE,this.handlePointerMove_,this),(0,a.listen)(document,i.default.POINTERUP,this.handlePointerUp_,this),(0,a.listen)(this.element_,i.default.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new o.default(i.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new o.default(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,a.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(l.default.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&((0,a.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(s.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTilePriority=function(t,e,n,r,i){if(!(t&&n in t.wantedTiles))return o.DROP;if(!t.wantedTiles[n][e.getKey()])return o.DROP;var a=t.viewState.center,s=r[0]-a[0],u=r[1]-a[1];return 65536*Math.log(i)+Math.sqrt(s*s+u*u)/i};var r=s(n(60)),i=s(n(8)),o=n(686),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return u(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(i.default.CHANGE,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===r.default.LOADED||n===r.default.ERROR||n===r.default.EMPTY){e.removeEventListener(i.default.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o=0;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=(n=this.dequeue()[0]).getKey(),n.getState()!==r.default.IDLE||i in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[i]=!0,++this.tilesLoading_,++o,n.load())},e}(a.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DROP=void 0;var r=n(18),i=n(13),o=e.DROP=1/0,a=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,i.clear)(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){(0,r.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,a=this.priorities_,s=0,u=i.length;for(e=0;e<u;++e)(n=r(t=i[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=n,i[s++]=t);i.length=s,a.length=s,this.heapify_()},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=g(n(66)),o=g(n(120)),a=n(30),s=g(n(127)),u=n(18),l=n(24),c=g(n(8)),f=n(4),h=g(n(329)),p=n(13),d=g(n(92));function g(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m={LAYERS:"layers"},v=function(t){function e(e){var n=this,r=e||{},o=(0,p.assign)({},r);delete o.layers;var s=r.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener((0,a.getChangeEventType)(m.LAYERS),n.handleLayersChanged_),s?Array.isArray(s)?s=new i.default(s.slice(),{unique:!0}):(0,u.assert)("function"==typeof s.getArray,43):s=new i.default(void 0,{unique:!0}),n.setLayers(s),n}return y(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(l.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,l.listen)(t,o.default.ADD,this.handleLayersAdd_,this),(0,l.listen)(t,o.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(l.unlistenByKey);(0,p.clear)(this.listenerKeys_);for(var n=t.getArray(),i=0,a=n.length;i<a;i++){var u=n[i];this.listenerKeys_[(0,r.getUid)(u)]=[(0,l.listen)(u,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.listen)(u,c.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,r.getUid)(e)]=[(0,l.listen)(e,s.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,l.listen)(e,c.default.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,r.getUid)(e);this.listenerKeys_[n].forEach(l.unlistenByKey),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(m.LAYERS)},e.prototype.setLayers=function(t){this.set(m.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var r=this.getLayerState(),i=n,o=e.length;i<o;i++){var a=e[i];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==a.extent?a.extent=(0,f.getIntersection)(a.extent,r.extent):a.extent=r.extent)}return e},e.prototype.getSourceState=function(){return d.default.READY},e}(h.default);e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomToExtent=e.ZoomSlider=e.Zoom=e.ScaleLine=e.Rotate=e.OverviewMap=e.MousePosition=e.FullScreen=e.Control=e.Attribution=void 0;var r=n(689);Object.defineProperty(e,"Attribution",{enumerable:!0,get:function(){return m(r).default}});var i=n(68);Object.defineProperty(e,"Control",{enumerable:!0,get:function(){return m(i).default}});var o=n(690);Object.defineProperty(e,"FullScreen",{enumerable:!0,get:function(){return m(o).default}});var a=n(691);Object.defineProperty(e,"MousePosition",{enumerable:!0,get:function(){return m(a).default}});var s=n(692);Object.defineProperty(e,"OverviewMap",{enumerable:!0,get:function(){return m(s).default}});var u=n(349);Object.defineProperty(e,"Rotate",{enumerable:!0,get:function(){return m(u).default}});var l=n(339);Object.defineProperty(e,"ScaleLine",{enumerable:!0,get:function(){return m(l).default}});var c=n(696);Object.defineProperty(e,"Zoom",{enumerable:!0,get:function(){return m(c).default}});var f=n(697);Object.defineProperty(e,"ZoomSlider",{enumerable:!0,get:function(){return m(f).default}});var h=n(698);Object.defineProperty(e,"ZoomToExtent",{enumerable:!0,get:function(){return m(h).default}}),e.defaults=function(t){var e=t||{},n=new p.default;return(void 0===e.zoom||e.zoom)&&n.push(new y.default(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new g.default(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new d.default(e.attributionOptions)),n};var p=m(n(66)),d=m(r),g=m(u),y=m(c);function m(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=h;var r=n(14),i=l(n(68)),o=n(59),a=n(32),s=l(n(8)),u=n(132);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||h,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",a=void 0!==r.tipLabel?r.tipLabel:"Attributions",u=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof u?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=u):n.collapseLabel_=u;var l=void 0!==r.label?r.label:"i";"string"==typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=a,f.appendChild(c),f.addEventListener(s.default.CLICK,n.handleClick_.bind(n),!1);var p=i+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL+(n.collapsed_&&n.collapsible_?" "+o.CLASS_COLLAPSED:"")+(n.collapsible_?"":" ol-uncollapsible"),d=n.element;return d.className=p,d.appendChild(n.ulElement_),d.appendChild(f),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return c(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=0,o=r.length;i<o;++i){var a=r[i];if((0,u.inView)(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var c=l(t);if(c)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var f=0,h=c.length;f<h;++f)c[f]in e||(n.push(c[f]),e[c[f]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,r.equals)(e,this.renderedAttributions_)){(0,a.removeChildren)(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var s=document.createElement("li");s.innerHTML=e[i],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.CLASS_COLLAPSED),this.collapsed_?(0,a.replaceNode)(this.collapseLabel_,this.label_):(0,a.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(i.default);function h(t){this.updateElement_(t.frameState)}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(68)),i=n(59),o=n(32),a=n(24),s=u(n(8));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],f=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),target:r.target})||this).cssClassName_=void 0!==r.className?r.className:"ol-full-screen";var o=void 0!==r.label?r.label:"";n.labelNode_="string"==typeof o?document.createTextNode(o):o;var a=void 0!==r.labelActive?r.labelActive:"";n.labelActiveNode_="string"==typeof a?document.createTextNode(a):a,n.button_=document.createElement("button");var u=r.tipLabel?r.tipLabel:"Toggle full-screen";n.setClassName_(n.button_,p()),n.button_.setAttribute("type","button"),n.button_.title=u,n.button_.appendChild(n.labelNode_),n.button_.addEventListener(s.default.CLICK,n.handleClick_.bind(n),!1);var l=n.cssClassName_+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL+" "+(h()?"":i.CLASS_UNSUPPORTED),c=n.element;return c.className=l,c.appendChild(n.button_),n.keys_=void 0!==r.keys&&r.keys,n.source_=r.source,n}return l(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(h()){var t=this.getMap();if(t)if(p())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var e;e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?function(t){t.webkitRequestFullscreen?t.webkitRequestFullscreen():d(t)}(e):d(e)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();p()?(this.setClassName_(this.button_,!0),(0,o.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):(this.setClassName_(this.button_,!1),(0,o.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",r=this.cssClassName_+"-false",i=e?n:r;t.classList.remove(n),t.classList.remove(r),t.classList.add(i)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e)for(var n=0,r=c.length;n<r;++n)this.listenerKeys.push((0,a.listen)(document,c[n],this.handleFullScreenChange_,this))},e}(r.default);function h(){var t=document.body;return!!(t.webkitRequestFullscreen||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function p(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function d(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=h,n(243);var r=n(24),i=u(n(244)),o=n(30),a=u(n(68)),s=n(5);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c="projection",f=function(t){function e(e){var n=this,r=e||{},i=document.createElement("div");return i.className=void 0!==r.className?r.className:"ol-mouse-position",(n=t.call(this,{element:i,render:r.render||h,target:r.target})||this).addEventListener((0,o.getChangeEventType)(c),n.handleProjectionChanged_),r.coordinateFormat&&n.setCoordinateFormat(r.coordinateFormat),r.projection&&n.setProjection(r.projection),n.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",n.renderOnMouseOut_=!!n.undefinedHTML_,n.renderedHTML_=i.innerHTML,n.mapProjection_=null,n.transform_=null,n}return l(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},e.prototype.getProjection=function(){return this.get(c)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var n=e.getViewport();this.listenerKeys.push((0,r.listen)(n,i.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,r.listen)(n,i.default.POINTEROUT,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set("coordinateFormat",t)},e.prototype.setProjection=function(t){this.set(c,(0,s.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?(0,s.getTransformFromProjections)(this.mapProjection_,n):s.identityTransform}var r=this.getMap().getCoordinateFromPixelInternal(t);if(r){var i=(0,s.getUserProjection)();i&&(this.transform_=(0,s.getTransformFromProjections)(this.mapProjection_,i)),this.transform_(r,r);var o=this.getCoordinateFormat();e=o?o(r):r.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(a.default);function h(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=E;var r=b(n(342)),i=b(n(347)),o=b(n(181)),a=b(n(346)),s=n(30),u=b(n(127)),l=b(n(695)),c=b(n(348)),f=b(n(340)),h=b(n(68)),p=n(35),d=n(59),g=n(32),y=n(24),m=b(n(8)),v=n(4),_=b(n(152));function b(t){return t&&t.__esModule?t:{default:t}}var w=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default),S=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||E,target:r.target})||this).boundHandleRotationChanged_=n.handleRotationChanged_.bind(n),n.collapsed_=void 0===r.collapsed||r.collapsed,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1),n.rotateWithView_=void 0!==r.rotateWithView&&r.rotateWithView,n.viewExtent_=void 0;var i=void 0!==r.className?r.className:"ol-overviewmap",o=void 0!==r.tipLabel?r.tipLabel:"Overview map",a=void 0!==r.collapseLabel?r.collapseLabel:"";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=o,f.appendChild(u),f.addEventListener(m.default.CLICK,n.handleClick_.bind(n),!1),n.ovmapDiv_=document.createElement("div"),n.ovmapDiv_.className="ol-overviewmap-map",n.view_=r.view,n.ovmap_=new x({view:r.view});var h=n.ovmap_;r.layers&&r.layers.forEach((function(t){h.addLayer(t)}));var p=document.createElement("div");p.className="ol-overviewmap-box",p.style.boxSizing="border-box",n.boxOverlay_=new l.default({position:[0,0],positioning:c.default.CENTER_CENTER,element:p}),n.ovmap_.addOverlay(n.boxOverlay_);var g=i+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(n.collapsed_&&n.collapsible_?" "+d.CLASS_COLLAPSED:"")+(n.collapsible_?"":" ol-uncollapsible"),y=n.element;y.className=g,y.appendChild(n.ovmapDiv_),y.appendChild(f);var v=n,_=n.boxOverlay_,b=function(t){var e=function(t){return{clientX:t.clientX,clientY:t.clientY}}(t),n=h.getEventCoordinateInternal(e);_.setPosition(n)},w=function t(e){var n=h.getEventCoordinateInternal(e);v.getMap().getView().setCenterInternal(n),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",t)};return n.boxOverlay_.getElement().addEventListener("mousedown",(function(){window.addEventListener("mousemove",b),window.addEventListener("mouseup",w)})),n}return w(e,t),e.prototype.setMap=function(e){var n=this.getMap();if(e!==n){if(n){var r=n.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,y.listen)(e,u.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var i=e.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===a.default.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var n=this.getMap().getView();this.bindView_(n)}},e.prototype.bindView_=function(t){if(!this.view_){var e=new _.default({projection:t.getProjection()});this.ovmap_.setView(e)}t.addEventListener((0,s.getChangeEventType)(f.default.ROTATION),this.boundHandleRotationChanged_),this.handleRotationChanged_()},e.prototype.unbindView_=function(t){t.removeEventListener((0,s.getChangeEventType)(f.default.ROTATION),this.boundHandleRotationChanged_)},e.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),r=t.getView().calculateExtentInternal(n);if(!this.viewExtent_||!(0,v.equals)(r,this.viewExtent_)){this.viewExtent_=r;var i=e.getSize(),o=e.getView().calculateExtentInternal(i),a=e.getPixelFromCoordinateInternal((0,v.getTopLeft)(r)),s=e.getPixelFromCoordinateInternal((0,v.getBottomRight)(r)),u=Math.abs(a[0]-s[0]),l=Math.abs(a[1]-s[1]),c=i[0],f=i[1];u<.1*c||l<.1*f||u>.75*c||l>.75*f?this.resetExtent_():(0,v.containsExtent)(o,r)||this.recenter_()}}},e.prototype.resetExtent_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getSize(),r=t.getView().calculateExtentInternal(n),i=e.getView(),o=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,o/2));(0,v.scaleFromCenter)(r,a),i.fitInternal((0,p.fromExtent)(r))},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getView();e.getView().setCenterInternal(n.getCenterInternal())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),r=t.getView(),i=e.getView(),o=this.rotateWithView_?0:-r.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),u=r.getCenterInternal(),l=r.getResolution(),c=i.getResolution(),f=n[0]*l/c,h=n[1]*l/c;if(a.setPosition(u),s){s.style.width=f+"px",s.style.height=h+"px";var p="rotate("+o+"rad)";s.style.transform=p}}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED),this.collapsed_?(0,g.replaceNode)(this.collapseLabel_,this.label_):(0,g.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),(0,y.listenOnce)(t,o.default.POSTRENDER,(function(t){this.updateBox_()}),this)}},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(h.default);function E(t){this.validateExtent_(),this.updateBox_()}e.default=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=function(t){return t&&t.__esModule?t:{default:t}}(n(219)),o=n(4),a=n(29),s=n(132),u=n(316),l=n(36),c=n(694),f=n(67),h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return h(e,t),e.prototype.dispatchRenderEvent=function(t,e){(0,r.abstract)()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;(0,l.compose)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,l.makeInverse)(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,a,u,l){var c,h=e.viewState;function p(t,e,n){return i.call(a,e,t?n:null)}var d=h.projection,g=(0,f.wrapX)(t.slice(),d),y=[[0,0]];if(d.canWrapX()&&r){var m=d.getExtent(),v=(0,o.getWidth)(m);y.push([-v,0],[v,0])}var _,b=e.layerStatesArray,w=b.length;this.declutterTree_&&(_=this.declutterTree_.all().map((function(t){return t.value})));for(var x=[],S=0;S<y.length;S++)for(var E=w-1;E>=0;--E){var O=b[E],P=O.layer;if(P.hasRenderer()&&(0,s.inView)(O,h)&&u.call(l,P)){var C=P.getRenderer(),T=P.getSource();if(C&&T){var N=T.getWrapX()?g:t,I=p.bind(null,O.managed);x[0]=N[0]+y[S][0],x[1]=N[1]+y[S][1],c=C.forEachFeatureAtCoordinate(x,e,n,I,_)}if(c)return c}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return(0,r.abstract)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,a.TRUE,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=(0,c.renderDeclutterItems)(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){u.shared.canExpireCache()&&t.postRenderFunctions.push(d)},e}(i.default);function d(t,e){u.shared.expire()}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toContext=function(t,e){var n=t.canvas,a=e||{},s=a.pixelRatio||r.DEVICE_PIXEL_RATIO,u=a.size;u&&(n.width=u[0]*s,n.height=u[1]*s,n.style.width=u[0]+"px",n.style.height=u[1]+"px");var l=[0,0,n.width,n.height],c=(0,i.scale)((0,i.create)(),s,s);return new o.default(t,s,l,c,0)},e.getVectorContext=function(t){var e,n=t.frameState,r=(0,i.multiply)(t.inversePixelTransform.slice(),n.coordinateToPixelTransform),u=(0,a.getSquaredTolerance)(n.viewState.resolution,n.pixelRatio),l=(0,s.getUserProjection)();return l&&(e=(0,s.getTransformFromProjections)(l,n.viewState.projection)),new o.default(t.context,n.pixelRatio,n.extent,r,n.viewState.rotation,u,e)},e.getRenderPixel=function(t,e){var n=e.slice(0);return(0,i.apply)(t.inversePixelTransform.slice(),n),n},e.renderDeclutterItems=function(t,e){e&&e.clear();for(var n=t.declutterItems,r=n.length-1;r>=0;--r)for(var i=n[r],o=i.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,e);return n.length=0,e};var r=n(82),i=n(36),o=function(t){return t&&t.__esModule?t:{default:t}}(n(337)),a=n(240),s=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=h(n(181)),o=n(30),a=h(o),s=h(n(348)),u=n(59),l=n(32),c=n(24),f=n(4);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},g=function(t){function e(e){var n=t.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+u.CLASS_SELECTABLE,n.element.style.position="absolute";var i=e.autoPan;return i&&"object"!==(void 0===i?"undefined":r(i))&&(i={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=i||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener((0,o.getChangeEventType)(d.ELEMENT),n.handleElementChanged),n.addEventListener((0,o.getChangeEventType)(d.MAP),n.handleMapChanged),n.addEventListener((0,o.getChangeEventType)(d.OFFSET),n.handleOffsetChanged),n.addEventListener((0,o.getChangeEventType)(d.POSITION),n.handlePositionChanged),n.addEventListener((0,o.getChangeEventType)(d.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:s.default.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return p(e,t),e.prototype.getElement=function(){return this.get(d.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(d.MAP)},e.prototype.getOffset=function(){return this.get(d.OFFSET)},e.prototype.getPosition=function(){return this.get(d.POSITION)},e.prototype.getPositioning=function(){return this.get(d.POSITIONING)},e.prototype.handleElementChanged=function(){(0,l.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,l.removeNode)(this.element),(0,c.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,c.listen)(t,i.default.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(d.ELEMENT,t)},e.prototype.setMap=function(t){this.set(d.MAP,t)},e.prototype.setOffset=function(t){this.set(d.OFFSET,t)},e.prototype.setPosition=function(t){this.set(d.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(d.POSITION)){var n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),i=this.getRect(r,[(0,l.outerWidth)(r),(0,l.outerHeight)(r)]),o=void 0===t.margin?20:t.margin;if(!(0,f.containsExtent)(n,i)){var a=i[0]-n[0],s=n[2]-i[2],u=i[1]-n[1],c=n[3]-i[3],h=[0,0];if(a<0?h[0]=a-o:s<0&&(h[0]=Math.abs(s)+o),u<0?h[1]=u-o:c<0&&(h[1]=Math.abs(c)+o),0!==h[0]||0!==h[1]){var p=e.getView().getCenterInternal(),g=e.getPixelFromCoordinateInternal(p),y=[g[0]+h[0],g[1]+h[1]],m=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(y),duration:m.duration,easing:m.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(d.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",u="0%",l="0%";i==s.default.BOTTOM_RIGHT||i==s.default.CENTER_RIGHT||i==s.default.TOP_RIGHT?u="-100%":i!=s.default.BOTTOM_CENTER&&i!=s.default.CENTER_CENTER&&i!=s.default.TOP_CENTER||(u="-50%"),i==s.default.BOTTOM_LEFT||i==s.default.BOTTOM_CENTER||i==s.default.BOTTOM_RIGHT?l="-100%":i!=s.default.CENTER_LEFT&&i!=s.default.CENTER_CENTER&&i!=s.default.CENTER_RIGHT||(l="-50%");var c="translate("+u+", "+l+") translate("+o+", "+a+")";this.rendered.transform_!=c&&(this.rendered.transform_=c,n.transform=c,n.msTransform=c)},e.prototype.getOptions=function(){return this.options},e}(a.default);e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(8)),i=s(n(68)),o=n(59),a=n(93);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var a=void 0!==i.className?i.className:"ol-zoom",s=void 0!==i.delta?i.delta:1,u=void 0!==i.zoomInLabel?i.zoomInLabel:"+",l=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",c=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",f=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=a+"-in",h.setAttribute("type","button"),h.title=c,h.appendChild("string"==typeof u?document.createTextNode(u):u),h.addEventListener(r.default.CLICK,n.handleClick_.bind(n,s),!1);var p=document.createElement("button");p.className=a+"-out",p.setAttribute("type","button"),p.title=f,p.appendChild("string"==typeof l?document.createTextNode(l):l),p.addEventListener(r.default.CLICK,n.handleClick_.bind(n,-s),!1);var d=a+" "+o.CLASS_UNSELECTABLE+" "+o.CLASS_CONTROL,g=n.element;return g.className=d,g.appendChild(h),g.appendChild(p),n.duration_=void 0!==i.duration?i.duration:250,n}return u(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:a.easeOut})):e.setZoom(r)}}},e}(i.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.render=g,n(243);var r=f(n(68)),i=n(59),o=n(93),a=n(24),s=n(31),u=f(n(8)),l=n(19),c=f(n(244));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p={VERTICAL:0,HORIZONTAL:1},d=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||g})||this).dragListenerKeys_=[],n.currentResolution_=void 0,n.direction_=p.VERTICAL,n.dragging_,n.heightLimit_=0,n.widthLimit_=0,n.startX_,n.startY_,n.thumbSize_=null,n.sliderInitialized_=!1,n.duration_=void 0!==r.duration?r.duration:200;var o=void 0!==r.className?r.className:"ol-zoomslider",a=document.createElement("button");a.setAttribute("type","button"),a.className=o+"-thumb "+i.CLASS_UNSELECTABLE;var l=n.element;return l.className=o+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,l.appendChild(a),l.addEventListener(c.default.POINTERDOWN,n.handleDraggerStart_.bind(n),!1),l.addEventListener(c.default.POINTERMOVE,n.handleDraggerDrag_.bind(n),!1),l.addEventListener(c.default.POINTERUP,n.handleDraggerEnd_.bind(n),!1),l.addEventListener(u.default.CLICK,n.handleContainerClick_.bind(n),!1),a.addEventListener(u.default.CLICK,s.stopPropagation,!1),n}return h(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight,r=t.firstElementChild,i=getComputedStyle(r),o=r.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),a=r.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);this.thumbSize_=[o,a],e>n?(this.direction_=p.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=p.VERTICAL,this.heightLimit_=n-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(n),i=e.getConstrainedZoom(e.getZoomForResolution(r));e.animateInternal({zoom:i,duration:this.duration_,easing:o.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var n=this.handleDraggerDrag_,r=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,a.listen)(document,c.default.POINTERMOVE,n,this),(0,a.listen)(document,c.default.POINTERUP,r,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,n=t.clientY-this.startY_,r=this.getRelativePosition_(e,n);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(a.unlistenByKey),this.dragListenerKeys_.length=0)},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==p.HORIZONTAL?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var n;return n=this.direction_===p.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,l.clamp)(n,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return(0,l.clamp)(1-e(t),0,1)},e}(r.default);function g(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(8)),i=n(35),o=s(n(68)),a=n(59);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),target:i.target})||this).extent=i.extent?i.extent:null;var o=void 0!==i.className?i.className:"ol-zoom-extent",s=void 0!==i.label?i.label:"E",u=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",l=document.createElement("button");l.setAttribute("type","button"),l.title=u,l.appendChild("string"==typeof s?document.createTextNode(s):s),l.addEventListener(r.default.CLICK,n.handleClick_.bind(n),!1);var c=o+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,f=n.element;return f.className=c,f.appendChild(l),n}return u(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fitInternal((0,i.fromExtent)(e))},e}(o.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Translate=e.Snap=e.Select=e.Pointer=e.PinchZoom=e.PinchRotate=e.MouseWheelZoom=e.Modify=e.KeyboardZoom=e.KeyboardPan=e.Interaction=e.Extent=e.Draw=e.DragZoom=e.DragRotateAndZoom=e.DragRotate=e.DragPan=e.DragBox=e.DragAndDrop=e.DoubleClickZoom=void 0;var r=n(700);Object.defineProperty(e,"DoubleClickZoom",{enumerable:!0,get:function(){return k(r).default}});var i=n(701);Object.defineProperty(e,"DragAndDrop",{enumerable:!0,get:function(){return k(i).default}});var o=n(350);Object.defineProperty(e,"DragBox",{enumerable:!0,get:function(){return k(o).default}});var a=n(703);Object.defineProperty(e,"DragPan",{enumerable:!0,get:function(){return k(a).default}});var s=n(704);Object.defineProperty(e,"DragRotate",{enumerable:!0,get:function(){return k(s).default}});var u=n(705);Object.defineProperty(e,"DragRotateAndZoom",{enumerable:!0,get:function(){return k(u).default}});var l=n(706);Object.defineProperty(e,"DragZoom",{enumerable:!0,get:function(){return k(l).default}});var c=n(351);Object.defineProperty(e,"Draw",{enumerable:!0,get:function(){return k(c).default}});var f=n(708);Object.defineProperty(e,"Extent",{enumerable:!0,get:function(){return k(f).default}});var h=n(95);Object.defineProperty(e,"Interaction",{enumerable:!0,get:function(){return k(h).default}});var p=n(709);Object.defineProperty(e,"KeyboardPan",{enumerable:!0,get:function(){return k(p).default}});var d=n(711);Object.defineProperty(e,"KeyboardZoom",{enumerable:!0,get:function(){return k(d).default}});var g=n(352);Object.defineProperty(e,"Modify",{enumerable:!0,get:function(){return k(g).default}});var y=n(712);Object.defineProperty(e,"MouseWheelZoom",{enumerable:!0,get:function(){return k(y).default}});var m=n(713);Object.defineProperty(e,"PinchRotate",{enumerable:!0,get:function(){return k(m).default}});var v=n(714);Object.defineProperty(e,"PinchZoom",{enumerable:!0,get:function(){return k(v).default}});var _=n(48);Object.defineProperty(e,"Pointer",{enumerable:!0,get:function(){return k(_).default}});var b=n(353);Object.defineProperty(e,"Select",{enumerable:!0,get:function(){return k(b).default}});var w=n(715);Object.defineProperty(e,"Snap",{enumerable:!0,get:function(){return k(w).default}});var x=n(716);Object.defineProperty(e,"Translate",{enumerable:!0,get:function(){return k(x).default}}),e.defaults=function(t){var e=t||{},n=new S.default,r=new E.default(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new C.default),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new O.default({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new P.default({condition:e.onFocusOnly?R.focus:void 0,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new A.default),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new L.default({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new N.default),n.push(new I.default({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new M.default({condition:e.onFocusOnly?R.focus:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new T.default({duration:e.zoomDuration})),n};var S=k(n(66)),E=k(n(717)),O=k(r),P=k(a),C=k(s),T=k(l),N=k(p),I=k(d),M=k(y),A=k(m),L=k(v),R=n(41);function k(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(94)),i=n(95),o=a(i);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this,{handleEvent:l})||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return s(e,t),e}(o.default);function l(t){var e=!1;if(t.type==r.default.DBLCLICK){var n=t.originalEvent,o=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,u=o.getView();(0,i.zoomByDelta)(u,s,a,this.duration_),t.preventDefault(),e=!0}return!e}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=n(24),o=l(n(31)),a=l(n(8)),s=l(n(95)),u=n(5);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.features=r,o.file=n,o.projection=i,o}return c(e,t),e}(o.default),h=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{handleEvent:r.TRUE})||this).formatConstructors_=i.formatConstructors?i.formatConstructors:[],n.projection_=i.projection?(0,u.get)(i.projection):null,n.dropListenKeys_=null,n.source_=i.source||null,n.target=i.target?i.target:null,n}return c(e,t),e.prototype.handleResult_=function(t,e){var n=e.target.result,r=this.getMap(),i=this.projection_;i||(i=r.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,u=o.length;s<u;++s){var l=new o[s];if((a=this.tryReadFeatures_(l,n,{featureProjection:i}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new f("addfeatures",t,a,i))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,i.listen)(e,a.default.DROP,p,this),(0,i.listen)(e,a.default.DRAGENTER,d,this),(0,i.listen)(e,a.default.DRAGOVER,d,this),(0,i.listen)(e,a.default.DROP,d,this)]}},e.prototype.setActive=function(e){!this.getActive()&&e&&this.registerListeners_(),this.getActive()&&!e&&this.unregisterListeners_(),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,n){try{return t.readFeatures(e,n)}catch(t){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(i.unlistenByKey),this.dropListenKeys_=null)},e}(s.default);function p(t){for(var e=t.dataTransfer.files,n=0,r=e.length;n<r;++n){var i=e.item(n),o=new FileReader;o.addEventListener(a.default.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function d(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(219)),i=o(n(35));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return a(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new i.default([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),i=n(93),o=n(41),a=n(29),s=n(48),u=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e){var n=t.call(this,{stopDown:a.FALSE})||this,r=e||{};return n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=r.condition?r.condition:f,n.noKinetic_=!1,n}return l(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=(0,o.focus)(t)),e&&this.condition_(t)},e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=(0,s.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=t.map.getView();(0,r.scale)(i,o.getResolution()),(0,r.rotate)(i,o.getRotation()),o.adjustCenterInternal(i)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),a=n.getCenterInternal(),s=e.getPixelFromCoordinateInternal(a),u=e.getCoordinateFromPixelInternal([s[0]-r*Math.cos(o),s[1]-r*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(u),duration:500,easing:i.easeOut})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.conditionInternal_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(u.default);function f(t){return(0,o.noModifierKeys)(t)&&(0,o.primaryAction)(t)}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(242),i=n(41),o=n(29),a=function(t){return t&&t.__esModule?t:{default:t}}(n(48)),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:o.FALSE})||this).condition_=r.condition?r.condition:i.altShiftKeysOnly,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return s(e,t),e.prototype.handleDragEvent=function(t){if((0,i.mouseOnly)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==r.disable){var o=e.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(void 0!==this.lastAngle_){var u=s-this.lastAngle_;n.adjustRotationInternal(-u)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){return!(0,i.mouseOnly)(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!(0,i.mouseOnly)(t)||!(0,i.mouseActionButton)(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(a.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),i=function(t){return t&&t.__esModule?t:{default:t}}(n(48)),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).condition_=i.condition?i.condition:r.shiftKeyOnly,n.lastAngle_=void 0,n.lastMagnitude_=void 0,n.lastScaleDelta_=0,n.duration_=void 0!==i.duration?i.duration:400,n}return o(e,t),e.prototype.handleDragEvent=function(t){if((0,r.mouseOnly)(t)){var e=t.map,n=e.getSize(),i=t.pixel,o=i[0]-n[0]/2,a=n[1]/2-i[1],s=Math.atan2(a,o),u=Math.sqrt(o*o+a*a),l=e.getView();if(void 0!==this.lastAngle_){var c=this.lastAngle_-s;l.adjustRotationInternal(c)}this.lastAngle_=s,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/u),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/u),this.lastMagnitude_=u}},e.prototype.handleUpEvent=function(t){if(!(0,r.mouseOnly)(t))return!0;var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!(0,r.mouseOnly)(t)&&!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},e}(i.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(93),i=n(41),o=n(4),a=function(t){return t&&t.__esModule?t:{default:t}}(n(350)),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{},o=r.condition?r.condition:i.shiftKeyOnly;return(n=t.call(this,{condition:o,className:r.className||"ol-dragzoom",minArea:r.minArea,onBoxEnd:l})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return s(e,t),e}(a.default);function l(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var a=e.calculateExtentInternal(n),s=(0,o.createOrUpdateFromCoordinates)([t.getPixelFromCoordinateInternal((0,o.getBottomLeft)(i)),t.getPixelFromCoordinateInternal((0,o.getTopRight)(i))]),u=e.getResolutionForExtentInternal(s,n);(0,o.scaleFromCenter)(a,1/u),i=a}var l=e.getConstrainedResolution(e.getResolutionForExtentInternal(i,n)),c=e.getConstrainedCenter((0,o.getCenter)(i),l);e.animateInternal({resolution:l,center:c,duration:this.duration_,easing:r.easeOut})}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=u(n(17)),o=u(n(76)),a=n(77),s=n(115);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r){var i=t.call(this)||this;if(void 0!==r&&void 0===n)i.setFlatCoordinates(r,e);else{var o=n||0;i.setCenterAndRadius(e,o,r)}return i}return l(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=t-i[0],a=e-i[1],s=o*o+a*a;if(s<r){if(0===s)for(var u=0;u<this.stride;++u)n[u]=i[u];else{var l=this.getRadius()/Math.sqrt(s);for(n[0]=i[0]+l*o,n[1]=i[1]+l*a,u=2;u<this.stride;++u)n[u]=i[u]}return n.length=this.stride,s}return r},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,r=t-n[0],i=e-n[1];return r*r+i*i<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,r.createOrUpdate)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return i.default.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,r.intersects)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||t[1]<=n[1]&&t[3]>=n[1]||(0,r.forEachCorner)(t,this.intersectsCoordinate.bind(this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(var i=1;i<e;++i)r[e+i]=t[i];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,i=(0,a.deflateCoordinate)(r,0,t,this.stride);r[i++]=r[0]+e;for(var o=1,s=this.stride;o<s;++o)r[i++]=r[o];r.length=i,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter((0,s.rotate)(n,0,n.length,r,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter((0,s.translate)(n,0,n.length,r,t,e,n)),this.changed()},e}(o.default);c.prototype.transform,e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(88)),i=y(n(94)),o=n(67),a=y(n(31)),s=n(4),u=y(n(17)),l=y(n(47)),c=n(35),f=y(n(48)),h=y(n(121)),p=y(n(119)),d=n(83),g=n(5);function y(t){return t&&t.__esModule?t:{default:t}}var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v={EXTENTCHANGED:"extentchanged"},_=function(t){function e(e){var n=t.call(this,v.EXTENTCHANGED)||this;return n.extent=e,n}return m(e,t),e}(a.default),b=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,e||(e={}),n.extentOverlay_=new h.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:function(){var t=(0,d.createEditingStyle)();return function(e,n){return t[u.default.POLYGON]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new h.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:function(){var t=(0,d.createEditingStyle)();return function(e,n){return t[u.default.POINT]}}(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&n.setExtent(e.extent),n}return m(e,t),e.prototype.snapToVertex_=function(t,e){var n=e.getCoordinateFromPixelInternal(t),r=this.getExtentInternal();if(r){var i=function(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}(r);i.sort((function(t,e){return(0,o.squaredDistanceToSegment)(n,t)-(0,o.squaredDistanceToSegment)(n,e)}));var a=i[0],s=(0,o.closestOnSegment)(n,a),u=e.getPixelFromCoordinateInternal(s);if((0,o.distance)(t,u)<=this.pixelTolerance_){var l=e.getPixelFromCoordinateInternal(a[0]),c=e.getPixelFromCoordinateInternal(a[1]),f=(0,o.squaredDistance)(u,l),h=(0,o.squaredDistance)(u,c),p=Math.sqrt(Math.min(f,h));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(s=f>h?a[1]:a[0]),s}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,n=t.map,r=this.snapToVertex_(e,n);r||(r=n.getCoordinateFromPixelInternal(e)),this.createOrUpdatePointerFeature_(r)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry((0,c.fromExtent)(t)):e.setGeometry(void 0):(e=t?new r.default((0,c.fromExtent)(t)):new r.default({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new r.default(new l.default(t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e)),e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=i.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,n=t.map,r=this.getExtentInternal(),i=this.snapToVertex_(e,n),o=function(t){var e=null,n=null;return t[0]==r[0]?e=r[2]:t[0]==r[2]&&(e=r[0]),t[1]==r[1]?n=r[3]:t[1]==r[3]&&(n=r[1]),null!==e&&null!==n?[e,n]:null};if(i&&r){var a=i[0]==r[0]||i[0]==r[2]?i[0]:null,s=i[1]==r[1]||i[1]==r[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=w(o(i)):null!==a?this.pointerHandler_=x(o([a,r[1]]),o([a,r[3]])):null!==s&&(this.pointerHandler_=x(o([r[0],s]),o([r[2],s])))}else i=n.getCoordinateFromPixelInternal(e),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=w(i);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtentInternal();return e&&0!==(0,s.getArea)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return(0,g.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())},e.prototype.getExtentInternal=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new _(this.extent_))},e}(f.default);function w(t){return function(e){return(0,s.boundingExtent)([t,e])}}function x(t,e){return t[0]==e[0]?function(n){return(0,s.boundingExtent)([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return(0,s.boundingExtent)([t,[e[0],n[1]]])}:null}e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(67),i=l(n(8)),o=l(n(710)),a=n(41),s=n(95),u=l(s);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=t.call(this,{handleEvent:h})||this,r=e||{};return n.defaultCondition_=function(t){return(0,a.noModifierKeys)(t)&&(0,a.targetNotEditable)(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return c(e,t),e}(u.default);function h(t){var e=!1;if(t.type==i.default.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==o.default.DOWN||n==o.default.LEFT||n==o.default.RIGHT||n==o.default.UP)){var a=t.map.getView(),u=a.getResolution()*this.pixelDelta_,l=0,c=0;n==o.default.DOWN?c=-u:n==o.default.LEFT?l=-u:n==o.default.RIGHT?l=u:c=u;var f=[l,c];(0,r.rotate)(f,a.getRotation()),(0,s.pan)(a,f,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(8)),i=n(41),o=n(95),a=s(o);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this,{handleEvent:c})||this,r=e||{};return n.condition_=r.condition?r.condition:i.targetNotEditable,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return u(e,t),e}(a.default);function c(t){var e=!1;if(t.type==r.default.KEYDOWN||t.type==r.default.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,a=n=="+".charCodeAt(0)?this.delta_:-this.delta_,s=i.getView();(0,o.zoomByDelta)(s,a,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mode=void 0;var r=n(41),i=l(n(8)),o=n(82),a=n(95),s=l(a),u=n(19);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=e.Mode={TRACKPAD:"trackpad",WHEEL:"wheel"},h=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:r.always,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return c(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=(0,r.focus)(t)),e&&this.condition_(t)},e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.conditionInternal_(t))return!0;if(t.type!==i.default.WHEEL)return!0;t.preventDefault();var e,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==i.default.WHEEL&&(e=r.deltaY,o.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=o.DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var a=Date.now();void 0===this.startTime_&&(this.startTime_=a),(!this.mode_||a-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?f.TRACKPAD:f.WHEEL);var s=n.getView();if(this.mode_===f.TRACKPAD&&!s.getConstrainResolution())return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(s.getAnimating()&&s.cancelAnimations(),s.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),s.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=e;var u=Math.max(this.timeout_-(a-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),u),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-(0,u.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;e.getConstrainResolution()&&(n=n?n>0?1:-1:0),(0,a.zoomByDelta)(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(s.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=n(48),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=n(242),s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=r.FALSE),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return s(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=o;var u=t.map,l=u.getView();if(l.getConstraints().rotation!==a.disable){var c=u.getViewport().getBoundingClientRect(),f=(0,i.centroid)(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),this.rotating_&&(u.render(),l.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(29),i=n(48),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=r.FALSE),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return a(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,a=n.clientY-r.clientY,s=Math.sqrt(o*o+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var u=t.map,l=u.getView();1!=e&&(this.lastScaleDelta_=e);var c=u.getViewport().getBoundingClientRect(),f=(0,i.centroid)(this.targetPointers);f[0]-=c.left,f[1]-=c.top,this.anchor_=u.getCoordinateFromPixelInternal(f),u.render(),l.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(o.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=m(n(120)),o=n(67),a=n(24),s=m(n(8)),u=n(4),l=n(29),c=m(n(17)),f=n(35),h=m(n(48)),p=n(13),d=m(n(236)),g=m(n(237)),y=n(5);function m(t){return t&&t.__esModule?t:{default:t}}var v=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function _(t){return t.feature?t.feature:t.element?t.element:void 0}var b=[],w=function(t){function e(e){var n=this,r=e||{},i=r;return i.handleDownEvent||(i.handleDownEvent=l.TRUE),i.stopDown||(i.stopDown=l.FALSE),(n=t.call(this,i)||this).source_=r.source?r.source:null,n.vertex_=void 0===r.vertex||r.vertex,n.edge_=void 0===r.edge||r.edge,n.features_=r.features?r.features:null,n.featuresListenerKeys_=[],n.featureChangeListenerKeys_={},n.indexedFeaturesExtents_={},n.pendingFeatures_={},n.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,n.rBush_=new g.default,n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n)},n}return v(e,t),e.prototype.addFeature=function(t,e){var n=void 0===e||e,i=(0,r.getUid)(t),o=t.getGeometry();if(o){var l=this.SEGMENT_WRITERS_[o.getType()];l&&(this.indexedFeaturesExtents_[i]=o.getExtent((0,u.createEmpty)()),l(t,o))}n&&(this.featureChangeListenerKeys_[i]=(0,a.listen)(t,s.default.CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n.snapped&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=_(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=_(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=(0,r.getUid)(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=(0,p.getValues)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,i=(0,r.getUid)(t),o=this.indexedFeaturesExtents_[i];if(o){var s=this.rBush_,u=[];s.forEachInExtent(o,(function(e){t===e.feature&&u.push(e)}));for(var l=u.length-1;l>=0;--l)s.remove(u[l])}n&&((0,a.unlistenByKey)(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},e.prototype.setMap=function(e){var n=this.getMap(),r=this.featuresListenerKeys_,o=this.getFeatures_();n&&(r.forEach(a.unlistenByKey),r.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?r.push((0,a.listen)(this.features_,i.default.ADD,this.handleFeatureAdd_,this),(0,a.listen)(this.features_,i.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push((0,a.listen)(this.source_,d.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,a.listen)(this.source_,d.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var r=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),i=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),a=(0,u.boundingExtent)([r,i]),s=this.rBush_.getInExtent(a);this.vertex_&&!this.edge_&&(s=s.filter((function(t){return t.feature.getGeometry().getType()!==c.default.CIRCLE})));var l=!1,f=null,h=null;if(0===s.length)return{snapped:l,vertex:f,vertexPixel:h};for(var p,d=n.getView().getProjection(),g=(0,y.fromUserCoordinate)(e,d),m=1/0,v=0;v<s.length;++v){var _=s[v];b[0]=(0,y.fromUserCoordinate)(_.segment[0],d),b[1]=(0,y.fromUserCoordinate)(_.segment[1],d);var w=(0,o.squaredDistanceToSegment)(g,b);w<m&&(p=_,m=w)}var x=p.segment;if(this.vertex_&&!this.edge_){var S=n.getPixelFromCoordinate(x[0]),E=n.getPixelFromCoordinate(x[1]),O=(0,o.squaredDistance)(t,S),P=(0,o.squaredDistance)(t,E);Math.sqrt(Math.min(O,P))<=this.pixelTolerance_&&(l=!0,f=O>P?x[1]:x[0],h=n.getPixelFromCoordinate(f))}else if(this.edge_){var C=p.feature.getGeometry().getType()===c.default.CIRCLE;if(C){var T=p.feature.getGeometry(),N=(0,y.getUserProjection)();N&&(T=T.clone().transform(N,d)),f=(0,y.toUserCoordinate)((0,o.closestOnCircle)(g,T),d)}else b[0]=(0,y.fromUserCoordinate)(x[0],d),b[1]=(0,y.fromUserCoordinate)(x[1],d),f=(0,y.toUserCoordinate)((0,o.closestOnSegment)(g,b),d);h=n.getPixelFromCoordinate(f),(0,o.distance)(t,h)<=this.pixelTolerance_&&(l=!0,this.vertex_&&!C)&&(S=n.getPixelFromCoordinate(x[0]),E=n.getPixelFromCoordinate(x[1]),O=(0,o.squaredDistance)(h,S),P=(0,o.squaredDistance)(h,E),Math.sqrt(Math.min(O,P))<=this.pixelTolerance_&&(f=O>P?x[1]:x[0],h=n.getPixelFromCoordinate(f)))}return l&&(h=[Math.round(h[0]),Math.round(h[1])]),{snapped:l,vertex:f,vertexPixel:h}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){var n=this.getMap().getView().getProjection(),r=e,i=(0,y.getUserProjection)();i&&(r=r.clone().transform(i,n));var o=(0,f.fromCircle)(r);i&&o.transform(n,i);for(var a=o.getCoordinates()[0],s=0,l=a.length-1;s<l;++s){var c=a.slice(s,s+2),h={feature:t,segment:c};this.rBush_.insert((0,u.boundingExtent)(c),h)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var i=this.SEGMENT_WRITERS_[n[r].getType()];i&&i(t,n[r])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length-1;r<i;++r){var o=n.slice(r,r+2),a={feature:t,segment:o};this.rBush_.insert((0,u.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),c={feature:t,segment:l};this.rBush_.insert((0,u.boundingExtent)(l),c)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r){var o=n[r],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length;a<s;++a)for(var l=o[a],c=0,f=l.length-1;c<f;++c){var h=l.slice(c,c+2),p={feature:t,segment:h};this.rBush_.insert((0,u.boundingExtent)(h),p)}},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),c={feature:t,segment:l};this.rBush_.insert((0,u.boundingExtent)(l),c)}},e}(h.default);e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TranslateEvent=void 0;var r=c(n(66)),i=n(30),o=c(n(31)),a=n(29),s=n(14),u=c(n(48)),l=c(n(245));function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.features=n,a.coordinate=r,a.startCoordinate=i,a.mapBrowserEvent=o,a}return f(e,t),e}(o.default);e.TranslateEvent=h;var p=function(t){function e(e){var n,r=this,o=e||{};if((r=t.call(this,o)||this).lastCoordinate_=null,r.startCoordinate_=null,r.features_=void 0!==o.features?o.features:null,o.layers)if("function"==typeof o.layers)n=o.layers;else{var u=o.layers;n=function(t){return(0,s.includes)(u,t)}}else n=a.TRUE;return r.layerFilter_=n,r.filter_=o.filter?o.filter:a.TRUE,r.hitTolerance_=o.hitTolerance?o.hitTolerance:0,r.lastFeature_=null,r.addEventListener((0,i.getChangeEventType)(l.default.ACTIVE),r.handleActiveChanged_),r}return f(e,t),e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=t.coordinate,this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new r.default([this.lastFeature_]);return this.dispatchEvent(new h("translatestart",e,t.coordinate,this.startCoordinate_,t)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new r.default([this.lastFeature_]);return this.dispatchEvent(new h("translateend",e,t.coordinate,this.startCoordinate_,t)),this.startCoordinate_=null,!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,n=e[0]-this.lastCoordinate_[0],i=e[1]-this.lastCoordinate_[1],o=this.features_||new r.default([this.lastFeature_]);o.forEach((function(t){var e=t.getGeometry();e.translate(n,i),t.setGeometry(e)})),this.lastCoordinate_=e,this.dispatchEvent(new h("translating",o,e,this.startCoordinate_,t))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t,e){if(this.filter_(t,e)&&(!this.features_||(0,s.includes)(this.features_.getArray(),t)))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(n)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),n=this.getActive();e&&n||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(u.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLayer=function(t){return new i.default({source:new o.default(l(t))})},e.updateLayer=function(t,e,n){var i=e.getSource(),o=l(n);r.objectsDiffer(o.params,i.getParams())&&i.updateParams(o.params),i.getUrl()!==o.url&&i.setUrl(o.url)},e.getLegend=function(t,e,n){var i=t.urls[0].split("?")[0],o=Object.assign({REQUEST:"GetLegendGraphic",SCALE:r.getScale(e.resolution,u),SERVICE:"WMS",VERSION:"1.1.1",WIDTH:"250",LAYER:n,FORMAT:"image/png"},t.params),a=[];return a.push(i+"?"+r.formatUrlParameters(o)),{type:"img",images:a}};var r=s(n(16)),i=a(n(719)),o=a(n(722));function a(t){return t&&t.__esModule?t:{default:t}}function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var u=s(n(5)).get("EPSG:3857");function l(t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=t.layers[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.on&&e.push(s.name)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var u={url:t.urls[0],ratio:1,params:Object.assign({VERSION:"1.1.1",LAYERS:e.join(",")},t.params),serverType:t.serverType,minResolution:t.minresolution,maxResolution:t.maxresolution};return t.params["cross-origin"]?u.crossOrigin=t.params["cross-origin"]:0===t.urls[0].indexOf("http")&&(u.crossOrigin="anonymous"),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(720)),i=o(n(721));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.createRenderer=function(){return new i.default(this)},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(132)),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(t){function e(e){var n=e||{};return t.call(this,n)||this}return i(e,t),e}(r.default);e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(153),i=c(n(150)),o=n(4),a=n(5),s=c(n(239)),u=n(36),l=n(58);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return f(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,s=t.viewState,u=s.resolution,l=this.getLayer().getSource(),c=t.viewHints,f=t.extent;if(void 0!==e.extent&&(f=(0,o.getIntersection)(f,(0,a.fromUserExtent)(e.extent,s.projection))),!c[i.default.ANIMATING]&&!c[i.default.INTERACTING]&&!(0,o.isEmpty)(f))if(l){var h=s.projection;if(!r.ENABLE_RASTER_REPROJECTION){var p=l.getProjection();p&&(h=p)}var d=l.getImage(f,u,n,h);d&&this.loadImage(d)&&(this.image_=d)}else this.image_=null;return!!this.image_},e.prototype.renderFrame=function(t,e){var n=this.image_,r=n.getExtent(),i=n.getResolution(),s=n.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],f=t.pixelRatio,h=t.viewState,p=h.center,d=h.resolution,g=t.size,y=f*i/(d*s),m=Math.round(g[0]*f),v=Math.round(g[1]*f),_=h.rotation;if(_){var b=Math.round(Math.sqrt(m*m+v*v));m=b,v=b}(0,u.compose)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/f,1/f,_,-m/2,-v/2),(0,u.makeInverse)(this.inversePixelTransform,this.pixelTransform);var w=(0,l.createTransformString)(this.pixelTransform);this.useContainer(e,w,c.opacity);var x=this.context,S=x.canvas;S.width!=m||S.height!=v?(S.width=m,S.height=v):this.containerReused||x.clearRect(0,0,m,v);var E=!1;if(c.extent){var O=(0,a.fromUserExtent)(c.extent,h.projection);(E=!(0,o.containsExtent)(O,t.extent)&&(0,o.intersects)(O,t.extent))&&this.clipUnrotated(x,t,O)}var P=n.getImage(),C=(0,u.compose)(this.tempTransform_,m/2,v/2,y,y,0,s*(r[0]-p[0])/i,s*(p[1]-r[3])/i);this.renderedResolution=i*f/s;var T=C[4],N=C[5],I=P.width*C[0],M=P.height*C[3];if(this.preRender(x,t),I>=.5&&M>=.5){var A=c.opacity,L=void 0;1!==A&&(L=this.context.globalAlpha,this.context.globalAlpha=A),this.context.drawImage(P,0,0,+P.width,+P.height,Math.round(T),Math.round(N),Math.round(I),Math.round(M)),1!==A&&(this.context.globalAlpha=L)}return this.postRender(x,t),E&&x.restore(),w!==S.style.transform&&(S.style.transform=w),this.container},e}(s.default);e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(723),i=y(n(231)),o=n(18),a=y(n(8)),s=n(4),u=n(13),l=n(5),c=n(246),f=n(724),h=y(f),p=y(n(726)),d=n(225),g=n(355);function y(t){return t&&t.__esModule?t:{default:t}}var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=[101,101],_=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{attributions:r.attributions,projection:r.projection,resolutions:r.resolutions})||this).crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null,n.url_=r.url,n.imageLoadFunction_=void 0!==r.imageLoadFunction?r.imageLoadFunction:f.defaultImageLoadFunction,n.params_=r.params||{},n.v13_=!0,n.updateV13_(),n.serverType_=r.serverType,n.hidpi_=void 0===r.hidpi||r.hidpi,n.image_=null,n.imageSize_=[0,0],n.renderedRevision_=0,n.ratio_=void 0!==r.ratio?r.ratio:1.5,n}return m(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,i){if(void 0!==this.url_){var o=(0,l.get)(n),a=this.getProjection();a&&a!==o&&(e=(0,c.calculateSourceResolution)(a,o,t,e),t=(0,l.transform)(t,o,a));var f=(0,s.getForViewAndSize)(t,e,0,v),h={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,u.assign)(h,this.params_,i);var p=Math.floor((t[0]-f[0])/e),d=Math.floor((f[3]-t[1])/e);return h[this.v13_?"I":"X"]=p,h[this.v13_?"J":"Y"]=d,this.getRequestUrl_(f,v,1,a||o,h)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.url_){var n={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var i=this.params_.LAYERS;if(Array.isArray(i)&&1!==i.length)return;n.LAYER=i}if(void 0!==t){var o=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*o*39.37*(25.4/.28)}return(0,u.assign)(n,e),(0,g.appendParams)(this.url_,n)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,o){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);var l=e/n,c=(0,s.getCenter)(t),f=Math.ceil((0,s.getWidth)(t)/l),h=Math.ceil((0,s.getHeight)(t)/l),p=(0,s.getForViewAndSize)(c,l,0,[f,h]),d=Math.ceil(this.ratio_*(0,s.getWidth)(t)/l),g=Math.ceil(this.ratio_*(0,s.getHeight)(t)/l),y=(0,s.getForViewAndSize)(c,l,0,[d,g]),m=this.image_;if(m&&this.renderedRevision_==this.getRevision()&&m.getResolution()==e&&m.getPixelRatio()==n&&(0,s.containsExtent)(m.getExtent(),p))return m;var v={SERVICE:"WMS",VERSION:r.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,u.assign)(v,this.params_),this.imageSize_[0]=Math.round((0,s.getWidth)(y)/l),this.imageSize_[1]=Math.round((0,s.getHeight)(y)/l);var _=this.getRequestUrl_(y,this.imageSize_,n,o,v);return this.image_=new i.default(y,e,n,_,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(a.default.CHANGE,this.handleImageChange.bind(this)),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,n,r,i){if((0,o.assert)(void 0!==this.url_,9),i[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(i.STYLES=""),1!=n)switch(this.serverType_){case p.default.GEOSERVER:var a=90*n+.5|0;"FORMAT_OPTIONS"in i?i.FORMAT_OPTIONS+=";dpi:"+a:i.FORMAT_OPTIONS="dpi:"+a;break;case p.default.MAPSERVER:i.MAP_RESOLUTION=90*n;break;case p.default.CARMENTA_SERVER:case p.default.QGIS:i.DPI=90*n;break;default:(0,o.assert)(!1,8)}i.WIDTH=e[0],i.HEIGHT=e[1];var s,u=r.getAxisOrientation();return s=this.v13_&&"ne"==u.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,i.BBOX=s.join(","),(0,g.appendParams)(this.url_,i)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){(0,u.assign)(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||r.DEFAULT_WMS_VERSION;this.v13_=(0,d.compareVersions)(t,"1.3")>=0},e}(h.default);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_WMS_VERSION="1.3.0"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageSourceEvent=e.ImageSourceEventType=void 0,e.defaultImageLoadFunction=function(t,e){t.getImage().src=e};var r=n(11),i=n(153),o=h(n(91)),a=n(14),s=h(n(31)),u=n(4),l=n(5),c=h(n(725)),f=h(n(235));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=e.ImageSourceEventType={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.image=n,r}return p(e,t),e}(s.default);e.ImageSourceEvent=g;var y=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n}return p(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=(0,a.linearFindNearest)(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,r){var o=this.getProjection();if(i.ENABLE_RASTER_REPROJECTION&&o&&r&&!(0,l.equivalent)(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,l.equivalent)(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&(0,u.equals)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new c.default(o,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,o)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,n,r)},e.prototype.getImageInternal=function(t,e,n,i){return(0,r.abstract)()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case o.default.LOADING:this.loading=!0,this.dispatchEvent(new g(d.IMAGELOADSTART,e));break;case o.default.LOADED:this.loading=!1,this.dispatchEvent(new g(d.IMAGELOADEND,e));break;case o.default.ERROR:this.loading=!1,this.dispatchEvent(new g(d.IMAGELOADERROR,e))}},e}(f.default);e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(153),i=f(n(317)),o=f(n(91)),a=n(24),s=f(n(8)),u=n(4),l=n(246),c=f(n(354));function f(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n,i,a,s,f){var h=this,p=e.getExtent(),d=n.getExtent(),g=d?(0,u.getIntersection)(i,d):i,y=(0,u.getCenter)(g),m=(0,l.calculateSourceResolution)(e,n,y,a),v=r.ERROR_THRESHOLD,_=new c.default(e,n,g,p,m*v,a),b=f(_.calculateSourceExtent(),m,s),w=b?o.default.IDLE:o.default.EMPTY,x=b?b.getPixelRatio():1;return(h=t.call(this,i,a,x,w)||this).targetProj_=n,h.maxSourceExtent_=p,h.triangulation_=_,h.targetResolution_=a,h.targetExtent_=i,h.sourceImage_=b,h.sourcePixelRatio_=x,h.canvas_=null,h.sourceListenerKey_=null,h}return h(e,t),e.prototype.disposeInternal=function(){this.state==o.default.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==o.default.LOADED){var e=(0,u.getWidth)(this.targetExtent_)/this.targetResolution_,n=(0,u.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,l.render)(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==o.default.LOADED||t==o.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,a.listen)(this.sourceImage_,s.default.CHANGE,(function(t){var e=this.sourceImage_.getState();e!=o.default.LOADED&&e!=o.default.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){(0,a.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(i.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLayer=function(t){return new i.default({source:new r.default(a(t)),minResolution:t.minresolution,maxResolution:t.maxresolution})},e.updateLayer=function(t,e,n){var r=e.getSource(),i=a(n),o=r.getUrls(),s=!1;if(o.length!==i.urls.length)s=!0;else{var u=!0,l=!1,c=void 0;try{for(var f,h=o[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;i.urls.indexOf(p)<0&&(s=!0)}}catch(t){l=!0,c=t}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}}s&&r.setUrls(i.urls)};var r=o(n(728)),i=o(n(184));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=null;return t.params["cross-origin"]?e=t.params["cross-origin"]:0===t.urls[0].indexOf("http")&&(e="anonymous"),{crossOrigin:e,urls:t.urls}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(182)),i=n(96),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:(0,i.createXYZ)({extent:(0,i.extentFromProjection)(r),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return o(e,t),e}(r.default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(183)),i=s(n(60)),o=n(32),a=n(231);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return u(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=i.default.ERROR,this.unlistenImage_(),this.image_=function(){var t=(0,o.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=i.default.LOADED:this.state=i.default.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==i.default.ERROR&&(this.state=i.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==i.default.IDLE&&(this.state=i.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,a.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(r.default);e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return(0,r.assert)(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},t.prototype.remove=function(t){var e=this.entries_[t];return(0,r.assert)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){(0,r.assert)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(153),i=h(n(183)),o=h(n(60)),a=n(24),s=h(n(8)),u=n(4),l=n(19),c=n(246),f=h(n(354));function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e,n,i,a,s,h,p,d,g,y,m){var v=t.call(this,s,o.default.IDLE)||this;v.renderEdges_=void 0!==m&&m,v.pixelRatio_=p,v.gutter_=d,v.canvas_=null,v.sourceTileGrid_=n,v.targetTileGrid_=a,v.wrappedTileCoord_=h||s,v.sourceTiles_=[],v.sourcesListenerKeys_=null,v.sourceZ_=0;var _=a.getTileCoordExtent(v.wrappedTileCoord_),b=v.targetTileGrid_.getExtent(),w=v.sourceTileGrid_.getExtent(),x=b?(0,u.getIntersection)(_,b):_;if(0===(0,u.getArea)(x))return v.state=o.default.EMPTY,v;var S=e.getExtent();S&&(w=w?(0,u.getIntersection)(w,S):S);var E=a.getResolution(v.wrappedTileCoord_[0]),O=(0,u.getCenter)(x),P=(0,c.calculateSourceResolution)(e,i,O,E);if(!isFinite(P)||P<=0)return v.state=o.default.EMPTY,v;var C=void 0!==y?y:r.ERROR_THRESHOLD;if(v.triangulation_=new f.default(e,i,x,w,P*C,E),0===v.triangulation_.getTriangles().length)return v.state=o.default.EMPTY,v;v.sourceZ_=n.getZForResolution(P);var T=v.triangulation_.calculateSourceExtent();if(w&&(e.canWrapX()?(T[1]=(0,l.clamp)(T[1],w[1],w[3]),T[3]=(0,l.clamp)(T[3],w[1],w[3])):T=(0,u.getIntersection)(T,w)),(0,u.getArea)(T)){for(var N=n.getTileRangeForExtentAndZ(T,v.sourceZ_),I=N.minX;I<=N.maxX;I++)for(var M=N.minY;M<=N.maxY;M++){var A=g(v.sourceZ_,I,M,p);A&&v.sourceTiles_.push(A)}0===v.sourceTiles_.length&&(v.state=o.default.EMPTY)}else v.state=o.default.EMPTY;return v}return p(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==o.default.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.default.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],a=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,c.render)(r,i,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.default.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.default.IDLE){this.state=o.default.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var i=e.getState();if(i==o.default.IDLE||i==o.default.LOADING){t++;var u=(0,a.listen)(e,s.default.CHANGE,(function(n){var r=e.getState();r!=o.default.LOADED&&r!=o.default.ERROR&&r!=o.default.EMPTY||((0,a.unlistenByKey)(u),0==--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(u)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,n){t.getState()==o.default.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(a.unlistenByKey),this.sourcesListenerKeys_=null},e}(i.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileSourceEvent=void 0;var r=n(11),i=h(n(247)),o=h(n(60)),a=h(n(31)),s=n(5),u=n(122),l=h(n(235)),c=n(84),f=n(96);function h(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=[256,256],o=e.tileGrid;o&&(0,u.toSize)(o.getTileSize(o.getMinZoom()),r);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080,c=4*Math.ceil(s/r[0])*Math.ceil(l/r[1]);return n.tileCache=new i.default(Math.max(c,e.cacheSize||0)),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return p(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var a,s,u,l=!0,f=n.minX;f<=n.maxX;++f)for(var h=n.minY;h<=n.maxY;++h)s=(0,c.getKeyZXY)(e,f,h),u=!1,i.containsKey(s)&&(u=(a=i.get(s)).getState()===o.default.LOADED)&&(u=!1!==r(a)),u||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return(0,r.abstract)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,f.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,s.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=(0,u.toSize)(r.getTileSize(t),this.tmpSize);return 1==i?o:(0,u.scale)(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=(0,f.wrapX)(r,t,n)),(0,c.withinExtentAndZ)(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,r){},e}(l.default),g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return p(e,t),e}(a.default);e.TileSourceEvent=g,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(132)),i=a(n(359)),o=n(13);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=this,r=e||{},i=(0,o.assign)({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return s(e,t),e.prototype.getPreload=function(){return this.get(i.default.PRELOAD)},e.prototype.setPreload=function(t){this.set(i.default.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(i.default.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(i.default.USE_INTERIM_TILES_ON_ERROR,t)},e}(r.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLayer=function(t){return new r.default({source:new i.default(a(t)),minResolution:t.minresolution,maxResolution:t.maxresolution})},e.updateLayer=function(t,e,n){var r=e.getSource(),i=a(n);r.getUrls()[0]!==i.url&&r.setUrl(i.url)};var r=o(n(184)),i=o(n(736));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=null;return t.params["cross-origin"]?e=t.params["cross-origin"]:0===t.urls[0].indexOf("http")&&(e="anonymous"),{crossOrigin:e,url:t.urls[0],params:t.params}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(19),o=n(13),a=n(122),s=function(t){return t&&t.__esModule?t:{default:t}}(n(182)),u=n(84),l=n(355),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:i.tileGrid,tileLoadFunction:i.tileLoadFunction,tileUrlFunction:h,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition})||this).params_=i.params||{},n.hidpi_=void 0===i.hidpi||i.hidpi,n.tmpExtent_=(0,r.createEmpty)(),n.setKey(n.getKeyForParams_()),n}return c(e,t),e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,r,o,a){var s=this.urls;if(s){var c=o.getCode().split(":").pop();a.SIZE=e[0]+","+e[1],a.BBOX=n.join(","),a.BBOXSR=c,a.IMAGESR=c,a.DPI=Math.round(a.DPI?a.DPI*r:90*r);var f=(1==s.length?s[0]:s[(0,i.modulo)((0,u.hash)(t),s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return(0,l.appendParams)(f,a)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_?t:1},e.prototype.updateParams=function(t){(0,o.assign)(this.params_,t),this.setKey(this.getKeyForParams_())},e}(s.default);function h(t,e,n){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_||(e=1);var i=r.getTileCoordExtent(t,this.tmpExtent_),s=(0,a.toSize)(r.getTileSize(t[0]),this.tmpSize);1!=e&&(s=(0,a.scale)(s,e,this.tmpSize));var u={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return(0,o.assign)(u,this.params_),this.getRequestUrl_(t,s,i,e,n,u)}}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyStyle=v,e.createLayer=function(t){var e=new u.default(function(t){if("wfs"===t.type){var e=i.default,n="text/xml; subtype=gml/2.1.2";return t.params.outputFormat&&(n=t.params.outputFormat),n.toLowerCase().indexOf("json")>=0&&(e=o.default),{format:new e({}),projection:"EPSG:4326",url:function(e){void 0===t.params.typename&&console.error('No "typename" param defined for a WFS layer. This will fail.');var i=Object.assign({},{srsname:"EPSG:3857",outputFormat:n,service:"WFS",version:"1.1.0",request:"GetFeature",bbox:e.concat("EPSG:3857").join(",")},t.params);return(0,r.joinUrl)(t.urls[0],i)},strategy:s.bbox}}return"geojson"===t.type?{format:new o.default,projection:t.params.crs?t.params.crs:"EPSG:4326",url:t.urls[0]}:"ags-vector"===t.type?{loader:function(e,n,i){var o=this,s=t.urls[0]+"/query/",u=Object.assign({},{f:"json",returnGeometry:"true",spatialRel:"esriSpatialRelIntersects",geometry:JSON.stringify({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]}),spatialReference:JSON.stringify({wkid:102100}),geometryType:"esriGeometryEnvelope",inSR:102100,outSR:102100,outFields:"*",returnIdsOnly:!0},t.params);(0,y.default)({url:s,data:u,type:"jsonp",success:function(e){e.error?console.error("Error loading object IDs for "+t.label):function(){var n=new a.default,i=e.objectIds;if(null!==i){for(var l=i.length,c=Object.assign({},u,{returnIdsOnly:!1}),f=[],h=[],p=0;p<l;p++){(0,r.requEstimator)(Object.assign(c,{objectIds:h.concat([i[p]]).join(",")}))>2e3&&(f.push(h.slice()),h=[]),h.push(i[p])}h.length>0&&f.push(h);var d=!0,g=!1,m=void 0;try{for(var v,_=f[Symbol.iterator]();!(d=(v=_.next()).done);d=!0){var b=v.value;(0,y.default)({url:s,data:Object.assign({},u,{returnIdsOnly:!1,objectIds:b.join(",")}),type:"jsonp",success:function(e){e.error?console.error("Error loading feature batch for "+t.label):o.addFeatures(n.readFeatures(e,{}))}})}}catch(t){g=!0,m=t}finally{try{!d&&_.return&&_.return()}finally{if(g)throw m}}}}()},error:function(t){console.error(t)}})},strategy:(0,s.tile)((0,c.createXYZ)({tileSize:512}))}:{}}(t));t.transforms&&e.on("addfeature",(function(e){var n=e.feature;n.setProperties((0,r.transformProperties)(t.transforms,n.getProperties()))}));var n={source:e,minResolution:t.minresolution,maxResolution:t.maxresolution,declutter:!0},f=new l.default(n);return v(f,t),f},e.updateLayer=function(t,e,n,r){if("vector"===n.type){if(e.get("featuresVersion")!==n.featuresVersion){var i=e.getSource();i.clear(!0);var a=(new o.default).readFeatures({type:"FeatureCollection",features:n.features});i.addFeatures(a),e.set("featuresVersion",n.featuresVersion)}}else e.get("featuresVersion")!==n.featuresVersion&&(e.set("featuresVersion",n.featuresVersion),e.getSource().refresh());v(e,n,r)};var r=n(16),i=m(n(143)),o=m(n(114)),a=m(n(324)),s=n(326),u=m(n(119)),l=m(n(121)),c=n(96),f=n(738),h=n(90),p=m(n(149)),d=n(739),g=n(174),y=m(n(217));function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){if(e.name!==h.EDIT_LAYER_NAME){var r=[],i=function(t){if(!0===t.on)for(var e=["fill","line","circle","symbol"],n=function(n,i){var o=e[n],a=function(t){return 0===t.indexOf(o)};if("symbol"===o&&(a=function(t){return 0===t.indexOf("symbol")||0===t.indexOf("text")}),Object.keys(t.style).filter(a).length>0){var s={id:t.name+"-"+o,type:o,source:"dummy-source",paint:{},layout:{}};["paint","layout"].forEach((function(e){Object.keys(g.latest[e+"_"+o]).forEach((function(n){t.style[n]&&(s[e][n]=t.style[n])}))})),void 0!==t.filter&&(s.filter=t.filter),r.push(s)}},i=0,o=e.length;i<o;i++)n(i)},o=!0,a=!1,s=void 0;try{for(var u,l=e.layers[Symbol.iterator]();!(o=(u=l.next()).done);o=!0)i(u.value)}catch(t){a=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}(0,d.applyStyle)(t,{version:8,layers:r,sources:{"dummy-source":{type:"vector"}}},"dummy-source")}else{var c="Modify"===n||"_Modify"===n;t.setStyle((0,f.getEditStyle)(e.layers[0].style,c))}}p.default.prototype.getOverflow=function(){return!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEditStyle=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(89)),i=n(338),o=n(90);e.getEditStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.EDIT_STYLE,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[new i.Style({stroke:new i.Stroke({color:t["line-color"],width:3}),fill:new i.Fill({color:t["fill-color"],opacity:t["fill-opacity"]})})];return e&&n.push(new i.Style({image:new i.Circle({radius:5,fill:new i.Fill({color:t["circle-color"]})}),geometry:function(t){var e=t.getGeometry(),n=e.getType().toLowerCase(),i=[];if("polygon"===n||"multilinestring"===n)i=e.getCoordinates().flat();else if("multipolygon"===n)i=e.getCoordinates().flat(2);else{if("point"===n)return e;i=e.getCoordinates()}return new r.default(i)}})),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._getFonts=e._finalizeLayer=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.applyStyle=F,e.applyBackground=function(t,e){e.layers.some((function(e){if("background"==e.type)return D(t,e),!0}))},e.default=q,e.apply=function(t,e){return("string"==typeof t||t instanceof HTMLElement)&&(t=new f.default({target:t})),setTimeout((function(){q(t,e)}),0),t},e.getLayer=function(t,e){for(var n=t.getLayers().getArray(),r=0,i=n.length;r<i;++r){var o=n[r].get("mapbox-layers");if(o&&-1!==o.indexOf(e))return n[r]}},e.getLayers=function(t,e){for(var n=[],r=t.getLayers().getArray(),i=0,o=r.length;i<o;++i)r[i].get("mapbox-source")===e&&n.push(r[i]);return n},e.getSource=function(t,e){for(var n=t.getLayers().getArray(),r=0,i=n.length;r<i;++r){var o=n[r].getSource();if(n[r].get("mapbox-source")===e)return o}};var i=E(n(361)),o=n(740),a=E(o),s=E(n(741)),u=n(5),l=n(96),c=E(n(357)),f=E(n(341)),h=E(n(152)),p=E(n(114)),d=E(n(742)),g=n(218),y=E(n(184)),m=E(n(121)),v=E(n(744)),_=E(n(746)),b=E(n(119)),w=E(n(747)),x=n(174),S=n(363);function E(t){return t&&t.__esModule?t:{default:t}}var O,P={},C=/font-family: ?([^;]*);/,T=/("|')/g;function N(t){if(!O){O={};for(var e=document.styleSheets,n=0,r=e.length;n<r;++n){var i=e[n];try{var o=i.rules||i.cssRules;if(o)for(var a=0,s=o.length;a<s;++a){var u=o[a];if(5==u.type){var l=u.cssText.match(C);O[l[1].replace(T,"")]=!0}}}catch(t){}}}return t in O}var I={},M=s.default.getNames();function A(t){var e=t.toString();if(e in I)return t;for(var n=t.map((function(t){var e=(0,i.default)(t,1).split(" ");return[e.slice(3).join(" ").replace(/"/g,""),e[1]+e[0]]})),r=0,o=n.length;r<o;++r){var a=n[r],s=a[0];if(!N(s)&&-1!==M.indexOf(s)){var u="https://fonts.googleapis.com/css?family="+s.replace(/ /g,"+")+":"+a[1];if(!document.querySelector('link[href="'+u+'"]')){var l=document.createElement("link");l.href=u,l.rel="stylesheet",document.head.appendChild(l)}}}return I[e]=!0,t}var L=/^(.*)(\?.*)$/;function R(t,e){return e&&0===t.indexOf(".")&&(t=e+t),t}function k(t,e,n){var r=(t=R(t,e)).match(L);return r?r[1]+n+(r.length>2?r[2]:""):t+n}function F(t,e,n,i,o){return new Promise((function(s,u){if("object"!=(void 0===e?"undefined":r(e))&&(e=JSON.parse(e)),8!=e.version)return u(new Error("glStyle version 8 required."));if(!(t instanceof m.default||t instanceof v.default))return u(new Error("Can only apply to VectorLayer or VectorTileLayer"));var l,c,f;function h(){f||e.sprite&&!l?f?(t.setStyle(f),s()):u(new Error("Something went wrong trying to apply style.")):(f=(0,a.default)(t,e,n,o,l,c,A),t.getStyle()?s():u(new Error("Nothing to show for source ["+n+"]")))}if(e.sprite){var p=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",d=k(e.sprite,i,p+".json");fetch(d,{credentials:"same-origin"}).then((function(t){return t.ok||""===p?t:(d=k(e.sprite,i,".json"),fetch(d,{credentials:"same-origin"}))})).then((function(t){if(t.ok)return t.json();u(new Error("Problem fetching sprite from "+d+": "+t.statusText))})).then((function(t){if(void 0===t)return u(new Error("No sprites found."));l=t,c=k(e.sprite,i,p+".png"),h()})).catch((function(t){u(new Error("Sprites cannot be loaded: "+d+": "+t.message))}))}else h()}))}var j={};function D(t,e){var n={type:e.type};function r(){var r=t.getTargetElement();if(r){var i=e.layout||{},a=e.paint||{};n.paint=a,n.id="olms-bg-"+a["background-opacity"]+a["background-color"];var s=t.getView().getZoom();if(void 0!==a["background-color"]){var u=(0,o.getValue)(n,"paint","background-color",s,j);r.style.background=x.Color.parse(u).toString()}void 0!==a["background-opacity"]&&(r.style.opacity=(0,o.getValue)(n,"paint","background-opacity",s,j)),"none"==i.visibility&&(r.style.backgroundColor="",r.style.opacity="")}}t.getTargetElement()&&r(),t.on(["change:resolution","change:target"],r)}function U(t){var e=t.bounds;if(e){var n=(0,u.fromLonLat)([e[0],e[1]]),r=(0,u.fromLonLat)([e[2],e[3]]);return[n[0],n[1],r[0],r[1]]}}var G=new p.default;function z(t,e,n){var r=n.getZoom(),i=(0,o.getValue)(t,"paint","raster-opacity",r,j);e.setOpacity(i)}function B(t,e,n,r,i,o){void 0===o&&(o="");var a=[],s=e.getView();s.isDef()||s.getRotation()||s.getResolutions()||(s=new h.default({maxResolution:S.defaultResolutions[0]}),e.setView(s)),"center"in t&&!s.getCenter()&&s.setCenter((0,u.fromLonLat)(t.center)),"zoom"in t&&void 0===s.getZoom()&&s.setResolution(S.defaultResolutions[0]/Math.pow(2,t.zoom)),s.getCenter()&&void 0!==s.getZoom()||s.fit(s.getProjection().getExtent(),{nearest:!0,size:e.getSize()}),t.sprite&&(0==t.sprite.indexOf("mapbox://")?t.sprite=n+"/sprite"+o:0!=t.sprite.indexOf("http")&&(t.sprite=(r?r+i:"")+t.sprite+o));for(var f,p,x,E,O,C,T=t.layers,N=[],I=function(n,u){var h=(f=T[n]).type;if("heatmap"==h||"hillshade"==h);else if("background"==h)D(e,f);else{if((E=f.source||function(t,e){var n;return t.some((function(t){if(t.id==e)return n=t.source,!0})),n}(T,f.ref))!=x){if(N.length&&(a.push(V(O,N,t,i,e)),N=[]),p=t.sources[E],C=p.url)if(0==(C=R(C,i)).indexOf("mapbox://")){var I=C.replace("mapbox://","");p.tiles=["a","b","c","d"].map((function(t){return"https://"+t+".tiles.mapbox.com/v4/"+I+"/{z}/{x}/{y}."+("vector"==p.type?"vector.pbf":"png")+o}))}else 0===C.indexOf("/")&&0===r.indexOf("http")&&(C=r+C);"vector"==p.type?O=function(t,e,n){t=(0,S.assign)({},t);var r=new v.default({declutter:!0,visible:!1}),i=JSON.stringify(t),o=P[i];o||(o=P[i]=new _.default({url:t.tiles?void 0:n,tileJSON:t.tiles?t:void 0}));var a=o.on("change",(function(){var t=o.getState();if("ready"===t){var e=o.getTileJSON(),i=Array.isArray(e.tiles)?e.tiles:[e.tiles];if(n)for(var s=0,u=i.length;s<u;++s){var l=i[s];0!=l.indexOf("http")&&(i[s]=n.replace(/\/?$/,"/")+l.replace(/^\//,""))}var f=o.getTileGrid(),h=U(e),p=e.minzoom||0,y=e.maxzoom||22,m=o.get("ol-source");void 0===m&&(m=new w.default({attributions:o.getAttributions(),format:new d.default,tileGrid:new c.default({origin:f.getOrigin(0),extent:h||f.getExtent(),minZoom:p,resolutions:S.defaultResolutions.slice(0,y+1),tileSize:512}),urls:i}),o.set("ol-source",m)),(0,g.unByKey)(a),r.setSource(m)}else"error"===t&&(o.set("ol-source",null),(0,g.unByKey)(a),r.setSource(void 0))}));return"ready"===o.getState()&&o.changed(),r}(p,0,C):"raster"==p.type?((O=function(t,e){var n=new y.default,r=new _.default({transition:0,url:t.tiles?void 0:e,tileJSON:t.tiles?t:void 0,crossOrigin:"anonymous"}),i=r.on("change",(function(){var e=r.getState();if("ready"===e){(0,g.unByKey)(i);var o=r.getTileJSON(),a=U(o),s=r.getTileGrid(),u=t.tileSize||o.tileSize||512,f=o.minzoom||0,h=o.maxzoom||22;r.tileGrid=new c.default({origin:s.getOrigin(0),extent:a||s.getExtent(),minZoom:f,resolutions:(0,l.createXYZ)({maxZoom:h,tileSize:u}).getResolutions(),tileSize:u}),n.setSource(r)}else"error"===e&&((0,g.unByKey)(i),n.setSource(void 0))}));return r.setTileLoadFunction((function(t,e){if(-1!=e.indexOf("{bbox-epsg-3857}")){var n=r.getTileGrid().getTileCoordExtent(t.getTileCoord());e=e.replace("{bbox-epsg-3857}",n.toString())}t.getImage().src=e})),n}(p,C)).setVisible(!f.layout||"none"!==f.layout.visibility),s.on("change:resolution",z.bind(M,f,O,s)),z(f,O,s)):"geojson"==p.type&&(O=function(t,e){var n,r,i=t.data;return"string"==typeof i?r=R(i,e):n=G.readFeatures(i,{featureProjection:"EPSG:3857"}),new m.default({source:new b.default({attributions:t.attribution,features:n,format:G,url:r}),visible:!1})}(p,i)),x=E,O&&O.set("mapbox-source",x)}N.push(f.id)}},M=this,A=0,L=T.length;A<L;++A)I(A);return a.push(V(O,N,t,i,e)),e.set("mapbox-style",t),Promise.all(a)}function q(t,e){var n,r,i,o,a;if(n=r=i=o="",("string"==typeof t||t instanceof HTMLElement)&&(t=new f.default({target:t})),"string"==typeof e){var s=e.match(L);s&&(r=s[1],n=s.length>2?s[2]:""),a=new Promise((function(a,s){fetch(e,{credentials:"same-origin"}).then((function(t){return t.json()})).then((function(u){var l=document.createElement("A");l.href=e;var c=l.href;o=l.pathname.split("/").slice(0,-1).join("/")+"/",i=c.substr(0,c.indexOf(o)),B(u,t,r,i,o,n).then((function(){a(t)})).catch(s)})).catch((function(t){s(new Error("Could not load "+e+": "+t.message))}))}))}else a=new Promise((function(n,r){B(e,t).then((function(){n(t)})).catch(r)}));return a}function V(t,e,n,r,i){for(var o=24,a=0,s=n.layers,u=0,l=s.length;u<l;++u){var c=s[u];-1!==e.indexOf(c.id)&&(o=Math.min("minzoom"in c?c.minzoom:0,o),a=Math.max("maxzoom"in c?c.maxzoom:24,a))}return new Promise((function(s,u){var l=function(){var i=t.getSource();if(i&&"error"!==i.getState()){if("function"==typeof i.getTileGrid){var l=i.getTileGrid();if(l){var c=l.getMinZoom();(o>0||c>0)&&t.setMaxResolution(Math.min(S.defaultResolutions[o],l.getResolution(c))+1e-9),a<24&&t.setMinResolution(S.defaultResolutions[a]+1e-9)}}i instanceof b.default||i instanceof w.default?F(t,n,e,r).then((function(){t.setVisible(!0),s()}),(function(t){u(t)})):s()}else u(new Error("Error accessing data for source "+t.get("mapbox-source")))};t.set("mapbox-layers",e),-1===i.getLayers().getArray().indexOf(t)&&i.addLayer(t),t.getSource()?l():t.once("change:source",l)}))}e._finalizeLayer=V,e._getFonts=A},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._functionCache=e._getValue=e._fromTemplate=e._evaluateFilter=e._filterCache=e._colorWithOpacity=void 0,e.getValue=P,e.recordStyleLayer=function(t){A=t},e.default=function(t,e,n,p,y,m,v){if(void 0===p&&(p=h.defaultResolutions),"string"==typeof e&&(e=JSON.parse(e)),8!=e.version)throw new Error("glStyle version 8 required.");var _,x;if(m)if("undefined"!=typeof Image){var E=new Image;E.crossOrigin="anonymous",E.onload=function(){_=E,x=[E.width,E.height],t.changed(),E.onload=null},E.src=m}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var I=self;I.postMessage({action:"loadImage",src:m}),I.addEventListener("message",(function(t){"imageLoaded"===t.data.action&&t.data.src===m&&(_=t.data.image,x=[_.width,_.height])}))}for(var L,R=(0,c.derefLayers)(e.layers),k={},F=[],j=0,D=R.length;j<D;++j){var U=R[j],G=U.id;if("string"==typeof n&&U.source==n||-1!==n.indexOf(G)){var z=U["source-layer"];if(!L){L=U.source;var B=e.sources[L];if(!B)throw new Error('Source "'+L+'" is not defined');var q=B.type;if("vector"!==q&&"geojson"!==q)throw new Error('Source "'+L+'" is not of type "vector" or "geojson", but "'+q+'"')}var V=k[z];V||(V=k[z]=[]),V.push({layer:U,index:j}),F.push(G)}delete O[G],delete C[G]}var Y=new o.default,H=new i.default,W={},X={},K=[],Z=function(t,e){var n=t.getProperties(),c=k[n.layer];if(c){var m=p.indexOf(e);-1==m&&(m=(0,h.getZoomForResolution)(e,p));for(var E,O=b[t.getGeometry().getType()],C={properties:n,type:O},I=-1,L=function(p,b){var A=c[p],L=A.layer,R=L.id,k=L.layout||S,F=L.paint||S;if("none"===k.visibility||"minzoom"in L&&m<L.minzoom||"maxzoom"in L&&m>=L.maxzoom)return"continue";var j=L.filter;if(!j||T(R,j,C,m)){E=L;var D=void 0,U=void 0,G=void 0,z=void 0,B=void 0,q=void 0,V=A.index;if(3==O&&("fill"==L.type||"fill-extrusion"==L.type))if(U=P(L,"paint",L.type+"-opacity",m,C),L.type+"-pattern"in F){var Z=P(L,"paint",L.type+"-pattern",m,C);if(Z){var J="string"==typeof Z?M(Z,n):Z.toString();if(_&&y&&y[J]){(q=K[++I])&&q.getFill()&&!q.getStroke()&&!q.getText()||(q=K[I]=new r.default({fill:new i.default})),G=q.getFill(),q.setZIndex(V);var Q=X[Ct=J+"."+U];if(!Q){var $=y[J];(Nt=(Tt=(0,h.createCanvas)($.width,$.height)).getContext("2d")).globalAlpha=U,Nt.drawImage(_,$.x,$.y,$.width,$.height,0,0,$.width,$.height),Q=Nt.createPattern(Tt,"repeat"),X[Ct]=Q}G.setColor(Q)}}}else(D=N(P(L,"paint",L.type+"-color",m,C),U))&&(L.type+"-outline-color"in F&&(B=N(P(L,"paint",L.type+"-outline-color",m,C),U)),B||(B=D),(q=K[++I])&&q.getFill()&&q.getStroke()&&!q.getText()||(q=K[I]=new r.default({fill:new i.default,stroke:new o.default})),(G=q.getFill()).setColor(D),(z=q.getStroke()).setColor(B),z.setWidth(1),q.setZIndex(V));if(1!=O&&"line"==L.type){D=!("line-pattern"in F)&&"line-color"in F?N(P(L,"paint","line-color",m,C),P(L,"paint","line-opacity",m,C)):void 0;var tt=P(L,"paint","line-width",m,C);D&&tt>0&&((q=K[++I])&&q.getStroke()&&!q.getFill()&&!q.getText()||(q=K[I]=new r.default({stroke:new o.default})),(z=q.getStroke()).setLineCap(P(L,"layout","line-cap",m,C)),z.setLineJoin(P(L,"layout","line-join",m,C)),z.setMiterLimit(P(L,"layout","line-miter-limit",m,C)),z.setColor(D),z.setWidth(tt),z.setLineDash(F["line-dasharray"]?P(L,"paint","line-dasharray",m,C).map((function(t){return t*tt})):null),q.setZIndex(V))}var et=!1,nt=null,rt=0,it=void 0,ot=void 0,at=void 0;if((1==O||2==O)&&"icon-image"in k){var st=P(L,"layout","icon-image",m,C);if(st){it="string"==typeof st?M(st,n):st.toString();var ut=void 0;if(_&&y&&y[it]){var lt=P(L,"layout","icon-rotation-alignment",m,C);if(2==O){var ct=t.getGeometry();if(ct.getFlatMidpoint||ct.getFlatMidpoints){var ft=ct.getExtent();if(Math.sqrt(Math.max(Math.pow((ft[2]-ft[0])/e,2),Math.pow((ft[3]-ft[1])/e,2)))>150){var ht="MultiLineString"===ct.getType()?ct.getFlatMidpoints():ct.getFlatMidpoint();if(g||(d=[NaN,NaN],g=new l.default("Point",d,[],{},null)),ut=g,d[0]=ht[0],d[1]=ht[1],"line"===(Kt=P(L,"layout","symbol-placement",m,C))&&"map"===lt)for(var pt=ct.getStride(),dt=ct.getFlatCoordinates(),gt=0,yt=dt.length-pt;gt<yt;gt+=pt){var mt=dt[gt],vt=dt[gt+1],_t=dt[gt+pt],bt=dt[gt+pt+1],wt=Math.min(mt,_t),xt=Math.min(vt,bt),St=Math.max(mt,_t),Et=Math.max(vt,bt);if(ht[0]>=wt&&ht[0]<=St&&ht[1]>=xt&&ht[1]<=Et){rt=Math.atan2(vt-bt,_t-mt);break}}}}}if(2!==O||ut){var Ot=P(L,"layout","icon-size",m,C),Pt=void 0!==F["icon-color"]?P(L,"paint","icon-color",m,C):null;if(!Pt||0!==Pt.a){var Ct=it+"."+Ot;if(null!==Pt&&(Ct+="."+Pt),!(ot=W[Ct]))if($=y[it],null!==Pt){var Tt,Nt;(Nt=(Tt=(0,h.createCanvas)($.width,$.height)).getContext("2d")).drawImage(_,$.x,$.y,$.width,$.height,0,0,$.width,$.height);for(var It=Nt.getImageData(0,0,Tt.width,Tt.height),Mt=0,At=It.data.length;Mt<At;Mt+=4){var Lt=Pt.a;0!==Lt&&(It.data[Mt]=255*Pt.r/Lt,It.data[Mt+1]=255*Pt.g/Lt,It.data[Mt+2]=255*Pt.b/Lt),It.data[Mt+3]=Lt}Nt.putImageData(It,0,0),ot=W[Ct]=new a.default({img:Tt,imgSize:[Tt.width,Tt.height],scale:Ot/$.pixelRatio})}else ot=W[Ct]=new a.default({img:_,imgSize:x,size:[$.width,$.height],offset:[$.x,$.y],rotateWithView:"map"===lt,scale:Ot/$.pixelRatio})}ot&&((q=K[++I])&&q.getImage()&&!q.getFill()&&!q.getStroke()||(q=K[I]=new r.default),q.setGeometry(ut),ot.setRotation(rt+(0,h.deg2rad)(P(L,"layout","icon-rotate",m,C))),ot.setOpacity(P(L,"paint","icon-opacity",m,C)),ot.setAnchor(w[P(L,"layout","icon-anchor",m,C)]),q.setImage(ot),nt=q.getText(),q.setText(void 0),q.setZIndex(V),et=!0,at=!1)}else at=!0}}}if(1==O&&"circle-radius"in F){(q=K[++I])&&q.getImage()&&!q.getFill()&&!q.getStroke()||(q=K[I]=new r.default);var Rt=P(L,"paint","circle-radius",m,C),kt=N(P(L,"paint","circle-stroke-color",m,C),P(L,"paint","circle-stroke-opacity",m,C)),Ft=N(P(L,"paint","circle-color",m,C),P(L,"paint","circle-opacity",m,C)),jt=P(L,"paint","circle-stroke-width",m,C),Dt=Rt+"."+kt+"."+Ft+"."+jt;(ot=W[Dt])||(ot=W[Dt]=new u.default({radius:Rt,stroke:kt&&jt>0?new o.default({width:jt,color:kt}):void 0,fill:Ft?new i.default({color:Ft}):void 0})),q.setImage(ot),nt=q.getText(),q.setText(void 0),q.setGeometry(void 0),q.setZIndex(V),et=!0}var Ut=void 0;if("text-field"in k&&(Ut=M(P(L,"layout","text-field",m,C).toString(),n).trim(),U=P(L,"paint","text-opacity",m,C)),Ut&&U&&!at){et||((q=K[++I])&&q.getText()&&!q.getFill()&&!q.getStroke()||(q=K[I]=new r.default),q.setImage(void 0),q.setGeometry(void 0)),q.getText()||q.setText(nt||new s.default({padding:[2,2,2,2]})),nt=q.getText();var Gt=Math.round(P(L,"layout","text-size",m,C)),zt=P(L,"layout","text-font",m,C),Bt=P(L,"layout","text-line-height",m,C),qt=(0,f.default)(v?v(zt):zt,Gt,Bt),Vt=k["text-transform"];"uppercase"==Vt?Ut=Ut.toUpperCase():"lowercase"==Vt&&(Ut=Ut.toLowerCase());var Yt=P(L,"layout","text-max-width",m,C),Ht=P(L,"layout","text-letter-spacing",m,C),Wt=2==O?(0,h.applyLetterSpacing)(Ut,Ht):(0,h.wrapText)(Ut,qt,Yt,Ht);nt.setText(Wt),nt.setFont(qt),nt.setRotation((0,h.deg2rad)(P(L,"layout","text-rotate",m,C)));var Xt=P(L,"layout","text-anchor",m,C),Kt=et||1==O?"point":P(L,"layout","symbol-placement",m,C);nt.setPlacement(Kt);var Zt=P(L,"paint","text-halo-width",m,C),Jt=P(L,"layout","text-offset",m,C),Qt=P(L,"paint","text-translate",m,C),$t=0,te=0;if("point"==Kt){var ee="center";-1!==Xt.indexOf("left")?(ee="left",te=Zt):-1!==Xt.indexOf("right")&&(ee="right",te=-Zt),nt.setTextAlign(ee);var ne=P(L,"layout","text-rotation-alignment",m,C);nt.setRotateWithView("map"==ne)}else nt.setMaxAngle((0,h.deg2rad)(P(L,"layout","text-max-angle",m,C))*Ut.length/Wt.length),nt.setTextAlign(),nt.setRotateWithView(!1);var re="middle";0==Xt.indexOf("bottom")?(re="bottom",$t=-Zt-.5*(Bt-1)*Gt):0==Xt.indexOf("top")&&(re="top",$t=Zt+.5*(Bt-1)*Gt),nt.setTextBaseline(re),nt.setOffsetX(Jt[0]*Gt+te+Qt[0]),nt.setOffsetY(Jt[1]*Gt+$t+Qt[1]),H.setColor(N(P(L,"paint","text-color",m,C),U)),nt.setFill(H);var ie=N(P(L,"paint","text-halo-color",m,C),U);if(ie){Y.setColor(ie),Zt*=2;var oe=.5*Gt;Y.setWidth(Zt<=oe?Zt:oe),nt.setStroke(Y)}else nt.setStroke(void 0);var ae=P(L,"layout","text-padding",m,C),se=nt.getPadding();ae!==se[0]&&(se[0]=se[1]=se[2]=se[3]=ae),q.setZIndex(V)}}},R=0,F=c.length;R<F;++R)L(R);return I>-1?(K.length=I+1,A&&("function"==typeof t.set?t.set("mapbox-layer",E):t.getProperties()["mapbox-layer"]=E),K):void 0}};return t.setStyle(Z),t.set("mapbox-source",L),t.set("mapbox-layers",F),Z};var r=p(n(83)),i=p(n(131)),o=p(n(148)),a=p(n(229)),s=p(n(149)),u=p(n(233)),l=p(n(362)),c=n(174),f=p(n(361)),h=n(363);function p(t){return t&&t.__esModule?t:{default:t}}var d,g,y=c.function.isFunction,m=c.function.convertFunction,v=c.expression.isExpression,_=c.expression.createPropertyExpression,b={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},w={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},x=function(t,e){var n=_(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value},S={},E={zoom:0},O={};function P(t,e,n,r,i){var o=t.id;O[o]||(O[o]={});var a=O[o];if(!a[n]){var s=(t[e]||S)[n],u=c.latest[e+"_"+t.type][n];void 0===s&&(s=u.default);var l=v(s);if(!l&&y(s)&&(s=m(s,u),l=!0),l){var f=x(s,u);a[n]=f.evaluate.bind(f)}else"color"==u.type&&(s=c.Color.parse(s)),a[n]=function(){return s}}return E.zoom=r,a[n](E,i)}var C={};function T(t,e,n,r){return t in C||(C[t]=(0,c.featureFilter)(e).filter),E.zoom=r,C[t](E,n)}function N(t,e){if(t){if(0===t.a||0===e)return;var n=t.a;return e=void 0===e?1:e,"rgba("+Math.round(255*t.r/n)+","+Math.round(255*t.g/n)+","+Math.round(255*t.b/n)+","+n*e+")"}return t}var I=/^([^]*)\{(.*)\}([^]*)$/;function M(t,e){var n;do{if(n=t.match(I)){var r=e[n[2]]||"";t=n[1]+r+n[3]}}while(n);return t}var A=!1;e._colorWithOpacity=N,e._filterCache=C,e._evaluateFilter=T,e._fromTemplate=M,e._getValue=P,e._functionCache=O},function(t,e){(function(){var e;t.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return e},getLink:function(t){return"https://fonts.google.com/specimen/"+t.replace(/( )/g,"+")},normalizeName:function(t){return t}},e=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=w(n(743)),o=n(75),a=w(o),s=w(n(170)),u=w(n(46)),l=w(n(17)),c=w(n(65)),f=w(n(117)),h=w(n(89)),p=w(n(118)),d=w(n(47)),g=w(n(35)),y=n(173),m=w(n(141)),v=w(n(57)),_=w(n(362)),b=n(5);function w(t){return t&&t.__esModule?t:{default:t}}var x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.dataProjection=new m.default({code:"",units:v.default.TILE_PIXELS}),n.featureClass_=r.featureClass?r.featureClass:_.default,n.geometryName_=r.geometryName,n.layerName_=r.layerName?r.layerName:"layer",n.layers_=r.layers?r.layers:null,n.idProperty_=r.idProperty,n}return x(e,t),e.prototype.readRawGeometry_=function(t,e,n,i){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,a=1,s=0,u=0,l=0,c=0,f=0;t.pos<o;){if(!s){var h=t.readVarint();a=7&h,s=h>>3}s--,1===a||2===a?(u+=t.readSVarint(),l+=t.readSVarint(),1===a&&c>f&&(i.push(c),f=c),n.push(u,l),c+=2):7===a?c>f&&(n.push(n[f],n[f+1]),c+=2):(0,r.assert)(!1,59)}c>f&&(i.push(c),f=c)},e.prototype.createFeature_=function(t,e,n){var r,i=e.type;if(0===i)return null;var a,s=e.properties;this.idProperty_?(a=s[this.idProperty_],delete s[this.idProperty_]):a=e.id,s[this.layerName_]=e.layer.name;var m=[],v=[];this.readRawGeometry_(t,e,m,v);var b=function(t,e){var n;return 1===t?n=1===e?l.default.POINT:l.default.MULTI_POINT:2===t?n=1===e?l.default.LINE_STRING:l.default.MULTI_LINE_STRING:3===t&&(n=l.default.POLYGON),n}(i,v.length);if(this.featureClass_===_.default)(r=new this.featureClass_(b,m,v,s,a)).transform(n.dataProjection,n.featureProjection);else{var w=void 0;if(b==l.default.POLYGON){for(var x=[],S=0,E=0,O=0,P=v.length;O<P;++O){var C=v[O];(0,y.linearRingIsClockwise)(m,S,C,2)||(x.push(v.slice(E,O)),E=O),S=C}w=x.length>1?new p.default(m,u.default.XY,x):new g.default(m,u.default.XY,v)}else w=b===l.default.POINT?new d.default(m,u.default.XY):b===l.default.LINE_STRING?new c.default(m,u.default.XY):b===l.default.POLYGON?new g.default(m,u.default.XY,v):b===l.default.MULTI_POINT?new h.default(m,u.default.XY):b===l.default.MULTI_LINE_STRING?new f.default(m,u.default.XY,v):null;r=new(0,this.featureClass_),this.geometryName_&&r.setGeometryName(this.geometryName_);var T=(0,o.transformGeometryWithOptions)(w,!1,n);r.setGeometry(T),r.setId(a),r.setProperties(s,!0)}return r},e.prototype.getType=function(){return s.default.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var n=this.layers_,r=this.adaptOptions(e),o=(0,b.get)(r.dataProjection);o.setWorldExtent(r.extent),r.dataProjection=o;var a=new i.default(t),s=a.readFields(E,{}),u=[];for(var l in s)if(!n||-1!=n.indexOf(l)){var c=s[l],f=c?[0,0,c.extent,c.extent]:null;o.setExtent(f);for(var h=0,p=c.length;h<p;++h){var d=C(a,c,h);u.push(this.createFeature_(a,d,r))}}return u},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(a.default);function E(t,e,n){if(3===t){var r={keys:[],values:[],features:[]},i=n.readVarint()+n.pos;n.readFields(O,r,i),r.length=r.features.length,r.length&&(e[r.name]=r)}}function O(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){for(var r=null,i=n.readVarint()+n.pos;n.pos<i;)r=1==(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(r)}}function P(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t)for(var r=n.readVarint()+n.pos;n.pos<r;){var i=e.layer.keys[n.readVarint()],o=e.layer.values[n.readVarint()];e.properties[i]=o}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function C(t,e,n){t.pos=e.features[n];var r=t.readVarint()+t.pos,i={layer:e,type:0,properties:{}};return t.readFields(P,i,r),i}e.default=S},function(t,e,n){"use strict";t.exports=i;var r=n(304);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function u(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function l(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function _(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=v(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=v(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return s(t,r,e);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return s(t,r,e);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return s(t,r,e);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return s(t,r,e);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return s(t,r,e);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return s(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&o?function(t,e,n){return o.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var r="",i=e;i<n;){var o,a,s,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var n=a(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=a(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),_(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),_(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),_(this.buf,-1&t,this.pos),_(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),_(this.buf,-1&t,this.pos),_(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&u(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&u(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),i=l(n(359)),o=l(n(328)),a=l(n(364)),s=l(n(745)),u=n(13);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e){var n=this,i=e||{},o=(0,u.assign)({},i);delete o.preload,delete o.useInterimTilesOnError,n=t.call(this,o)||this;var s=i.renderMode||a.default.HYBRID;return(0,r.assert)(null==s||s==a.default.IMAGE||s==a.default.HYBRID||s==a.default.VECTOR,28),n.renderMode_=s,n.setPreload(i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return c(e,t),e.prototype.createRenderer=function(){return new s.default(this)},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(i.default.PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(i.default.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(i.default.PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(i.default.USE_INTERIM_TILES_ON_ERROR,t)},e}(o.default);e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=w(n(60)),o=w(n(150)),a=n(24),s=w(n(8)),u=n(4),l=w(n(364)),c=w(n(238)),f=w(n(331)),h=w(n(360)),p=n(122),d=n(240),g=n(36),y=n(334),m=w(y),v=n(13),_=n(336),b=n(67);function w(t){return t&&t.__esModule?t:{default:t}}var x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S={image:[c.default.POLYGON,c.default.CIRCLE,c.default.LINE_STRING,c.default.IMAGE,c.default.TEXT],hybrid:[c.default.POLYGON,c.default.LINE_STRING],vector:[]},E={image:[c.default.DEFAULT],hybrid:[c.default.IMAGE,c.default.TEXT,c.default.DEFAULT],vector:[c.default.POLYGON,c.default.CIRCLE,c.default.LINE_STRING,c.default.IMAGE,c.default.TEXT,c.default.DEFAULT]},O=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.renderedLayerRevision_,n.renderedPixelToCoordinateTransform_=null,n.renderedRotation_,n.renderTileImageQueue_={},n.tileListenerKeys_={},n.tmpTransform_=(0,g.create)(),n}return x(e,t),e.prototype.prepareTile=function(t,e,n,o){var s,u=(0,r.getUid)(t),l=t.getState();return(l===i.default.LOADED&&t.hifi||l===i.default.ERROR)&&u in this.tileListenerKeys_&&((0,a.unlistenByKey)(this.tileListenerKeys_[u]),delete this.tileListenerKeys_[u]),l!==i.default.LOADED&&l!==i.default.ERROR||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t,e,n)&&(s=!0,o&&(this.renderTileImageQueue_[u]=t))),s},e.prototype.getTile=function(e,n,u,c){var f=c.pixelRatio,h=c.viewState,p=h.resolution,d=h.projection,g=this.getLayer(),y=g.getSource().getTile(e,n,u,f,d);if(y.getState()<i.default.LOADED){y.wantedResolution=p;var m=(0,r.getUid)(y);if(!(m in this.tileListenerKeys_)){var v=(0,a.listen)(y,s.default.CHANGE,this.prepareTile.bind(this,y,f,d,!0));this.tileListenerKeys_[m]=v}}else{var _=c.viewHints;!(!_[o.default.ANIMATING]&&!_[o.default.INTERACTING])&&y.wantedResolution||(y.wantedResolution=p),this.prepareTile(y,f,d,!1)&&g.getRenderMode()!==l.default.VECTOR&&this.renderTileImage_(y,c)}return t.prototype.getTile.call(this,e,n,u,c)},e.prototype.isDrawableTile=function(e){var n=this.getLayer();return t.prototype.isDrawableTile.call(this,e)&&n.getRenderMode()===l.default.VECTOR||e.hasContext(n)},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){var n=this.getLayer().getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,n){var o=this.getLayer(),a=o.getRevision(),s=o.getRenderOrder()||null,c=t.wantedResolution,h=t.getReplayState(o);if(h.dirty||h.renderedResolution!==c||h.renderedRevision!=a||h.renderedRenderOrder!=s||h.renderedZ!==t.sourceZ){var p=o.getSource(),g=p.getTileGrid(),y=p.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),v=p.getSourceTiles(e,n,t),_=(0,r.getUid)(o);delete t.hitDetectionImageData[_],t.executorGroups[_]=[];for(var b=function(n,r){var a=v[n];if(a.getState()!=i.default.LOADED)return"continue";var b=a.tileCoord,x=g.getTileCoordExtent(b),S=(0,u.getIntersection)(y,x),E=(0,u.equals)(x,S)?null:(0,u.buffer)(S,o.getRenderBuffer()*c,w.tmpExtent);h.dirty=!1;var O=new f.default(0,S,c,e,o.getDeclutter()),P=(0,d.getSquaredTolerance)(c,e),C=function(t){var e,n=t.getStyleFunction()||o.getStyleFunction();if(n&&(e=n(t,c)),e){var r=this.renderFeature(t,P,e,O);this.dirty_=this.dirty_||r,h.dirty=h.dirty||r}},T=a.getFeatures();s&&s!==h.renderedRenderOrder&&T.sort(s);for(var N=0,I=T.length;N<I;++N){var M=T[N];E&&!(0,u.intersects)(E,M.getGeometry().getExtent())||C.call(w,M)}var A=O.finish(),L=o.getRenderMode()!==l.default.VECTOR&&o.getDeclutter()&&1===v.length?null:S,R=new m.default(L,c,e,p.getOverlaps(),A,o.getRenderBuffer());t.executorGroups[_].push(R)},w=this,x=0,S=v.length;x<S;++x)b(x);h.renderedRevision=a,h.renderedZ=t.sourceZ,h.renderedRenderOrder=s,h.renderedResolution=c}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){var a=e.viewState.resolution,s=e.viewState.rotation;n=null==n?0:n;var l,c,f,h=this.getLayer(),p=h.getDeclutter(),d=h.getSource().getTileGridForProjection(e.viewState.projection),g={},y=this.renderedTiles,m=function(){var e=y[c],f=d.getTileCoordExtent(e.wrappedTileCoord),m=(0,u.containsCoordinate)(f,t);if(!p&&!m)return"continue";for(var v=e.executorGroups[(0,r.getUid)(h)],_=0,b=v.length;_<b;++_){var w=v[_];l=l||w.forEachFeatureAtCoordinate(t,a,s,n,(function(t){if(m||o&&-1!==o.indexOf(t)){var e=t.getId();if(void 0===e&&(e=(0,r.getUid)(t)),!(e in g))return g[e]=!0,i(t,h)}}),h.getDeclutter()?o:null)}};for(c=0,f=y.length;c<f;++c)m();return l},e.prototype.getFeatures=function(t){return new Promise(function(e,n){for(var o,a=this.getLayer(),s=(0,r.getUid)(a),l=a.getSource(),c=this.renderedProjection,f=c.getExtent(),h=this.renderedResolution,d=l.getTileGridForProjection(c),y=(0,g.apply)(this.renderedPixelToCoordinateTransform_,t.slice()),m=d.getTileCoordForCoordAndResolution(y,h),v=0,w=this.renderedTiles.length;v<w;++v)if(m.toString()===this.renderedTiles[v].tileCoord.toString()){if((o=this.renderedTiles[v]).getState()===i.default.LOADED&&o.hifi){var x=d.getTileCoordExtent(o.tileCoord);l.getWrapX()&&c.canWrapX()&&!(0,u.containsExtent)(f,x)&&(0,b.wrapX)(y,c);break}o=void 0}if(!o||o.loadingSourceTiles>0)e([]);else{var S=d.getTileCoordExtent(o.wrappedTileCoord),E=(0,u.getTopLeft)(S),O=[(y[0]-E[0])/h,(E[1]-y[1])/h],P=o.getSourceTiles().reduce((function(t,e){return t.concat(e.getFeatures())}),[]),C=o.hitDetectionImageData[s];if(!C&&!this.animatingOrInteracting_){var T=(0,p.toSize)(d.getTileSize(d.getZForResolution(h))),N=[T[0]/2,T[1]/2],I=this.renderedRotation_,M=[this.getRenderTransform(d.getTileCoordCenter(o.wrappedTileCoord),h,0,.5,N[0],N[1],0)];C=(0,_.createHitDetectionImageData)(T,M,P,a.getStyleFunction(),d.getTileCoordExtent(o.wrappedTileCoord),o.getReplayState(a).renderedResolution,I),o.hitDetectionImageData[s]=C}e((0,_.hitDetect)(O,P,C))}}.bind(this))},e.prototype.handleFontsChanged=function(){(0,v.clear)(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderFrame=function(e,n){var i=e.viewHints,a=!(i[o.default.ANIMATING]||i[o.default.INTERACTING]);this.renderQueuedTileImages_(a,e),t.prototype.renderFrame.call(this,e,n),this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.renderedRotation_=e.viewState.rotation;var s=this.getLayer(),u=s.getRenderMode();if(u===l.default.IMAGE)return this.container;var c=s.getSource(),f=e.usedTiles[(0,r.getUid)(c)];for(var h in this.renderTileImageQueue_)f&&h in f||delete this.renderTileImageQueue_[h];for(var p=this.context,d=s.getDeclutter()?{}:null,m=E[u],v=e.pixelRatio,_=e.viewState,b=_.center,w=_.resolution,x=_.rotation,S=e.size,O=Math.round(S[0]*v),P=Math.round(S[1]*v),C=this.renderedTiles,T=c.getTileGridForProjection(e.viewState.projection),N=[],I=[],M=C.length-1;M>=0;--M)for(var A=C[M],L=A.tileCoord,R=T.getTileCoordExtent(A.wrappedTileCoord),k=T.getTileCoordExtent(L,this.tmpExtent)[0]-R[0],F=(0,g.multiply)((0,g.scale)(this.inversePixelTransform.slice(),1/v,1/v),this.getRenderTransform(b,w,x,v,O,P,k)),j=A.executorGroups[(0,r.getUid)(s)],D=!1,U=0,G=j.length;U<G;++U){var z=j[U];if(z.hasExecutors(m)){var B=A.tileCoord[0],q=void 0;if(!d&&!D){q=z.getClipCoords(F),p.save();for(var V=0,Y=N.length;V<Y;++V){var H=N[V];B<I[V]&&(p.beginPath(),p.moveTo(q[0],q[1]),p.lineTo(q[2],q[3]),p.lineTo(q[4],q[5]),p.lineTo(q[6],q[7]),p.moveTo(H[6],H[7]),p.lineTo(H[4],H[5]),p.lineTo(H[2],H[3]),p.lineTo(H[0],H[1]),p.clip())}}z.execute(p,F,x,a,m,d),d||D||(p.restore(),N.push(q),I.push(B),D=!0)}}if(d){var W=e.layerStatesArray[e.layerIndex];(0,y.replayDeclutter)(d,p,x,W.opacity,a,e.declutterItems)}return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var n in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var r=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(r,e)}},e.prototype.renderFeature=function(t,e,n,r){if(!n)return!1;var i=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)i=(0,d.renderFeature)(r,t,n[o],e,this.boundHandleStyleImageChange_)||i;else i=(0,d.renderFeature)(r,t,n,e,this.boundHandleStyleImageChange_);return i},e.prototype.tileImageNeedsRender_=function(t,e,n){var r=this.getLayer(),i=t.getReplayState(r),o=r.getRevision(),a=t.sourceZ,s=t.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o||i.renderedTileZ!==a},e.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),i=t.getReplayState(n),o=n.getRevision(),a=t.executorGroups[(0,r.getUid)(n)];i.renderedTileRevision=o,i.renderedTileZ=t.sourceZ;var s=t.wrappedTileCoord,u=s[0],l=n.getSource(),c=e.pixelRatio,f=e.viewState.projection,h=l.getTileGridForProjection(f),p=h.getResolution(t.tileCoord[0]),d=e.pixelRatio/t.wantedResolution*p,y=h.getResolution(u),m=t.getContext(n);c=Math.max(c,d/c);var v=l.getTilePixelSize(u,c,f);m.canvas.width=v[0],m.canvas.height=v[1];var _=c/d;if(1!==_){var b=(0,g.reset)(this.tmpTransform_);(0,g.scale)(b,_,_),m.setTransform.apply(m,b)}var w=h.getTileCoordExtent(s,this.tmpExtent),x=d/y,E=(0,g.reset)(this.tmpTransform_);(0,g.scale)(E,x,-x),(0,g.translate)(E,-w[0],-w[3]);for(var O=0,P=a.length;O<P;++O)a[O].execute(m,E,0,!0,S[n.getRenderMode()]);i.renderedTileResolution=t.wantedResolution},e}(h.default);e.default=O},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(248),i=n(18),o=n(4),a=n(365),s=n(5),u=f(n(92)),l=f(n(182)),c=n(96);function f(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:(0,s.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:u.default.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this;if(n.tileJSON_=null,n.tileSize_=e.tileSize,e.url)if(e.jsonp)(0,a.jsonp)(e.url,n.handleTileJSONResponse.bind(n),n.handleTileJSONError.bind(n));else{var r=new XMLHttpRequest;r.addEventListener("load",n.onXHRLoad_.bind(n)),r.addEventListener("error",n.onXHRError_.bind(n)),r.open("GET",e.url),r.send()}else e.tileJSON?n.handleTileJSONResponse(e.tileJSON):(0,i.assert)(!1,51);return n}return h(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(t){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,n=(0,s.get)("EPSG:4326"),i=this.getProjection();if(void 0!==t.bounds){var a=(0,s.getTransformFromProjections)(n,i);e=(0,o.applyTransform)(t.bounds,a)}var l=t.minzoom||0,f=t.maxzoom||22,h=(0,c.createXYZ)({extent:(0,c.extentFromProjection)(i),maxZoom:f,minZoom:l,tileSize:this.tileSize_});if(this.tileGrid=h,this.tileUrlFunction=(0,r.createFromTemplates)(t.tiles,h),void 0!==t.attribution&&!this.getAttributions()){var p=void 0!==e?e:n.getExtent();this.setAttributions((function(e){return(0,o.intersects)(p,e.extent)?[t.attribution]:null}))}this.tileJSON_=t,this.setState(u.default.READY)},e.prototype.handleTileJSONError=function(){this.setState(u.default.ERROR)},e}(l.default);e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLoadFunction=v;var r=g(n(60)),i=g(n(748)),o=g(n(749)),a=n(122),s=g(n(356)),u=n(84),l=n(96),c=n(4),f=g(n(8)),h=n(325),p=n(14),d=g(n(247));function g(t){return t&&t.__esModule?t:{default:t}}var y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=function(t){function e(e){var n=this,r=e.projection||"EPSG:3857",i=e.extent||(0,l.extentFromProjection)(r),a=e.tileGrid||(0,l.createXYZ)({extent:i,maxResolution:e.maxResolution,maxZoom:void 0!==e.maxZoom?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:r,state:e.state,tileGrid:a,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:v,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.loadingTiles_={},n.sourceTileCache=new d.default(n.tileCache.highWaterMark),n.overlaps_=null==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:o.default,n.tileGrids_={},n}return y(e,t),e.prototype.getFeaturesInExtent=function(t){var e=[],n=this.tileCache;if(0===n.getCount())return e;var i=(0,u.fromKey)(n.peekFirstKey())[0],o=this.tileGrid;return n.forEach((function(n){if(n.tileCoord[0]===i&&n.getState()===r.default.LOADED)for(var a=n.getSourceTiles(),s=0,u=a.length;s<u;++s){var l=a[s],f=l.tileCoord;if((0,c.intersects)(t,o.getTileCoordExtent(f))){var h=l.getFeatures();if(h)for(var p=0,d=h.length;p<d;++p){var g=h[p],y=g.getGeometry();(0,c.intersects)(t,y.getExtent())&&e.push(g)}}}})),e},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileCache.clear()},e.prototype.expireCache=function(e,n){t.prototype.expireCache.call(this,e,n),this.sourceTileCache.expireCache({})},e.prototype.getSourceTiles=function(t,e,n){var i=n.wrappedTileCoord,o=this.getTileGridForProjection(e),a=o.getTileCoordExtent(i),s=i[0],u=o.getResolution(s);(0,c.buffer)(a,-u,a);var l=this.tileGrid,h=l.getExtent();h&&(0,c.getIntersection)(a,h,a);var d,g,y,m=l.getZForResolution(u,1),v=l.getMinZoom(),_=n.sourceTiles;if(_&&_.length>0&&_[0].tileCoord[0]===m)d=_,g=!0,y=m;else{d=[],y=m+1;do{--y,g=!0,l.forEachTileCoord(a,y,function(i){var o,a=this.tileUrlFunction(i,t,e);if(void 0!==a)if(this.sourceTileCache.containsKey(a)){var s=(o=this.sourceTileCache.get(a)).getState();if(s===r.default.LOADED||s===r.default.ERROR||s===r.default.EMPTY)return void d.push(o)}else y===m&&((o=new this.tileClass(i,r.default.IDLE,a,this.format_,this.tileLoadFunction)).extent=l.getTileCoordExtent(i),o.projection=e,o.resolution=l.getResolution(i[0]),this.sourceTileCache.set(a,o),o.addEventListener(f.default.CHANGE,this.handleTileChange.bind(this)),o.load());g=g&&o&&o.getState()===r.default.LOADED,o&&o.getState()!==r.default.EMPTY&&n.getState()===r.default.IDLE&&(n.loadingSourceTiles++,o.addEventListener(f.default.CHANGE,(function t(){var e=o.getState(),i=o.getKey();if(e===r.default.LOADED||e===r.default.ERROR){e===r.default.LOADED?(o.removeEventListener(f.default.CHANGE,t),n.loadingSourceTiles--,delete n.errorSourceTileKeys[i]):e===r.default.ERROR&&(n.errorSourceTileKeys[i]=!0);var a=Object.keys(n.errorSourceTileKeys).length;n.loadingSourceTiles-a==0&&(n.hifi=0===a,n.sourceZ=m,n.setState(r.default.LOADED))}})))}.bind(this)),g||(d.length=0)}while(!g&&y>v)}return n.getState()===r.default.IDLE&&n.setState(r.default.LOADING),g&&(n.hifi=m===y,n.sourceZ=y,n.getState()<r.default.LOADED?n.setState(r.default.LOADED):_&&(0,p.equals)(d,_)||(n.sourceTiles=d)),d},e.prototype.getTile=function(t,e,n,o,a){var s,l=(0,u.getKeyZXY)(t,e,n),f=this.getKey();if(this.tileCache.containsKey(l)&&(s=this.tileCache.get(l)).key===f)return s;var h=[t,e,n],p=this.getTileCoordForTileUrlFunction(h,a),d=this.getTileGrid().getExtent(),g=this.getTileGridForProjection(a);if(p&&d){var y=g.getTileCoordExtent(p);(0,c.buffer)(y,-g.getResolution(t),y),(0,c.intersects)(d,y)||(p=null)}var m=!0;if(null!==p){var v=this.tileGrid,_=g.getResolution(t),b=v.getZForResolution(_,1),w=g.getTileCoordExtent(p);(0,c.buffer)(w,-_,w),v.forEachTileCoord(w,b,function(t){m=m&&!this.tileUrlFunction(t,o,a)}.bind(this))}var x=new i.default(h,m?r.default.EMPTY:r.default.IDLE,p,this.getSourceTiles.bind(this,o,a));return x.key=f,s?(x.interimTile=s,x.refreshInterimChain(),this.tileCache.replace(l,x)):this.tileCache.set(l,x),x},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){var r=this.tileGrid;n=(0,l.createForProjection)(t,void 0,r?r.getTileSize(r.getMinZoom()):void 0),this.tileGrids_[e]=n}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=(0,a.toSize)(r.getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e}(s.default);function v(t,e){var n=(0,h.loadFeaturesXhr)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(n)}e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=function(t){return t&&t.__esModule?t:{default:t}}(n(183)),o=n(32),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=[],u=function(t){function e(e,n,r,i){var o=t.call(this,e,n,{transition:0})||this;return o.context_={},o.executorGroups={},o.loadingSourceTiles=0,o.errorSourceTileKeys={},o.hitDetectionImageData={},o.replayState_={},o.sourceTiles=null,o.wantedResolution,o.getSourceTiles=i.bind(void 0,o),o.sourceZ=-1,o.hifi=!1,o.wrappedTileCoord=r,o}return a(e,t),e.prototype.getContext=function(t){var e=(0,r.getUid)(t);return e in this.context_||(this.context_[e]=(0,o.createCanvasContext2D)(1,1,s)),this.context_[e]},e.prototype.hasContext=function(t){return(0,r.getUid)(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=(0,r.getUid)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles()},e.prototype.release=function(){for(var e in this.context_)s.push(this.context_[e].canvas);t.prototype.release.call(this)},e}(i.default);e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(183)),i=o(n(60));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=r,s}return a(e,t),e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.load=function(){this.state==i.default.IDLE&&(this.setState(i.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(i.default.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(i.default.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(r.default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLayer=function(t){return new r.default({source:new i.default(a(t)),minResolution:t.minresolution,maxResolution:t.maxresolution})},e.updateLayer=function(t,e,n){var r=e.getSource(),o=a(n);o.imagerySet!==r.getImagerySet()&&e.setSource(new i.default(o))};var r=o(n(184)),i=o(n(751));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=!1,n=!1,r=!0,i=!1,o=void 0;try{for(var a,s=t.layers[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;!0===u.on&&("aerials"===u.name?e=!0:"roads"===u.name&&(n=!0))}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var l="Road";if(e&&n)l="AerialWithLabels";else if(e)l="Aerial";else if(n)l="Road";else{var c=!0,f=!1,h=void 0;try{for(var p,d=t.layers[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var g=p.value;!0===g.on&&(l=g.name)}}catch(t){f=!0,h=t}finally{try{!c&&d.return&&d.return()}finally{if(f)throw h}}}return{key:t.params.key,imagerySet:l}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quadKey=p;var r=n(248),i=n(4),o=n(365),a=n(5),s=f(n(92)),u=f(n(182)),l=n(84),c=n(96);function f(t){return t&&t.__esModule?t:{default:t}}var h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function p(t){var e,n,r=t[0],i=new Array(r),o=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),i[e]=String.fromCharCode(n),o>>=1;return i.join("")}var d=function(t){function e(e){var n=this,r=void 0!==e.hidpi&&e.hidpi;(n=t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:(0,a.get)("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:s.default.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this).hidpi_=r,n.culture_=void 0!==e.culture?e.culture:"en-us",n.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,n.apiKey_=e.key,n.imagerySet_=e.imagerySet;var i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+n.apiKey_+"&c="+n.culture_;return(0,o.jsonp)(i,n.handleImageryMetadataResponse.bind(n),void 0,"jsonp"),n}return h(e,t),e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],n=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,o=this.getProjection(),u=(0,c.extentFromProjection)(o),f=this.hidpi_?2:1,h=e.imageWidth==e.imageHeight?e.imageWidth/f:[e.imageWidth/f,e.imageHeight/f],d=(0,c.createXYZ)({extent:u,minZoom:e.zoomMin,maxZoom:n,tileSize:h});this.tileGrid=d;var g=this.culture_,y=this.hidpi_;if(this.tileUrlFunction=(0,r.createFromTileUrlFunctions)(e.imageUrlSubdomains.map((function(t){var n=[0,0,0],r=e.imageUrl.replace("{subdomain}",t).replace("{culture}",g);return function(t,e,i){if(t){(0,l.createOrUpdate)(t[0],t[1],t[2],n);var o=r;return y&&(o+="&dpi=d1&device=mobile"),o.replace("{quadkey}",p(n))}}}))),e.imageryProviders){var m=(0,a.getTransformFromProjections)((0,a.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var n=[],r=t.viewState,o=this.getTileGrid(),a=o.getZForResolution(r.resolution,this.zDirection),s=o.getTileCoordForCoordAndZ(r.center,a)[0];return e.imageryProviders.map((function(e){for(var r=!1,o=e.coverageAreas,a=0,u=o.length;a<u;++a){var l=o[a];if(s>=l.zoomMin&&s<=l.zoomMax){var c=l.bbox,f=[c[1],c[0],c[3],c[2]],h=(0,i.applyTransform)(f,m);if((0,i.intersects)(h,t.extent)){r=!0;break}}}r&&n.push(e.attribution)})),n.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),n}.bind(this))}this.setState(s.default.READY)}else this.setState(s.default.ERROR)},e}(u.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateLayer=e.createLayer=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(753));e.createLayer=function(){return new r.default},e.updateLayer=function(t,e,n){var r=n.layers.filter((function(t){return t.on})).length>0;e.setVisible(r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=_(n(119)),a=_(n(121)),s=_(n(46)),u=_(n(65)),l=_(n(47)),c=_(n(148)),f=_(n(131)),h=_(n(149)),p=_(n(83)),d=_(n(66)),g=_(n(88)),y=n(4),m=n(754),v=n(5);function _(t){return t&&t.__esModule?t:{default:t}}var b=[["S","T","U","V","W","X","Y","Z"],["A","B","C","D","E","F","G","H"],["J","K","L","M","N","P","Q","R"],["S","T","U","V","W","X","Y","Z"],["A","B","C","D","E","F","G","H"],["J","K","L","M","N","P","Q","R"]],w=[["F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","A","B","C","D","E"],["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V"]],x={1e4:1,1e3:2,100:3,10:4,1:5},S=function(t,e,n,r){return 1e5===e?"ew"===r?b[n%6][Math.floor(t/1e5)-1]:w[n%2][Math.floor(t%2e6/1e5)]:((t<1e6?"0":"")+t).slice(2,x[e]+2)},E=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e5,i=[],o=[],a=6*t-180-6,c=(0,m.fromLatLon)(e[1],e[0]<a?a:e[0]),f=(0,m.fromLatLon)(e[1],a+6,t).easting,h=Math.ceil(c.easting/r)*r,p=Math.floor(f/r)*r,d="";r<10?d="-1m":r<100?d="-10m":r<=1e3&&(d="-1k");for(var g="zone-ew-start"+d,y="zone-ew-end"+d,_=h;_<=p;_+=r){var b=(0,m.toLatLon)(_,c.northing,t,null,!0),w=(0,v.fromLonLat)([b.longitude,e[1]]),x=(0,v.fromLonLat)([b.longitude,e[3]]);i.push({geom:new u.default(w.concat(x),s.default.XY)});var E=(0,m.toLatLon)(_,c.northing,t,null,!0),O=(0,v.fromLonLat)([E.longitude,E.latitude]),P=new l.default([O[0],n[1]]);_%1e5==0&&(o.push({geom:P.clone(),label:S(_,1e5,t,"ew"),class:g}),o.push({geom:P.clone(),label:S(_-1e5,1e5,t,"ew"),class:y})),1e5!==r&&o.push({geom:P.clone(),label:S(_,r,t,"ew"),class:"ew-center"})}return{lines:i,points:o}},O=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e5,i=[],o=[],a=6*t-180,c=a-6,f=(0,m.fromLatLon)(e[3],e[3]),h=(0,m.fromLatLon)(e[1],e[0]<c?c:e[0]),p=(0,m.fromLatLon)(e[1],a>e[2]?e[2]:a),d=(0,v.fromLonLat)([c,0])[0];c<e[0]&&(d=n[0]);for(var g=Math.floor(h.northing/r)*r,y=Math.ceil(f.northing/r)*r,_=g;_<=y;_+=r){var b=(0,m.toLatLon)(h.easting,_,t,null,!0),w=(0,m.toLatLon)(p.easting,_,t,null,!0),x=(0,v.fromLonLat)([c,b.latitude]),E=(0,v.fromLonLat)([a,w.latitude]);x[0]=c<e[0]?n[0]:x[0],E[0]=a>e[2]?n[2]:E[0];var O=(0,m.toLatLon)(h.easting,_,t,null,!0),P=(0,v.fromLonLat)([O.longitude,O.latitude]);i.push({geom:new u.default(x.concat(E),s.default.XY)});var C=new l.default([d,P[1]]);_%1e5==0&&(o.push({geom:C.clone(),label:S(_,1e5,t,"ns"),class:"ns-start"}),o.push({geom:C.clone(),label:S(_-1e5,1e5,t,"ns"),class:"ns-end"})),1e5!==r&&o.push({geom:C.clone(),label:S(_,r,t,"ns"),class:"ns"})}return{lines:i,points:o}},P=function(t){var e=1e6;return t<.02?e=1:t<.25?e=10:t<2.5?e=100:t<25?e=1e3:t<160?e=1e4:t<2500&&(e=1e5),e},C=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{renderBuffer:0,updateWhileAnimating:!0,updateWhileInteracting:!0}));n.setSource(new o.default({loader:n.loaderFunction.bind(n),strategy:n.strategyFunction.bind(n),features:new d.default,overlaps:!1,useSpatialIndex:!1})),n.zoneLineStyle=t.zoneLineStyle||new p.default({stroke:new c.default({color:"#ff0000",width:4})}),n.gridLineStyle=t.gridLineStyle||new p.default({stroke:new c.default({color:"rgba(0,0,0,0.9)",width:1})});var i=r({font:"14px Calibri,sans-serif",textBaseline:"bottom",textAlign:"center",fill:new f.default({color:"rgba(0,0,0,1)"}),stroke:new c.default({color:"rgba(255,255,255,1)",width:3}),text:"00"},t.gridLabelStyle),a=r({},i,{textBaseline:"middle",textAlign:"left",offsetX:5});return n.labelStyle={"zone-ew-start":new p.default({text:new h.default(r({},i,{textAlign:"left",offsetX:5}))}),"zone-ew-end":new p.default({text:new h.default(r({},i,{textAlign:"right",offsetX:-5}))}),"zone-ew-start-1k":new p.default({text:new h.default(r({},i,{textAlign:"left",offsetX:14}))}),"zone-ew-end-1k":new p.default({text:new h.default(r({},i,{textAlign:"right",offsetX:-14}))}),"zone-ew-start-10m":new p.default({text:new h.default(r({},i,{textAlign:"left",offsetX:20}))}),"zone-ew-end-10m":new p.default({text:new h.default(r({},i,{textAlign:"right",offsetX:-20}))}),"zone-ew-start-1m":new p.default({text:new h.default(r({},i,{textAlign:"left",offsetX:25}))}),"zone-ew-end-1m":new p.default({text:new h.default(r({},i,{textAlign:"right",offsetX:-25}))}),"ew-center":new p.default({text:new h.default(r({},i,{font:"12px Calibri,sans-serif",textAlign:"center"}))}),ns:new p.default({text:new h.default(r({},a,{squareIdStyle:i,font:"12px Calibri,sans-serif"}))}),"ns-start":new p.default({text:new h.default(r({},a,{offsetY:-15}))}),"ns-end":t.northSouthLabelStyle||new p.default({text:new h.default(r({},a,{offsetY:15}))})},n.intervalFn=t.intervalFn||P,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,[{key:"loaderFunction",value:function(t,e,n){var r=this.getSource().getFeaturesCollection();r.clear(),this.loadedExtent_=t;for(var i=function(t){return(0,v.toLonLat)([t[0],t[1]]).concat((0,v.toLonLat)([t[2],t[3]]))}(t),o=function(t){for(var e=Math.floor((180+t[0])/6+1),n=Math.ceil((180+t[2])/6+1),r=[],i=e;i<n;i++)r.push(i);return r}(i),a=this.intervalFn(e),l=0,c=o.length;l<c;l++){var f=o[l],h=new g.default,p=6*f-180,d=(0,v.fromLonLat)([p,-90]).concat((0,v.fromLonLat)([p,0])).concat((0,v.fromLonLat)([p,90]));if(h.setGeometry(new u.default(d,s.default.XY)),h.setStyle(this.zoneLineStyle),r.push(h),a<=1e5){for(var y=E(f,i,t,a),m=O(f,i,t,a),_=y.lines.concat(m.lines),b=y.points.concat(m.points),w=0,x=_.length;w<x;w++){var S=_[w],P=new g.default;P.setGeometry(S.geom),P.setStyle(this.gridLineStyle),r.push(P)}for(var C=0,T=b.length;C<T;C++){var N=b[C],I=new g.default;I.setGeometry(N.geom);var M=this.labelStyle[N.class].clone();M.getText().setText(N.label),I.setStyle(M),r.push(I)}}}}},{key:"strategyFunction",value:function(t,e){return this.loadedExtent_&&!(0,y.equals)(this.loadedExtent_,t)&&this.getSource().removeLoadedExtent(this.loadedExtent_),[t]}}]),e}();e.default=C},function(t,e,n){"use strict";n.r(e),n.d(e,"toLatLon",(function(){return E})),n.d(e,"fromLatLon",(function(){return O}));var r=.9996,i=.00669438,o=Math.pow(i,2),a=Math.pow(i,3),s=i/(1-i),u=Math.sqrt(1-i),l=(1-u)/(1+u),c=Math.pow(l,2),f=Math.pow(l,3),h=Math.pow(l,4),p=Math.pow(l,5),d=1-i/4-3*o/64-5*a/256,g=3*i/8+3*o/32+45*a/1024,y=15*o/256+45*a/1024,m=35*a/3072,v=1.5*l-27/32*f+269/512*p,_=21/16*c-55/32*h,b=151/96*f-417/128*p,w=1097/512*h,x=6378137,S="CDEFGHJKLMNPQRSTUVWXX";function E(t,e,n,o,a,u){if(u=void 0===u||u,!o&&void 0===a)throw new Error("either zoneLetter or northern needs to be set");if(o&&void 0!==a)throw new Error("set either zoneLetter or northern, but not both");if(u){if(t<1e5||1e6<=t)throw new RangeError("easting out of range (must be between 100 000 m and 999 999 m)");if(e<0||e>1e7)throw new RangeError("northing out of range (must be between 0 m and 10 000 000 m)")}if(n<1||n>60)throw new RangeError("zone number out of range (must be between 1 and 60)");if(o){if(1!==(o=o.toUpperCase()).length||-1===S.indexOf(o))throw new RangeError("zone letter out of range (must be between C and X)");a=o>="N"}var c=t-5e5,f=e;a||(f-=1e7);var h=f/r/(x*d),p=h+v*Math.sin(2*h)+_*Math.sin(4*h)+b*Math.sin(6*h)+w*Math.sin(8*h),g=Math.sin(p),y=Math.pow(g,2),m=Math.cos(p),E=Math.tan(p),O=Math.pow(E,2),T=Math.pow(E,4),N=1-i*y,I=Math.sqrt(N),M=(1-i)/N,A=l*m*m,L=A*A,R=c/(x/I*r),k=Math.pow(R,2),F=Math.pow(R,3),j=Math.pow(R,4),D=Math.pow(R,5),U=Math.pow(R,6),G=(R-F/6*(1+2*O+A)+D/120*(5-2*A+28*O-3*L+8*s+24*T))/m;return{latitude:C(p-E/M*(k/2-j/24*(5+3*O+10*A-4*L-9*s))+U/720*(61+90*O+298*A+45*T-252*s-3*L)),longitude:C(G)+P(n)}}function O(t,e,n){if(t>84||t<-80)throw new RangeError("latitude out of range (must be between 80 deg S and 84 deg N)");if(e>180||e<-180)throw new RangeError("longitude out of range (must be between 180 deg W and 180 deg E)");var o,a=T(t),u=Math.sin(a),l=Math.cos(a),c=Math.tan(a),f=Math.pow(c,2),h=Math.pow(c,4);o=void 0===n?function(t,e){if(56<=t&&t<64&&3<=e&&e<12)return 32;if(72<=t&&t<=84&&e>=0){if(e<9)return 31;if(e<21)return 33;if(e<33)return 35;if(e<42)return 37}return Math.floor((e+180)/6)+1}(t,e):n;var p=function(t){return-80<=t&&t<=84?S[Math.floor((t+80)/8)]:null}(t),v=T(e),_=T(P(o)),b=x/Math.sqrt(1-i*u*u),w=s*l*l,E=l*(v-_),O=Math.pow(E,2),C=Math.pow(E,3),N=Math.pow(E,4),I=Math.pow(E,5),M=Math.pow(E,6),A=x*(d*a-g*Math.sin(2*a)+y*Math.sin(4*a)-m*Math.sin(6*a)),L=r*(A+b*c*(O/2+N/24*(5-f+9*w+4*w*w)+M/720*(61-58*f+h+600*w-330*s)));return t<0&&(L+=1e7),{easting:r*b*(E+C/6*(1-f+w)+I/120*(5-18*f+h+72*w-58*s))+5e5,northing:L,zoneNum:o,zoneLetter:p}}function P(t){return 6*(t-1)-180+3}function C(t){return t/Math.PI*180}function T(t){return t*Math.PI/180}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(2)),o=u(n(7)),a=n(9),s=u(n(79));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){return 0!==this.props.attributions.length&&i.default.createElement("div",{className:"attribution-display"},this.props.attributions.map((function(t){return i.default.createElement("div",{dangerouslySetInnerHTML:{__html:t},className:"attribution",key:(0,s.default)()})})))}}]),e}();l.propTypes={attributions:o.default.array},l.defaultProps={attributions:[]},e.default=(0,a.connect)((function(t){var e=[];for(var n in t.mapSources)for(var r=t.mapSources[n].layers,i=0,o=r.length;i<o;i++){var a=r[i];a.on&&a.attribution&&e.push(a.attribution)}return{attributions:e}}))(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(2)),o=u(n(7)),a=n(9),s=n(37);function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){return function(t){for(var e=[],n=t.minZoom;n<=t.maxZoom;n++)e.push(n);return i.default.createElement("div",{className:"jump-to-zoom"},"Zoom:"," ",i.default.createElement("select",{value:t.zoom,onChange:function(e){t.setZoom(e.target.value)}},e.map((function(t){return i.default.createElement("option",{key:t,value:t},t)}))))}(this.props)}}]),e}();l.propTypes={minZoom:o.default.number,maxZoom:o.default.number,zoom:o.default.number,setZoom:o.default.func},l.defaultProps={minZoom:1,maxZoom:22,zoom:1,setZoom:function(){}},e.default=(0,a.connect)((function(t){return{zoom:t.map.zoom||1}}),(function(t){return{setZoom:function(e){t((0,s.setView)({zoom:e}))}}}))(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=u(r),o=n(90),a=n(16),s=u(n(758));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e=t.editPath,n=t.saveFeature,u=t.olLayers,l=t.changeTool,c=t.setFeatures,f=(0,r.useCallback)((function(){c(o.EDIT_LAYER_NAME,[]),l("Modify",e)}),[l,c,o.EDIT_LAYER_NAME]),h=(0,r.useCallback)((function(){c(o.EDIT_LAYER_NAME,[]),l(null)})),p=(0,r.useCallback)((function(t){var r=u[o.EDIT_LAYER_NAME].getSource().getFeatures().slice(0,1).map((function(t){return(0,a.featureToJson)(t)}));if(r.length>0){var i=r[0];n(e,i),f()}}),[u,o.EDIT_LAYER_NAME]);return(0,r.useEffect)((function(){var t=function(t){var e=!1;"Escape"===t.key?(f(),e=!0):"s"===t.key&&t.ctrlKey?(p(),e=!0):"x"===t.key&&t.ctrlKey&&(h(),e=!0),e&&(t.preventDefault(),t.stopPropagation())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[f,p]),i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{label:"save-changes",icon:"icon save",index:4,onClick:p}),i.default.createElement(s.default,{disabled:!0,label:"undo-changes",icon:"icon undo",index:3}),i.default.createElement(s.default,{label:"cancel-changes",icon:"icon cancel",index:2,onClick:f}),i.default.createElement(s.default,{label:"end-drawing",icon:"icon stop",index:1,onClick:h}))},c=function(t){var e=t.changeTool,n=t.setFeatures,a=(0,r.useCallback)((function(){n(o.EDIT_LAYER_NAME,[]),e(null)}));return(0,r.useEffect)((function(){var t=function(t){"Escape"===t.key&&(a(),t.preventDefault(),t.stopPropagation())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}}),[e]),i.default.createElement(s.default,{label:"end-drawing",icon:"icon stop",index:1,onClick:function(){return a()}})};e.default=function(t){var e=t.changeTool,n=t.editPath,r=t.saveFeature,a=t.setFeatures,u=t.olLayers,f=t.interactionType,h=t.activeSource,p=t.setZoom,d=t.zoom,g=!1;return f&&(g=f.indexOf("Modify")>=0&&h===o.EDIT_LAYER_NAME+"/"+o.EDIT_LAYER_NAME?i.default.createElement(l,{olLayers:u,changeTool:e,saveFeature:r,editPath:n,setFeatures:a}):i.default.createElement(c,{changeTool:e,setFeatures:a})),i.default.createElement(i.default.Fragment,null,i.default.createElement(s.default,{label:"zoom-in",icon:"icon zoom-in",index:0,onClick:function(){return p(d+1)}}),i.default.createElement(s.default,{label:"zoom-out",icon:"icon zoom-out",index:0,onClick:function(){return p(d-1)}}),i.default.createElement("span",{style:{display:"inline-block",width:16}}),g)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(2)),i=a(n(7)),o=n(22);function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=t.label,n=t.icon,i=t.onClick,o=t.t,a=t.index,s=t.disabled;return r.default.createElement("div",{className:"map-button fade-in "+a+" "+(s?"disabled":""),title:o(e),onClick:i},r.default.createElement("i",{className:n}))};s.defaultProps={label:"",icon:"",onClick:function(){},t:function(t){return t},index:0,disabled:!1},s.propTypes={label:i.default.string,icon:i.default.string,onClick:i.default.func,t:i.default.func,index:i.default.number,disabled:i.default.bool},e.default=(0,o.withTranslation)()(s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(27),s=n(16),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this,e="checkbox icon";return this.props.on&&(e+=" on"),i.default.createElement("i",{className:e,onClick:function(){t.props.onChange(!t.props.on)}})}}]),e}();e.default=(0,o.connect)((function(t,e){return{on:(0,s.isLayerOn)(t.mapSources,e.layer)}}),(function(t,e){return{onChange:function(n){for(var r=e.layer,i=0,o=r.src.length;i<o;i++){var s=r.src[i];t((0,a.setLayerVisibility)(s.mapSourceName,s.layerName,n))}}}}))(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(234),o=n(27),a=n(37),s=n(16),u=n(90),l=function(t){return t&&t.__esModule?t:{default:t}}(n(761));e.default=(0,r.connect)((function(t){var e=[],n=t.editor&&"edit"===t.editor.modal;if(n){var r=(0,s.getMapSourceName)(t.map.editPath),i=null;try{i=(0,o.getLayerFromPath)(t.mapSources,t.map.editPath)}catch(t){}if(i&&i.queryAs&&i.queryAs.length>0){var a=(0,s.getMapSourceName)(i.queryAs[0]);e=t.mapSources[a].properties}else e=t.mapSources[r].properties}return{title:"draw-edit-tip",open:n,path:t.map.editPath,properties:e,feature:t.editor.feature}}),(function(t){return{onClose:function(e,n,r){"save"===e&&t((0,o.saveFeature)(n,r)),t((0,o.clearFeatures)(u.EDIT_LAYER_NAME)),t((0,a.changeTool)("Edit",n)),t((0,i.finishEditing)())}}}))(l.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModal=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(2)),o=n(22),a=s(n(80));function s(t){return t&&t.__esModule?t:{default:t}}var u=e.EditorModal=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={properties:{}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"componentDidUpdate",value:function(t){t.feature!==this.props.feature&&this.setState({properties:Object.assign({},this.props.feature?this.props.feature.properties:{})})}},{key:"renderOption",value:function(t){var e=this;return i.default.createElement("div",{className:"button-parent",key:t.value},i.default.createElement("button",{onClick:function(){var n=Object.assign({},e.props.feature,{properties:e.state.properties});e.props.onClose(t.value,e.props.path,n)}},this.props.t(t.label)))}},{key:"renderInput",value:function(t){var e=this,n=t.type,r="number"===n||"range"===n,o=t.default?t.default:r?0:"",a=this.state.properties[t.name],s={type:n,value:void 0===a?o:a,onChange:function(n){var i=r?parseFloat(n.target.value):n.target.value,o=Object.assign({},e.state.properties,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t.name,i));e.setState({properties:o})}};return"range"!==n&&"number"!==n||["min","max","step"].forEach((function(e){void 0!==t[e]&&(s[e]=t[e])})),i.default.createElement("input",s)}},{key:"renderBody",value:function(){var t=this;return i.default.createElement("div",{className:"editor-list"},this.props.properties.map((function(e){return i.default.createElement("div",{key:e.name,className:"editor-attribute"},i.default.createElement("label",null,e.label),t.renderInput(e))})))}}]),e}();u.defaultProps={attributes:[],options:[{label:"Close",value:"close"},{label:"save-changes",value:"save"}]},e.default=(0,o.withTranslation)()(u)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RemoveModal=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(2)),o=n(9),a=n(22),s=n(234),u=n(27),l=n(90),c=f(n(80));function f(t){return t&&t.__esModule?t:{default:t}}var h=e.RemoveModal=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default),r(e,[{key:"getTitle",value:function(){return this.props.t("draw-remove-tip")}},{key:"close",value:function(t){this.props.onClose(t,this.props.mapSource,this.props.feature)}},{key:"renderBody",value:function(){return i.default.createElement("div",null)}}]),e}();h.defaultProps={attributes:[],options:[{label:"Cancel",value:"canel"},{label:"Okay",value:"remove"}]},e.default=(0,a.withTranslation)()((0,o.connect)((function(t){return{open:"remove"===t.editor.modal,mapSource:t.editor.source,feature:t.editor.feature}}),(function(t,e){return{onClose:function(e,n,r){"remove"===e&&t((0,u.removeFeature)(n,r)),t((0,u.clearFeatures)(l.EDIT_LAYER_NAME)),t((0,s.finishEditing)())}}}))(h))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toolbar=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(2)),o=n(9),a=u(n(367)),s=u(n(764));function u(t){return t&&t.__esModule?t:{default:t}}var l=e.Toolbar=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this;return i.default.createElement(o.Provider,{store:this.props.store},i.default.createElement("div",{className:"toolbar"},this.props.toolbar.root.map((function(e){return"drawer"===e.actionType?i.default.createElement(s.default,{key:e.name,label:e.label,tools:t.props.toolbar[e.name],services:t.props.services}):i.default.createElement(a.default,{tool:e,key:e.name,serviceDef:"service"===e.actionType?t.props.services[e.name]:void 0})}))))}}]),e}();e.default=(0,o.connect)((function(t){return{toolbar:t.toolbar}}))(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(2)),i=s(n(7)),o=s(n(367)),a=n(22);function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){var e=t.label,n=t.tools,i=t.services,s=(0,a.useTranslation)().t;return r.default.createElement("div",{className:"drawer tool"},r.default.createElement("span",{className:"drawer icon"}),r.default.createElement("span",{className:"label"},s(e)),r.default.createElement("div",{className:"drawer-contents"},n.map((function(t,e){return r.default.createElement(o.default,{key:"btn"+e,tool:t,serviceDef:"service"===t.actionType?i[t.name]:void 0})}))))};u.defaultProps={label:"Unititled drawer",tools:[]},u.propTypes={label:i.default.string,tools:i.default.array},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=g(n(2)),o=n(9),a=n(22),s=n(37),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(s),l=n(177),c=n(27),f=n(146),h=n(16),p=g(n(368)),d=g(n(768));function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.finishedQueries={},t.renderQuery=t.renderQuery.bind(t),t.renderQueryResults=t.renderQueryResults.bind(t),t.state={lastService:null,lastFeature:"",values:{}},t.fieldValues={},t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"renderQueryResults",value:function(t,e){var n="";if("finished"===e.progress&&this.props.services[e.service]){var r=this.props.services[e.service];r.renderQueryResults&&r.renderQueryResults(t,e),r.resultsAsHtml&&(n=r.resultsAsHtml(t,e))}else n="failed"===e.progress?"There was an error with your query please try again.":'<i class="service spinner"></i>';return{__html:n}}},{key:"renderQuery",value:function(t){var e=this,n=this.props.queries[t],r=this.props.services[n.service],o=r.resultsTitle,a=!1!==r.showHeader;o||(o=r.title+" Results");var s=0,u=0;for(var l in n.results)!0!==n.results[l].failed&&(s+=1,u+=n.results[l].length);var c=i.default.createElement("div",{className:"results-info"},i.default.createElement("div",{className:"results-info-item features-count"},i.default.createElement("div",{className:"label"},this.props.t("features")),i.default.createElement("div",{className:"value"},u)),i.default.createElement("div",{className:"results-info-item layers-count"},i.default.createElement("div",{className:"label"},this.props.t("layers")),i.default.createElement("div",{className:"value"},s)),i.default.createElement("div",{className:"results-info-item zoomto"},i.default.createElement("div",{className:"label"},this.props.t("zoomto-results")),i.default.createElement("div",{className:"value",onClick:function(){e.props.zoomToResults(n)}},i.default.createElement("span",{className:"icon zoomto"}))));return i.default.createElement("div",{key:t},i.default.createElement("div",{className:"results-header"},this.props.t(o),i.default.createElement("div",{className:"results-tools"},i.default.createElement("i",{title:this.props.t("results-clear"),className:"icon clear",onClick:function(){e.props.removeQuery(t)}}))),i.default.createElement("div",{className:"results-query-id"},t),!!a&&c,i.default.createElement("div",{dangerouslySetInnerHTML:this.renderQueryResults(t,n)}))}},{key:"checkQueries",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t.order[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=t[a],l=this.props.services[s.service];s&&"new"===s.progress&&"function"==typeof l.runQuery&&(this.props.store.dispatch(u.startQuery(a)),l.runQuery(a,s))}}catch(t){n=!0,r=t}finally{try{!e&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"UNSAFE_componentWillUpdate",value:function(t,e){if(this.state.lastService!==t.queries.service&&null!==t.queries.service)"measure"===t.queries.service&&this.props.changeDrawTool("LineString"),this.setState({lastService:t.queries.service,lastFeature:""}),this.props.clearSelectionFeatures(),this.fieldValues[t.queries.service]||(this.fieldValues[t.queries.service]={});else{var n=this.state.lastService,r=t.services[n];if(r&&r.autoGo){var i=r.fields?r.fields.filter((function(t){return!0!==t.optional})).length:0;(r.bufferAvailable||i.length>0)&&console.error("Misconfigured service. This service has been configured with autoGo but has required fields")}}this.checkQueries(t.queries)}},{key:"handleKeyboardShortcuts",value:function(t,e){var n=e.which;13===n||27===n&&this.props.onServiceFinished()}},{key:"componentDidUpdate",value:function(t){if(this.props.queries.service!==t.service&&(void 0!==t.service&&this.props.setUiHint("service-manager"),this.refs.serviceForm)){var e=this.refs.serviceForm.getElementsByTagName("input");e.length>0&&e[0].focus()}var n=this.props.queries.service||this.state.lastService;if(n){var r=this.props.services[n];r&&this.props.selectionFeatures!==t.selectionFeatures&&this.props.selectionFeatures.length>0&&(!0===r.autoGo?this.props.startQuery(this.props.selectionFeatures,this.props.services[n],this.state.values):this.props.startService(n))}!this.props.queries.showServiceForm&&this.props.queries.order.length>0&&t.queries.order[0]!==this.props.queries.order[0]&&this.props.setUiHint("new-results")}},{key:"render",value:function(){var t=this,e=void 0;if("measure"===this.props.queries.service){var n=Object.assign({},{store:this.props.store},this.props.measureToolOptions);e=i.default.createElement(p.default,n)}else if(null!==this.props.queries.service&&this.props.queries.showServiceForm){var r=this.props.queries.service,a=this.props.services[r];e=i.default.createElement(d.default,{serviceName:r,serviceDef:a,onSubmit:function(e){!0!==a.autoGo&&(!0!==a.keepAlive&&t.props.changeDrawTool(null),t.props.startQuery(t.props.selectionFeatures,a,e)),t.setState({values:e})},onCancel:function(){t.props.changeDrawTool(null),t.props.onServiceFinished()}})}else if(this.props.queries.order.length>0)e=i.default.createElement(i.default.Fragment,null,this.props.queries.order.map(this.renderQuery));else{var s=!1;this.props.selectionFeatures&&this.props.selectionFeatures.length>0&&(s=!0),e=i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"info-box"},this.props.t("start-service-help")),i.default.createElement("div",{className:"clear-controls"},i.default.createElement("button",{disabled:!s,className:"clear-button",onClick:function(){t.props.clearSelectionFeatures()}},i.default.createElement("i",{className:"clear icon"})," ",this.props.t("clear-previous-selection"))))}return i.default.createElement(o.Provider,{store:this.props.store},i.default.createElement("div",{className:"service-manager"},e))}}]),e}();e.default=(0,o.connect)((function(t){return{queries:t.query,map:t.map,selectionFeatures:t.mapSources.selection?t.mapSources.selection.features:[]}}),(function(t,e){return{onServiceFinsihed:function(){t((0,l.finishService)())},startQuery:function(n,r,i){var o=function(t){if(t.length>0&&"MultiPoint"===t[0].geometry.type){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"MultiPoint"===s.geometry.type&&e.push(s.geometry.coordinates[0])}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return[{type:"Feature",properties:{},geometry:{type:"MultiPoint",coordinates:e}}]}return t}(n),a=r.fields.map((function(t){return{name:t.name,value:i[t.name]||t.default}}));!0!==r.keepAlive?(t((0,s.changeTool)(null)),t((0,l.finishService)())):t((0,l.showServiceForm)(!1)),e.services[r.name].query(o,a)},changeDrawTool:function(e){t((0,s.changeTool)(e))},removeQuery:function(e){t((0,s.removeQuery)(e))},zoomToResults:function(e){var n=(0,h.getExtentForQuery)(e.results);n&&t((0,s.zoomToExtent)(n))},clearSelectionFeatures:function(){t(u.clearSelectionFeatures()),t((0,c.clearFeatures)("selection"))},onServiceFinished:function(){t((0,s.changeTool)(null)),t((0,l.finishService)())},setUiHint:function(e){t((0,f.setUiHint)(e))},startService:function(e){t((0,l.startService)(e))},showServiceForm:function(e){t((0,l.showServiceForm)(e))}}}))((0,a.withTranslation)()(y))},function(t,e,n){"use strict";t.exports=function(){for(var t=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V"],e=["F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","A","B","C","D","E"],r=["A","B","C","D","E","F","G","H"],i=["J","K","L","M","N","P","Q","R"],o=["S","T","U","V","W","X","Y","Z"],a=["C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","X"],s=[-80,-72,-64,-56,-48,-40,-32,-24,-16,-8,0,8,16,24,32,40,48,58,64,72,80],u=new Array(20),l=0;l<20;l++)u[l]=110946.259*s[l];var c=["A","B","C","F","G","H","J","K","L","P","Q","R","S","T","U","X","Y","Z"],f=["H","J","K","L","M","N","P","A","B","C","D","E","F","G"],h=["N","P","Q","R","S","T","U","V","W","X","Y","Z","A","B","C","D","E","F","G","H","J","K","L","M"],p=n(767),d=n(185),g="+proj=stere +lat_0=90 +lat_ts=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",y="+proj=stere +lat_0=-90 +lat_ts=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",m="EPSG:4326";function v(t,e){var n=t.lat*Math.PI/180,r=e.lat*Math.PI/180,i=(e.lon-t.lon)*Math.PI/180;return Math.atan2(Math.sqrt(Math.pow(Math.cos(r)*Math.sin(i),2)+Math.pow(Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(i),2)),Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(i))}function _(n,s,l){var _=0,w=0,x=0,S="",E=null,O=null,P=null;if(n=n.replace(/ /g,"").toUpperCase(),N=(T=new RegExp("([0-9]+)$")).exec(n)){x=(S=N[0]).length/2;var C=Math.pow(10,5-x);_=Number(S.substr(0,x))*C,w=Number(S.substr(x,x))*C}n=n.substr(0,n.length-2*x);var T=new RegExp("([A-Z][A-Z]$)"),N=T.exec(n);if(N&&(E=N[0]),n=n.substr(0,n.length-2),(N=(T=new RegExp("([0-9]+)([A-Z])")).exec(n))&&(P=N[1],O=N[2]),P||(N=(T=new RegExp("([A-Z])")).exec(n))&&(O=N[1]),P&&O&&E);else if("A"!==O&&"B"!==O&&"Y"!==O&&"Z"!==O||!E)if(E&&s){var I=1e3,M=null,A=null,L=Math.floor((s.lon- -180)/6)+1,R=Math.floor((s.lat- -80)/8);for(P=L-1;P<=L+1;P++)for(var k=0;k<20;k++){O=a[k];try{(H=v(s,b(P%60+O+E+S,null,!0)))<I&&(I=H,M=P%60,A=O)}catch(t){}}for(var k in F=s.lat>0?["Y","Z"]:["A","B"]){O=F[k];try{(H=v(s,b(O+E+S,null,!0)))<I&&(I=H,M=null,A=O)}catch(t){}}if(!A)throw"USNG: Couldn't find a match";P=M,O=A}else{if(!s)throw"USNG: Not enough information to locate point.";I=1e3,M=null,A=null;var F,j,D,U=null;for(L=Math.floor((s.lon- -180)/6)+1,R=Math.floor((s.lat- -80)/8),P=L-1;P<=L+1;P++)for(k=R-1;k<=R+1;k++){var G,z;switch(O=a[k],P%6){case 1:G=t,z=r;break;case 2:G=e,z=i;break;case 3:G=t,z=o;break;case 4:G=e,z=r;break;case 5:G=t,z=i;break;case 0:G=e,z=o;break;default:throw"Can't get here"}for(var B=0;B<20;B++)for(var q=0;q<8;q++)try{(H=v(s,b(P%60+O+(E=z[q]+G[B])+S,null,!0)))<I&&(I=H,M=P%60,A=O,U=E)}catch(t){}}for(var k in s.lat>0?(F=["Y","Z"],j=f,D=14):(F=["A","B"],j=h,D=24),F){O=F[k];for(var V=0;V<D;V++)for(var Y=0;Y<18;Y++)try{var H;(H=v(s,b(O+(E=c[Y]+j[V])+S,null,!0)))<I&&(I=H,M=null,A=O,U=E)}catch(t){}}if(!A)throw"USNG: Couldn't find a match";P=M,O=A,E=U}return"A"===O||"B"===O||"Y"===O||"Z"===O?function(t,e,n,r,i){if(!d)throw"USNG: Zones A,B,Y, and Z require Proj4js.";var o,a=2e6,s=2e6,u=c.indexOf(e[0]);if(u<0)throw"USNG: Invalid grid square.";switch(t){case"A":u-=18;case"B":if(o=h.indexOf(e[1]),u<-12||u>11||o<0)throw"USNG: Invalid grid square.";o>11&&(o-=24);break;case"Y":u-=18;case"Z":if(o=f.indexOf(e[1]),u<-7||u>6||o<0)throw"USNG: Invalid grid square.";o>6&&(o-=14);break;default:throw"UPS only valid in zones A, B, Y, and Z"}a+=1e5*u,s+=1e5*o;var l={x:a+=n,y:s+=r};if("A"===t||"B"===t){if(ll=d(y,m,l),ll.y>-80)throw"USNG: Grid Zone A or B but Latitude > -80."}else if(ll=d(g,m,l),ll.y<84)throw"USNG: Grid Zone Y or Z but Latitude < 84.";return{grid_zone:t,x:a,y:s,precision:i,usng:t+" "+e+" "+n+" "+r}}(O,E,_,w,x):function(n,s,l,c,f,h,d){var g,y,m,v=0;switch((n=+n)%6){case 1:y=t,m=r;break;case 2:y=e,m=i;break;case 3:y=t,m=o;break;case 4:y=e,m=r;break;case 5:y=t,m=i;break;case 0:y=e,m=o;break;default:throw"Can't get here"}var _=m.indexOf(l[0]),b=y.indexOf(l[1]);if(-1===_||-1===b)throw"USNG: Invalid USNG 100km grid designator for UTM zone "+n+".";g=1e5*(_+1)+c,v=1e5*(b+0)+f;var w=u[a.indexOf(s)];v+=2e6*Math.ceil((w-v)/2e6);var x=p.invProj(n,g,v),S=Math.floor((x.lon- -180)/6)+1,E=a[Math.floor((x.lat- -80)/8)];if(E!==s&&(v-=2e6,x=p.invProj(n,g,v),S=Math.floor((x.lon- -180)/6)+1,E=a[Math.floor((x.lat- -80)/8)]),d){if(x.lat>84||x.lat<-80)throw"USNG: Latitude "+x.lat+" outside valid UTM range.";if(S!==n)throw"USNG: calculated coordinate not in correct UTM zone! Supplied: "+n+" Calculated: "+S;if(E!==s)throw"USNG: calculated coordinate not in correct grid zone! Supplied: "+n+s+" Calculated: "+S+E}else{if(x.lat>84.5||x.lat<-79.5)throw"USNG: Latitude "+x.lat+" outside valid UTM range.";if(g<1e5||g>9e5)throw"USNG: calculated coordinate not in correct UTM zone! Supplied: "+n+s+" Calculated: "+S+E;var O=Math.abs(S-n);if(O>2&&O<58)throw"USNG: calculated coordinate not in correct UTM zone! Supplied: "+n+s+" Calculated: "+S+E;var P=t.indexOf(E),C=t.indexOf(s),T=Math.abs(P-C);if(T>1&&T<19)throw"USNG: calculated coordinate not in correct grid zone! Supplied: "+n+s+" Calculated: "+S+E}return{zone:n,easting:g,northing:v,precision:h,usng:String(n)+s+" "+l+" "+c+" "+f}}(P,O,E,_,w,x,l)}function b(t,e,n){var r,i=_(t,e,n),o=i.grid_zone;if(!y||"A"!==o&&"B"!==o)!g||"Y"!==o&&"Z"!==o?((r=p.invProj(i.zone,i.easting,i.northing)).precision=i.precision,r.usng=i.usng):(a={x:i.x,y:i.y},r={lon:(a=d(g,m,a)).x,lat:a.y,precision:i.precision,usng:i.usng});else{var a={x:i.x,y:i.y};r={lon:(a=d(y,m,a)).x,lat:a.y,precision:i.precision,usng:i.usng}}return r}this.fromLonLat=function(n,s){for(var u=n.lon,l=n.lat;u<=-180;)u+=360;for(;u>180;)u-=360;var v=Math.floor((u- -180)/6)+1;if(!(l>-80&&l<84)){var _,b={x:u,y:l};return l>0?(_=d(m,g,b),w=u<0?"Y":"Z"):(_=d(m,y,b),w=u<0?"A":"B"),function(t,e,n,r){if("A"!==t&&"B"!==t&&"Y"!==t&&"Z"!==t)throw"UPS only valid in zones A, B, Y, and Z";var i,o=Math.floor((e-2e6)/1e5),a=Math.floor((n-2e6)/1e5);o<0&&(o+=18),"A"===t||"B"===t?(a<0&&(a+=24),i=c[o]+h[a]):(a<0&&(a+=14),i=c[o]+f[a]);for(var s=Math.floor(e%1e5).toString(),u=Math.floor(n%1e5).toString();s.length<5;)s="0"+s;for(;u.length<5;)u="0"+u;if(r>5){var l=r-5;grid_x=s+(e%1).toFixed(l).substr(2,l),grid_y=u+(n%1).toFixed(l).substr(2,l)}else grid_x=s.substr(0,r),grid_y=u.substr(0,r);return t+" "+i+" "+grid_x+" "+grid_y}(w,_.x,_.y,s)}var w=a[Math.floor((l- -80)/8)],x=p.proj(v,u,l);return function(n,a,s,u,l){var c,f,h,p=n%6,d=Math.floor(s/1e5)-1,g=Math.floor(u%2e6/1e5);switch(g<0&&(g+=20),p){case 1:c=r[d]+t[g];break;case 2:c=i[d]+e[g];break;case 3:c=o[d]+t[g];break;case 4:c=r[d]+e[g];break;case 5:c=i[d]+t[g];break;case 0:c=o[d]+e[g];break;default:throw"USNG: can't get here"}var y=Math.floor(s%1e5).toString(),m=Math.floor(u%1e5);for(m<0&&(m+=1e5),m=m.toString();y.length<5;)y="0"+y;for(;m.length<5;)m="0"+m;if(l>5){var v=l-5;f=y+(s%1).toFixed(v).substr(2,v),h=m+(u%1).toFixed(v).substr(2,v)}else f=y.substr(0,l),h=m.substr(0,l);return String(n)+a+" "+c+" "+f+" "+h}(v,w,x.utm_easting,x.utm_northing,s)},this.toLonLat=b}},function(t,e,n){"use strict";var r=6378137,i=.006694384442042606,o=i/(1-i),a=.9996,s=Math.PI/180;t.exports={proj:function(t,e,n){var u=-(6*(30-t)+3)*s,l=n*s,c=e*s,f=Math.sin(l),h=Math.cos(l),p=f/h,d=p*p,g=d*d,y=r/Math.sqrt(1-i*(f*f)),m=o*(h*h),v=h*(c-u),_=function(t){return 6367449.138844212*t+-16038.519017028084*Math.sin(2*t)+16.832223171520933*Math.sin(4*t)+-.021800809706533364*Math.sin(6*t)}(l),b=1-d+m,w=5-18*d+g+72*m-58*o,x=Math.pow(v,5),S=a*y*(v+b*Math.pow(v,3)/6+w*x/120)+5e5,E=(5-d+9*m+m*m*4)*Math.pow(v,4)/24;return{utm_zone:t,utm_easting:S,utm_northing:a*(_+y*p*(v*v/2+E+x*v/720*(61-58*d+g+600*m-330*o)))}},invProj:function(t,e,n){var u=-(6*(30-t)+3)*s,l=Math.sqrt(1-i),c=(1-l)/(1+l),f=c*c,h=c*f,p=(e-=5e5,n/a/6367449.138844212),d=21/16*f-55/32*(f*f),g=p+(1.5*c-27/32*h)*Math.sin(2*p)+d*Math.sin(4*p)+151*h/96*Math.sin(6*p),y=Math.sin(g),m=Math.cos(g),v=y/m,_=r/Math.sqrt(1-i*y*y),b=v*v,w=o*m*m,x=1-i*y*y,S=r*(1-i)/Math.sqrt(x*x*x),E=e/(_*a),O=E*E,P=E*O,C=O*O,T=E*C,N=b*b,I=w*w,M=(1+2*b+w)*P/6,A=5-2*w+28*b-3*I+8*o+24*N,L=180*(g-_*v/S*(O/2-C/24*(5+3*b+10*w-4*I-9*o)+P*P*(61+90*b+298*w+45*N-252*o-3*I)/720))/Math.PI;return{lon:180*(u+(E-M+A*T/120)/m)/Math.PI,lat:L}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=h(n(2)),o=n(22),a=h(n(249)),s=h(n(371)),u=h(n(372)),l=h(n(769)),c=h(n(770)),f=h(n(369));function h(t){return t&&t.__esModule?t:{default:t}}function p(t){for(var e={},n=0,r=t.fields.length;n<r;n++){var i=t.fields[n];e[i.name]=i.default}return e}var d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={values:p(n.props.serviceDef),validateFieldValuesResultMessage:null},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"submit",value:function(){var t=this.props.serviceDef,e=!0,n=null;if(t.validateFieldValues){var r=t.validateFieldValues(this.state.values);e=r.valid,n=r.message}e&&this.props.onSubmit(this.state.values),this.setState({validateFieldValuesResultMessage:n})}},{key:"handleKeyboardShortcuts",value:function(t){var e=t.which;13===e?this.submit():27===e&&this.props.onCancel()}},{key:"UNSAFE_componentWillUpdate",value:function(t,e){null!==t.serviceDef&&this.props.serviceName!==t.serviceName&&this.setState({values:p(t.serviceDef),validateFieldValuesResultMessage:null})}},{key:"render",value:function(){var t=this,e=this.props.serviceDef,n=e.bufferAvailable,r=[];e.drawToolsLabel&&r.push(i.default.createElement("label",{key:"label"},e.drawToolsLabel));for(var o=["Box","Point","MultiPoint","LineString","Polygon","Select","Modify"],h=0;h<o.length;h++){var p=o[h],d="draw_tool_"+p;e.tools[p]&&r.push(i.default.createElement(f.default,{key:d,geomType:p}))}var g,y=function(e,n){var r=Object.assign({},t.state.values);r[e]=n,t.setState({values:r})},m=!!n&&i.default.createElement(c.default,{key:"buffer-input"}),v=this.props.serviceDef.fields.map((function(e){return function(t,e,n){var r=a.default;if("select"===t.type)r=s.default;else if("length"===t.type)r=u.default;else if("layers-list"===t.type)r=l.default;else if("hidden"===t.type)return!1;return i.default.createElement(r,{key:t.name,field:t,value:e,setValue:n})}(e,t.state.values[e.name],y)}));return g=!0===e.fieldsFirst?[v,r,m]:[r,m,v],i.default.createElement("div",{className:"service-form",onKeyUp:function(e){t.handleKeyboardShortcuts(e)}},i.default.createElement("h3",null,this.props.t(e.title)),g,!!this.state.validateFieldValuesResultMessage&&i.default.createElement("div",{className:"query-error"},i.default.createElement("div",{className:"error-header"},"Error"),i.default.createElement("div",{className:"error-contents"},this.state.validateFieldValuesResultMessage)),i.default.createElement("div",{className:"tab-controls"},i.default.createElement("button",{className:"close-button",onClick:function(){t.props.onCancel()}},i.default.createElement("i",{className:"close-icon"})," ",this.props.t("Close")),i.default.createElement("button",{className:"go-button",onClick:function(){t.submit()}},i.default.createElement("i",{className:"go-icon"})," ",this.props.t("go"))))}}]),e}();e.default=(0,o.withTranslation)()(d)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LayersListInput=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(7)),o=n(9),a=u(n(371)),s=n(27);function u(t){return t&&t.__esModule?t:{default:t}}var l=["sketch/default"],c=e.LayersListInput=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"getOptions",value:function(){for(var t=[],e=0,n=this.props.layers.length;e<n;e++){var r=(0,s.getLayerByPath)(this.props.mapSources,this.props.layers[e]);t.push({value:this.props.layers[e],label:r.label})}return t.sort((function(t,e){return l.indexOf(t.value)>=0?1:l.indexOf(e.value)>=0?-1:t<e?-1:1}))}}]),e}();c.propTypes={layers:i.default.array},c.defaultProps={mapSources:{},layers:[]},e.default=(0,o.connect)((function(t,e){return{layers:(e.filter&&e.filter.layers?e.filter.layers:null)||(0,s.getQueryableLayers)(t.mapSources,e.field.filter),mapSources:t.mapSources}}))(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferInput=void 0;var r=l(n(2)),i=l(n(7)),o=n(9),a=n(22),s=n(37),u=n(372);function l(t){return t&&t.__esModule?t:{default:t}}var c=e.BufferInput=function(t){var e=t.distance,n=t.units,i=t.setBuffer,o=(0,a.useTranslation)().t;return r.default.createElement(u.LengthInputBase,{label:o("with-buffer"),value:e,units:n,onChange:function(t,e){i(t,e)}})};c.propTypes={distance:i.default.number,units:i.default.string,setBuffer:i.default.func},c.defaultProps={distsance:0,setBuffer:function(t,e){}},e.default=(0,o.connect)((function(t){return{distance:t.map.selectionBuffer,units:t.map.selectionBufferUnits}}),(function(t){return{setBuffer:function(e,n){t((0,s.setSelectionBuffer)(e,n))}}}))(c)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FavoriteLayers=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=n(22),s=n(310),u=n(366),l=e.FavoriteLayers=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this,e=(0,s.renderFlatTree)(this.props.dispatch,this.props.catalog,"root",(function(e){return(0,u.isFavorite)(t.props.mapSources,e)}));return i.default.createElement(o.Provider,{store:this.props.store},i.default.createElement(a.Translation,null,(function(t){return i.default.createElement("div",{className:"catalog favorites flat"},i.default.createElement("div",{className:"info-box",dangerouslySetInnerHTML:{__html:t("favorites-help")}}),e.length>0?"":i.default.createElement("i",null,t("no-favorites")),e)})))}}]),e}();e.default=(0,o.connect)((function(t){return{mapSources:t.mapSources,catalog:t.catalog}}))(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=u(n(2)),i=n(22),o=n(9),a=u(n(311)),s=n(16);function u(t){return t&&t.__esModule?t:{default:t}}e.default=(0,o.connect)((function(t){return{mapSources:t.mapSources,catalog:t.catalog}}))((function(t){var e=t.store,n=t.catalog,u=t.mapSources,l=(0,i.useTranslation)().t,c=(0,s.getLayersByZOrder)(n,u),f=void 0;if(c.length>0){for(var h=[],p=0,d=c.length;p<d;p++){var g=c[p];h.push(r.default.createElement(a.default,{key:"layer-"+p,layer:g.layer,forceTools:["up","down"]}))}f=h}else f=r.default.createElement("i",null,"No layers are visible");return r.default.createElement(o.Provider,{store:e},r.default.createElement("div",{className:"catalog visble-layers visible-layers flat"},r.default.createElement("div",{className:"info-box"},l("visible-layers-help")),f))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=g(n(2)),a=n(9),s=n(22),u=n(774),l=g(n(228)),c=g(n(313)),f=n(16),h=n(37),p=n(27),d=g(n(80));function g(t){return t&&t.__esModule?t:{default:t}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(t){var e=t.l,n=(0,s.useTranslation)().t;return o.default.createElement("label",null,n(e))},b=function(t){function e(t){y(this,e);var n=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onChange=n.onChange.bind(n),n.state={value:""},n}return v(e,d.default),i(e,[{key:"onChange",value:function(t){this.setState({value:t.target.value})}},{key:"setFilter",value:function(){var t=this.state.value,e=this.props.column.property,n=[];"list"===this.props.column.filter.type?n.push(["in",e].concat(t)):"range"===this.props.column.filter.type?(""!==this.state.min&&n.push([">=",e,this.state.min]),""!==this.state.max&&n.push(["<=",e,this.state.max])):n.push(["==",e,t]),this.props.store.dispatch((0,h.removeFilter)(this.props.queryId,e));var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;this.props.store.dispatch((0,h.addFilter)(this.props.queryId,u))}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"close",value:function(t){if("set"===t)this.setFilter();else if("clear"===t)if(this.props.store.dispatch((0,h.removeFilter)(this.props.queryId,this.props.column.property)),"list"===this.props.column.filter.type){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=this.filter_values[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.push(s.value)}}catch(t){r=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.setState({value:e})}else"range"===this.props.column.filter.type?this.setState({min:"",max:""}):this.setState({value:""});this.props.onClose()}},{key:"getTitle",value:function(){return"Set filter for "+this.props.column.title}},{key:"getOptions",value:function(){return[{label:"Cancel",value:"dismiss"},{label:"Clear",value:"clear"},{label:"Set",value:"set"}]}},{key:"renderBody",value:function(){return o.default.createElement("div",null,o.default.createElement(_,{l:"label-value"})," ",o.default.createElement("input",{onChange:this.onChange,value:this.state.value,ref:"input"}))}}]),e}(),w=function(t){function e(t){y(this,e);var n=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=t.column.filter;if(n.filter_values=[],r.values)n.filter_values=r.values;else{var i=n.props.column.property,o={},a=!0,s=!1,u=void 0;try{for(var l,c=n.props.results[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value.properties[i];!0!==o[f]&&n.filter_values.push({value:f,label:f}),o[f]=!0}}catch(t){s=!0,u=t}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}}var h=[],p=!0,d=!1,g=void 0;try{for(var v,_=n.filter_values[Symbol.iterator]();!(p=(v=_.next()).done);p=!0){var b=v.value;h.push(b.value)}}catch(t){d=!0,g=t}finally{try{!p&&_.return&&_.return()}finally{if(d)throw g}}return n.state={value:h},n}return v(e,b),i(e,[{key:"onChange",value:function(t){var e=t.target,n=this.state.value.slice();if(e.checked)n.push(e.value),this.setState({value:n});else{var r=n.indexOf(e.value);r>=0&&n.splice(r,1)}this.setState({value:n})}},{key:"isChecked",value:function(t){return this.state.value.indexOf(t)>=0}},{key:"renderBody",value:function(){for(var t=[],e=0,n=this.filter_values.length;e<n;e++){var r=this.filter_values[e];t.push(o.default.createElement("div",{key:"key"+e},o.default.createElement("input",{type:"checkbox",value:r.value,checked:this.isChecked(r.value),onChange:this.onChange}),r.label))}return o.default.createElement("div",null,t)}}]),e}(),x=function(t){function e(t){y(this,e);var n=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setMax=n.setMax.bind(n),n.setMin=n.setMin.bind(n),n.state={min:"",max:""},n}return v(e,b),i(e,[{key:"setBound",value:function(t,e){var n={};n[t]=""!==e?parseFloat(e):"",this.setState(n)}},{key:"setMin",value:function(t){this.setBound("min",t.target.value)}},{key:"setMax",value:function(t){this.setBound("max",t.target.value)}},{key:"renderBody",value:function(){return o.default.createElement("div",null,o.default.createElement("div",null,o.default.createElement(_,{l:"label-min"}),o.default.createElement("input",{value:this.state.min,onChange:this.setMin})),o.default.createElement("div",null,o.default.createElement(_,{l:"label-max"}),o.default.createElement("input",{value:this.state.max,onChange:this.setMax})))}}]),e}(),S=function(t){function e(t){y(this,e);var n=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={open:!1},n}return v(e,o.default.Component),i(e,[{key:"render",value:function(){var t=this;if(!this.props.column.filter)return!1;var e=function(){t.setState({open:!1})},n=!1;switch(this.props.column.filter.type){case"list":n=o.default.createElement(w,{open:this.state.open,onClose:e,ref:"modal",column:this.props.column,results:this.props.results,store:this.props.store,queryId:this.props.queryId});break;case"range":n=o.default.createElement(x,{open:this.state.open,onClose:e,ref:"modal",column:this.props.column,results:this.props.results,store:this.props.store,queryId:this.props.queryId});break;default:n=o.default.createElement(b,{open:this.state.open,onClose:e,ref:"modal",column:this.props.column,results:this.props.results,store:this.props.store,queryId:this.props.queryId})}return o.default.createElement("span",null,o.default.createElement("i",{title:"filter",onClick:function(){t.setState({open:!0})},className:"filter icon"}),n)}}]),e}(),E=function(t){function e(){y(this,e);var t=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={sortBy:null,sortAs:"string",sortAsc:!0,minimized:!1},t.nextSort=t.nextSort.bind(t),t}return v(e,o.default.Component),i(e,[{key:"nextSort",value:function(t){if(this.state.sortBy===t.property)this.state.sortAsc?this.setState({sortAsc:!1}):this.setState({sortBy:null,sortAsc:!0});else{var e=t.sortAs?t.sortAs:"string";this.setState({sortBy:t.property,sortAsc:!0,sortAs:e})}}},{key:"getHeaderRow",value:function(t,e){var n=this,r=[],i=0,a=this.props.queries.order[0],s=function(e){var s=null,u="icon sort",l=n.props.t("filter-sort");e.sortAs&&(n.state.sortBy===e.property&&(n.state.sortAsc?u+=" asc":u+=" desc"),s=o.default.createElement("i",{title:l,onClick:function(){n.nextSort(e)},className:u}));var c=o.default.createElement(S,{store:n.props.store,column:e,results:t,queryId:a});r.push(o.default.createElement("th",{key:"col"+i},e.title," ",s," ",c," ")),i++},u=!0,l=!1,c=void 0;try{for(var f,h=e[Symbol.iterator]();!(u=(f=h.next()).done);u=!0)s(f.value)}catch(t){l=!0,c=t}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}return r}},{key:"sortResults",value:function(t){var e=[].concat(t),n=this.state.sortBy,r=this.state.sortAsc,i=this.state.sortAs;return e.sort((function(t,e){var o=t.properties[n],a=e.properties[n];return"number"===i&&(o=parseFloat(o),a=parseFloat(a)),r?o>a?1:-1:o>a?-1:1})),e}},{key:"getRows",value:function(t,e){var n=t;null!==this.state.sortBy&&(n=this.sortResults(t));var r="",i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;r+=l.default.up(e,c,f.FORMAT_OPTIONS)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}return{__html:r}}},{key:"resultsAsCSV",value:function(t,e){var n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var f=s.value;f.property&&n.push(f.property)}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}r.push(n);var h=!0,p=!1,d=void 0;try{for(var g,y=e[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var m=g.value,v=[],_=!0,b=!1,w=void 0;try{for(var x,S=n[Symbol.iterator]();!(_=(x=S.next()).done);_=!0){var E=x.value;v.push(m.properties[E])}}catch(t){b=!0,w=t}finally{try{!_&&S.return&&S.return()}finally{if(b)throw w}}r.push(v)}}catch(t){p=!0,d=t}finally{try{!h&&y.return&&y.return()}finally{if(p)throw d}}var O=new Blob([(0,u.unparse)(r)],{type:"text/csv;charset=utf-8"}),P="download_"+(new Date).getTime()+".csv";c.default.saveAs(O,P)}},{key:"componentDidUpdate",value:function(t){if(t.queries.order[0]!==this.props.queries.order[0]&&this.props.queries.order[0]){var e=this.props.queries.order[0],n=this.props.queries[e];n&&n.runOptions&&!0===n.runOptions.gridMinimized&&this.setState({minimized:!0})}}},{key:"render",value:function(){var t=this,e=[],n=!1,i=void 0,a=void 0,s=this.props.queries.order[0];if(s){var u=this.props.queries[s];if("finished"===u.progress){var l=u.service;Object.keys(u.results).forEach((function(o){var s=null;try{s=(0,p.getLayerFromPath)(t.props.mapSources,o)}catch(t){}if(null!==s){var c=s.templates[l+"-grid-columns"]||s.templates.gridColumns;if(c&&"object"===r(c.contents))i=c.contents;else try{i=JSON.parse(c.contents)}catch(t){}var h=s.templates[l+"-grid-row"]||s.templates.gridRow;h&&(a=h.contents),i&&a&&(e=(0,f.matchFeatures)(u.results[o],u.filter),u.results[o].length>0&&(n=!0))}}))}}if(!n)return!1;var c=this.state.minimized?"maximize":"minimize",h=this.state.minimized?"hide":"";return o.default.createElement("div",{className:"gm-grid"},o.default.createElement("div",{className:"toolbar"},o.default.createElement("span",{onClick:function(){t.resultsAsCSV(i,e)},className:"tool download",title:this.props.t("grid-download-csv")},o.default.createElement("i",{className:"icon download"})),o.default.createElement("span",{onClick:function(){t.setState({minimized:!t.state.minimized})},className:"tool "+c,title:this.props.t("grid-min-max")},o.default.createElement("i",{className:"icon "+c}))),o.default.createElement("div",{className:"grid-display "+h},o.default.createElement("table",null,o.default.createElement("thead",null,o.default.createElement("tr",null,this.getHeaderRow(e,i))),o.default.createElement("tbody",{dangerouslySetInnerHTML:this.getRows(e,a)}))))}}]),e}();e.default=(0,a.connect)((function(t){return{queries:t.query,mapSources:t.mapSources}}))((0,s.withTranslation)()(E))},function(t,e,n){var r,i;
/* @license
Papa Parse
v5.3.0
https://github.com/mholt/PapaParse
License: MIT
*/void 0===(i="function"==typeof(r=function t(){"use strict";var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},o=0,a={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(w(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!w(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var u=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=e.URL||e.webkitURL||null,r=t.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),u=new e.Worker(s);return u.onmessage=y,u.id=o++,i[u.id]=u}();return u.userStep=r.step,u.userChunk=r.chunk,u.userComplete=r.complete,u.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void u.postMessage({input:n,config:r,workerId:u.id})}var p=null;return a.NODE_STREAM_INPUT,"string"==typeof n?p=r.download?new l(r):new f(r):!0===n.readable&&w(n.read)&&w(n.on)?p=new h(r):(e.File&&n instanceof File||n instanceof Object)&&(p=new c(r)),p.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",o="\r\n",s='"',u=s+s,l=!1,c=null,f=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||a.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(l=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");c=e.columns}void 0!==e.escapeChar&&(u=e.escapeChar+s),"boolean"==typeof e.escapeFormulae&&(f=e.escapeFormulae)}}();var h=new RegExp(d(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return g(null,t,l);if("object"==typeof t[0])return g(c||p(t[0]),t,l)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:p(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),g(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function p(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function g(t,e,n){var a="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,u=!Array.isArray(e[0]);if(s&&r){for(var l=0;l<t.length;l++)0<l&&(a+=i),a+=y(t[l],l);0<e.length&&(a+=o)}for(var c=0;c<e.length;c++){var f=s?t.length:e[c].length,h=!1,p=s?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!s&&(h="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&s){for(var d=[],g=0;g<f;g++){var m=u?t[g]:g;d.push(e[c][m])}h=""===d.join("").trim()}if(!h){for(var v=0;v<f;v++){0<v&&!p&&(a+=i);var _=s&&u?t[v]:v;a+=y(e[c][_],v)}c<e.length-1&&(!n||0<f&&!p)&&(a+=o)}}return a}function y(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===f&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var r=t.toString().replace(h,u);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,a.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?s+r+s:r}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!e.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=g,a.ParserHandle=p,a.NetworkStreamer=l,a.FileStreamer=c,a.StringStreamer=f,a.ReadableStreamStreamer=h,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},r=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var e,n,i,u=r[0];if(w(t.before)){var l=t.before(u.file,u.inputElem);if("object"==typeof l){if("abort"===l.action)return"AbortError",e=u.file,n=u.inputElem,i=l.reason,void(w(t.error)&&t.error({name:"AbortError"},e,n,i));if("skip"===l.action)return void o();"object"==typeof l.config&&(u.instanceConfig=s.extend(u.instanceConfig,l.config))}else if("skip"===l)return void o()}var c=u.instanceConfig.complete;u.instanceConfig.complete=function(t){w(c)&&c(t,u.file,u.inputElem),o()},a.parse(u.file,u.instanceConfig)}else w(t.complete)&&t.complete()}function o(){r.splice(0,1),i()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=_(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new p(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var u=s.meta.cursor;this._finished||(this._partialLine=o.substring(u-this._baseIndex),this._baseIndex=u),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:s,workerId:a.WORKER_ID,finished:l});else if(w(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!w(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){w(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function l(t){var e;(t=t||{}).chunkSize||(t.chunkSize=a.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=b(this._chunkLoaded,this),e.onerror=b(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function c(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=a.LocalChunkSize),u.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=b(this._chunkLoaded,this),e.onerror=b(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var o=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function f(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function h(t){u.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=b((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=b((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function p(t){var e,n,r,i=Math.pow(2,53),o=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,u=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,l=this,c=0,f=0,h=!1,p=!1,y=[],m={data:[],errors:[],meta:{}};if(w(t.step)){var v=t.step;t.step=function(e){if(m=e,S())x();else{if(x(),0===m.data.length)return;c+=e.data.length,t.preview&&c>t.preview?n.abort():(m.data=m.data[0],v(m,l))}}}function b(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function x(){if(m&&r&&(O("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<m.data.length;e++)b(m.data[e])&&m.data.splice(e--,1);return S()&&function(){if(m)if(Array.isArray(m.data[0])){for(var e=0;S()&&e<m.data.length;e++)m.data[e].forEach(n);m.data.splice(0,1)}else m.data.forEach(n);function n(e,n){w(t.transformHeader)&&(e=t.transformHeader(e,n)),y.push(e)}}(),function(){if(!m||!t.header&&!t.dynamicTyping&&!t.transform)return m;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var o=r,a=e[r];t.header&&(o=r>=y.length?"__parsed_extra":y[r]),t.transform&&(a=t.transform(a,o)),a=E(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return t.header&&(r>y.length?O("FieldMismatch","TooManyFields","Too many fields: expected "+y.length+" fields but parsed "+r,f+n):r<y.length&&O("FieldMismatch","TooFewFields","Too few fields: expected "+y.length+" fields but parsed "+r,f+n)),i}var n=1;return!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(e),n=m.data.length):m.data=e(m.data,0),t.header&&m.meta&&(m.meta.fields=y),f+=n,m}()}function S(){return t.header&&0===y.length}function E(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(o<e&&e<i)return!0}return!1}(n)?parseFloat(n):u.test(n)?new Date(n):""===n?null:n):n;var r}function O(t,e,n,r){var i={type:t,code:e,message:n};void 0!==r&&(i.row=r),m.errors.push(i)}this.parse=function(i,o,s){var u=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(d(e)+"([^]*?)"+d(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,u)),r=!1,t.delimiter)w(t.delimiter)&&(t.delimiter=t.delimiter(i),m.meta.delimiter=t.delimiter);else{var l=function(e,n,r,i,o){var s,u,l,c;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var f=0;f<o.length;f++){var h=o[f],p=0,d=0,y=0;l=void 0;for(var m=new g({comments:i,delimiter:h,newline:n,preview:10}).parse(e),v=0;v<m.data.length;v++)if(r&&b(m.data[v]))y++;else{var _=m.data[v].length;d+=_,void 0!==l?0<_&&(p+=Math.abs(_-l),l=_):l=_}0<m.data.length&&(d/=m.data.length-y),(void 0===u||p<=u)&&(void 0===c||c<d)&&1.99<d&&(u=p,s=h,c=d)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);l.successful?t.delimiter=l.bestDelimiter:(r=!0,t.delimiter=a.DefaultDelimiter),m.meta.delimiter=t.delimiter}var c=_(t);return t.preview&&t.header&&c.preview++,e=i,n=new g(c),m=n.parse(e,o,s),x(),h?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=w(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){l.streamer._halted?(h=!1,l.streamer.parseChunk(e,!0)):setTimeout(l.resume,3)},this.aborted=function(){return p},this.abort=function(){p=!0,n.abort(),m.meta.aborted=!0,w(t.complete)&&t.complete(m),e=""}}function d(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,o=t.step,s=t.preview,u=t.fastMode,l=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,f=!1;this.parse=function(t,a,h){if("string"!=typeof t)throw new Error("Input must be a string");var p=t.length,g=n.length,y=r.length,m=i.length,v=w(o),_=[],b=[],x=[],S=c=0;if(!t)return j();if(u||!1!==u&&-1===t.indexOf(e)){for(var E=t.split(r),O=0;O<E.length;O++){if(x=E[O],c+=x.length,O!==E.length-1)c+=r.length;else if(h)return j();if(!i||x.substring(0,m)!==i){if(v){if(_=[],L(x.split(n)),D(),f)return j()}else L(x.split(n));if(s&&s<=O)return _=_.slice(0,s),j(!0)}}return j()}for(var P=t.indexOf(n,c),C=t.indexOf(r,c),T=new RegExp(d(l)+d(e),"g"),N=t.indexOf(e,c);;)if(t[c]!==e)if(i&&0===x.length&&t.substring(c,c+m)===i){if(-1===C)return j();c=C+y,C=t.indexOf(r,c),P=t.indexOf(n,c)}else{if(-1!==P&&(P<C||-1===C)){if(!(P<N)){x.push(t.substring(c,P)),c=P+g,P=t.indexOf(n,c);continue}var I=U(P,N,C);if(I&&void 0!==I.nextDelim){P=I.nextDelim,N=I.quoteSearch,x.push(t.substring(c,P)),c=P+g,P=t.indexOf(n,c);continue}}if(-1===C)break;if(x.push(t.substring(c,C)),F(C+y),v&&(D(),f))return j();if(s&&_.length>=s)return j(!0)}else for(N=c,c++;;){if(-1===(N=t.indexOf(e,N+1)))return h||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:c}),k();if(N===p-1)return k(t.substring(c,N).replace(T,e));if(e!==l||t[N+1]!==l){if(e===l||0===N||t[N-1]!==l){-1!==P&&P<N+1&&(P=t.indexOf(n,N+1)),-1!==C&&C<N+1&&(C=t.indexOf(r,N+1));var M=R(-1===C?P:Math.min(P,C));if(t[N+1+M]===n){x.push(t.substring(c,N).replace(T,e)),t[c=N+1+M+g]!==e&&(N=t.indexOf(e,c)),P=t.indexOf(n,c),C=t.indexOf(r,c);break}var A=R(C);if(t.substring(N+1+A,N+1+A+y)===r){if(x.push(t.substring(c,N).replace(T,e)),F(N+1+A+y),P=t.indexOf(n,c),N=t.indexOf(e,c),v&&(D(),f))return j();if(s&&_.length>=s)return j(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:c}),N++}}else N++}return k();function L(t){_.push(t),S=c}function R(e){var n=0;if(-1!==e){var r=t.substring(N+1,e);r&&""===r.trim()&&(n=r.length)}return n}function k(e){return h||(void 0===e&&(e=t.substring(c)),x.push(e),c=p,L(x),v&&D()),j()}function F(e){c=e,L(x),x=[],C=t.indexOf(r,c)}function j(t){return{data:_,errors:b,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!t,cursor:S+(a||0)}}}function D(){o(j()),_=[],b=[]}function U(r,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,i+1);if(i<r&&r<s&&(s<o||-1===o)){var u=t.indexOf(n,s);if(-1===u)return a;s<u&&(s=t.indexOf(e,s+1)),a=U(u,s,o)}else a={nextDelim:r,quoteSearch:i};return a}},this.abort=function(){f=!0},this.getCharIndex=function(){return c}}function y(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){r=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(w(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:e.results.data[a],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else w(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&m(e.workerId,e.results)}function m(t,e){var n=i[t];w(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function v(){throw new Error("Not implemented.")}function _(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=_(t[n]);return e}function b(t,e){return function(){t.apply(e,arguments)}}function w(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&e.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(f.prototype=Object.create(f.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,a})?r.apply(e,[]):r)||(t.exports=i)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(16),a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){return i.default.createElement("span",{className:"version"},(0,o.getVersion)())}}]),e}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=function(t){return t&&t.__esModule?t:{default:t}}(n(370));e.default=(0,r.connect)((function(t){return{coords:t.cursor.coords,resolution:t.map.resolution,zoom:t.map.zoom}}))(i.default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrintModal=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=b(n(2)),o=n(9),a=n(22),s=b(n(152)),u=b(n(778)),l=b(n(228)),c=b(n(80)),f=b(n(779)),h=b(n(780)),p=n(27),d=n(373),g=n(146),y=n(179),m=b(n(781)),v=b(n(782)),_=n(783);function b(t){return t&&t.__esModule?t:{default:t}}var w=e.PrintModal=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.BodyProps={style:{maxHeight:"500px"}},n.state={mapTitle:"",layout:0,resolution:1,layouts:t.layouts?t.layouts:m.default},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c.default),r(e,[{key:"close",value:function(t){if("print"===t){var e=parseInt(this.state.layout,10);this.makePDF(this.state.layouts[e]),this.props.store.dispatch((0,d.printed)())}this.props.hideModal()}},{key:"getTitle",value:function(){return"Print"}},{key:"addText",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Date,i={title:this.state.mapTitle,year:r.getFullYear(),month:r.getMonth()+1,day:r.getDate()},o=Object.assign({},{size:13,color:[0,0,0],font:"NotoSans",fontStyle:"regular"},e);t.setFontSize(o.size),t.setTextColor(o.color[0],o.color[1],o.color[2]),t.setFont(o.font,o.fontStyle),t.text(o.x,o.y,l.default.up(o.text,i),n)}},{key:"addImage",value:function(t,e){e.width&&e.height?t.addImage(e.image_data,e.x,e.y,e.width,e.height):t.addImage(e.image_data,e.x,e.y)}},{key:"addLegends",value:function(t,e){var n=this,r=[],i=function(t){for(var e=n.props.mapSources[t],i=e.layers.filter((function(t){return t.on})).map((function(t){return(0,y.getLegend)(e,n.props.mapView,t.name)})).filter((function(t){return"img"===t.type})).map((function(t){return t.images})),o=0,a=i.length;o<a;o++)r=r.concat(i[o])};for(var o in this.props.mapSources)i(o);var a=[];return r.forEach((function(t){var e=new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(){n()},r.src=t}));a.push(e)})),Promise.all(a).then((function(r){var i=0;r.forEach((function(r){n.addImage(t,{x:e.x,y:e.y+i,image_data:r}),i+=(r.height+5)/72}))}))}},{key:"addMapImage",value:function(t,e,n){var r=this.props.store.getState();this.addImage(t,Object.assign({},e,{image_data:r.print.printData}));for(var i=r.map,o=new s.default({center:i.center,resolution:i.resolution,projection:"EPSG:3857"}),a=n.units,u=parseFloat(this.state.resolution),l=o.calculateExtent([this.toPoints(e.width,a)*u,this.toPoints(e.height,a)*u]),c=[e.x,e.y,e.x+e.width,e.y+e.height],f=0;f<c.length;f++)c[f]=this.toPoints(c[f],a);var h=r.config.map.scaleLine;if(h&&h.enabled){var p=(0,_.getScalelineInfo)(o,h.units||"us",{multiplier:u}),d=this.toPoints(1,"px")/this.toPoints(1,n.units),g=12*d,y=12*d;this.addDrawing(t,{type:"rect",filled:!0,x:e.x+g,y:e.y+e.height-g-y,width:p.width/72,height:y,strokeWidth:0,fill:[178,196,219]}),this.addText(t,{x:e.x+g+2*d,y:e.y+e.height-g-y/2,text:p.label,size:12,color:[238,238,238]},{baseline:"middle"})}t.setGeoArea(c,l)}},{key:"addDrawing",value:function(t,e){var n="S";if(e.filled){n="DF";var r=e.fill?e.fill:[255,255,255];t.setFillColor(r[0],r[1],r[2])}var i=void 0!==e.strokeWidth?e.strokeWidth:this.toPoints(1,"px");if(i>0){var o=e.stroke?e.stroke:[0,0,0];t.setLineWidth(i),t.setDrawColor(o[0],o[1],o[2])}else n="F",t.setLineWidth(0);"rect"===e.type?t.rect(e.x,e.y,e.width,e.height,n):"ellipse"===e.type&&t.ellipse(e.x,e.y,e.rx,e.ry,n)}},{key:"toPoints",value:function(t,e){var n=1;switch(e){case"pt":n=1;break;case"mm":n=72/25.4;break;case"cm":n=72/2.54;break;case"in":n=72;break;case"px":n=96/72;break;case"pc":case"em":n=12;break;case"ex":n=6;break;default:throw new Error("Invalid unit: "+e)}return t*n}},{key:"makePDF",value:function(t){var e=this;u.default.API.setGeoArea||(0,v.default)(u.default.API);var r=new u.default(t.orientation,t.units,t.page);(function(t){if(!t)return n.e(1).then(n.t.bind(null,795,7));fetch(t,{crossOrigin:"anonymous"}).then((function(t){return t.json()}))})(this.props.fontIndexUrl).then((function(n){for(var i in n.FONTS){r.addFileToVFS(i,n.FONTS[i]);var o=i.replace(".ttf","").split("-");r.addFont(i,o[0],o[1].toLowerCase())}e.paintPDF(r,t)}))}},{key:"paintPDF",value:function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e.elements[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;switch(u.type){case"text":this.addText(t,u);break;case"map":this.addMapImage(t,u,e);break;case"image":this.addImage(t,u);break;case"rect":case"ellipse":this.addDrawing(t,u);break;case"legend":n=n.concat(this.addLegends(t,u))}}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}Promise.all(n).then((function(){t.save("print_"+(new Date).getTime()+".pdf")}))}},{key:"renderFooter",value:function(){var t=[this.renderOption({value:"dismiss",label:"Cancel"}),this.renderOption({value:"print",label:"Print"})];return i.default.createElement("div",{className:this.getFooterClass(2)},t)}},{key:"getMapSize",value:function(){var t=this.state.layouts[this.state.layout],e=this.state.resolution,n=null,r=!0,i=!1,o=void 0;try{for(var a,s=t.elements[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if("map"===u.type){n=u;break}}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return{width:this.toPoints(n.width,t.units)*e,height:this.toPoints(n.height,t.units)*e}}},{key:"renderLayoutSelect",value:function(t){var e=this;return i.default.createElement("select",{onChange:function(t){e.setState({layout:t.target.value})},value:this.state.layout},this.state.layouts.map((function(e,n){return i.default.createElement("option",{key:e.label,value:n},t("page-"+e.label))})))}},{key:"renderResolutionSelect",value:function(t){var e=this;return i.default.createElement("select",{onChange:function(t){e.setState({resolution:t.target.value})},value:this.state.resolution},i.default.createElement("option",{value:"1"},t("resolution-normal")),i.default.createElement("option",{value:"1.5"},t("resolution-higher")),i.default.createElement("option",{value:"2"},t("resolution-highest")))}},{key:"renderBody",value:function(){var t=this,e=(0,p.getActiveMapSources)(this.props.store).length,n=!1;(0,p.getActiveMapSources)(this.props.store,!0).length<e&&(n=i.default.createElement("div",{className:"info-box"},"Some of the map layers cannot be printed. The map image in the resulting PDF may differ from what is seen in the map viewer."));var r=this.getMapSize();return i.default.createElement("div",null,n,i.default.createElement(a.Translation,null,(function(e){return i.default.createElement("div",null,i.default.createElement("p",null,i.default.createElement("label",null,e("map-title")+":"),i.default.createElement("input",{placeholder:e("map-title"),value:t.state.mapTitle,onChange:function(e){t.setState({mapTitle:e.target.value})}})),i.default.createElement("p",null,i.default.createElement("label",null,e("page-layout")+":"),t.renderLayoutSelect(e)),i.default.createElement("p",null,i.default.createElement("label",null,e("resolution")+":"),t.renderResolutionSelect(e)))})),i.default.createElement("div",null,i.default.createElement(h.default,{store:this.props.store})),i.default.createElement("div",{style:{visibility:"hidden",zIndex:-1,position:"absolute",top:0,left:0}},i.default.createElement(f.default,{width:r.width,height:r.height,store:this.props.store})))}}]),e}(),x={hideModal:g.hideModal};e.default=(0,o.connect)((function(t){return{mapSources:t.mapSources,open:"print"===t.ui.modal,mapView:t.map}}),x)(w)},function(t,e,n){(function(r){var i,o;i=function(){"use strict";
/** @license
   * jsPDF - PDF Document creation from JavaScript
   * Version 1.5.3 Built on 2018-12-27T14:11:42.696Z
   *                      CommitID d93d28db14
   *
   * Copyright (c) 2010-2016 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
   *               2010 Aaron Spike, https://github.com/acspike
   *               2012 Willow Systems Corporation, willow-systems.com
   *               2012 Pablo Hess, https://github.com/pablohess
   *               2012 Florian Jenett, https://github.com/fjenett
   *               2013 Warren Weckesser, https://github.com/warrenweckesser
   *               2013 Youssef Beddad, https://github.com/lifof
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2013 Stefan Slonevskiy, https://github.com/stefslon
   *               2013 Jeremy Morel, https://github.com/jmorel
   *               2013 Christoph Hartmann, https://github.com/chris-rock
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Makes, https://github.com/dollaruw
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Steven Spungin, https://github.com/Flamenco
   *               2014 Kenneth Glassey, https://github.com/Gavvers
   *
   * Licensed under the MIT License
   *
   * Contributor(s):
   *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
   *    kim3er, mfo, alnorth, Flamenco
   */function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){if("object"!==i(t.console)){t.console={};for(var e,n,r=t.console,o=function(){},a=["memory"],s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)r[e]||(r[e]={});for(;n=s.pop();)r[n]||(r[n]=o)}var u,l,c,f,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";void 0===t.btoa&&(t.btoa=function(t){var e,n,r,i,o,a=0,s=0,u="",l=[];if(!t)return t;for(;e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,l[s++]=h.charAt(e)+h.charAt(n)+h.charAt(r)+h.charAt(i),a<t.length;);u=l.join("");var c=t.length%3;return(c?u.slice(0,c-3):u)+"===".slice(c||3)}),void 0===t.atob&&(t.atob=function(t){var e,n,r,i,o,a,s=0,u=0,l=[];if(!t)return t;for(t+="";e=(a=h.indexOf(t.charAt(s++))<<18|h.indexOf(t.charAt(s++))<<12|(i=h.indexOf(t.charAt(s++)))<<6|(o=h.indexOf(t.charAt(s++))))>>16&255,n=a>>8&255,r=255&a,l[u++]=64==i?String.fromCharCode(e):64==o?String.fromCharCode(e,n):String.fromCharCode(e,n,r),s<t.length;);return l.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(null==this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=1<arguments.length?arguments[1]:void 0,o=0;o<n;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){if(null==this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;i<r;i++)i in n&&t.call(e,n[i],i,n)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=e[i];if(t.call(r,o,i,e))return o;i++}},configurable:!0,writable:!0}),Object.keys||(Object.keys=(u=Object.prototype.hasOwnProperty,l=!{toString:null}.propertyIsEnumerable("toString"),f=(c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(t){if("object"!==i(t)&&("function"!=typeof t||null===t))throw new TypeError;var e,n,r=[];for(e in t)u.call(t,e)&&r.push(e);if(l)for(n=0;n<f;n++)u.call(t,c[n])&&r.push(c[n]);return r})),"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")());var a,s,u,l,c,f,h,p,d,g,y,m,v,_,b,w,x,S,E,O,P,C,T,N,I,M,A,L,R,k,F,j,D,U,G,z,B,q,V,Y,H,W,X,K,Z,J,Q,$,tt,et,nt,rt,it,ot,at,st,ut,lt,ct,ft,ht,pt,dt=function(r){function a(t){if("object"!==i(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!r],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,i)}catch(n){r.console&&console.error("jsPDF PubSub Error",n.message,n)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function s(t,e,n,o){var u={},l=[],c=1;"object"===i(t)&&(t=(u=t).orientation,e=u.unit||e,n=u.format||n,o=u.compress||u.compressPdf||o,l=u.filters||(!0===o?["FlateEncode"]:l),c="number"==typeof u.userUnit?Math.abs(u.userUnit):1),e=e||"mm",t=(""+(t||"P")).toLowerCase();var f=u.putOnlyUsedFonts||!0,h={},p={internal:{},__private__:{}};p.__private__.PubSub=a;var d="1.3",g=p.__private__.getPdfVersion=function(){return d},y=(p.__private__.setPdfVersion=function(t){d=t},{a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]}),m=(p.__private__.getPageFormats=function(){return y},p.__private__.getPageFormat=function(t){return y[t]});"string"==typeof n&&(n=m(n)),n=n||m("a4");var v,_=p.f2=p.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},b=p.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return t.toFixed(3)},w="00000000000000000000000000000000",x=p.__private__.getFileId=function(){return w},S=p.__private__.setFileId=function(t){return t=t||"12345678901234567890123456789012".split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),w=t};p.setFileId=function(t){return S(t),this},p.getFileId=function(){return x()};var E=p.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),o=[n,F(r),"'",F(i),"'"].join("");return["D:",t.getFullYear(),F(t.getMonth()+1),F(t.getDate()),F(t.getHours()),F(t.getMinutes()),F(t.getSeconds()),o].join("")},O=p.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),a=parseInt(t.substr(14,2),10);return parseInt(t.substr(16,2),10),parseInt(t.substr(20,2),10),new Date(e,n,r,i,o,a,0)},P=p.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),"object"===i(t)&&"[object Date]"===Object.prototype.toString.call(t))e=E(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|\-0[0-9]|\-1[0-1])\'(0[0-9]|[1-5][0-9])\'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return v=e},C=p.__private__.getCreationDate=function(t){var e=v;return"jsDate"===t&&(e=O(v)),e};p.setCreationDate=function(t){return P(t),this},p.getCreationDate=function(t){return C(t)};var T,N,I,M,A,L,R,k,F=p.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},j=!1,D=[],U=[],G=0,z=(p.__private__.setCustomOutputDestination=function(t){N=t},p.__private__.resetCustomOutputDestination=function(t){N=void 0},p.__private__.out=function(t){var e;return t="string"==typeof t?t:t.toString(),(e=void 0===N?j?D[T]:U:N).push(t),j||(G+=t.length+1),e}),B=p.__private__.write=function(t){return z(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},q=p.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},V=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]],Y=(p.__private__.getStandardFonts=function(t){return V},u.fontSize||16),H=(p.__private__.setFontSize=p.setFontSize=function(t){return Y=t,this},p.__private__.getFontSize=p.getFontSize=function(){return Y}),W=u.R2L||!1,X=(p.__private__.setR2L=p.setR2L=function(t){return W=t,this},p.__private__.getR2L=p.getR2L=function(t){return W},p.__private__.setZoomMode=function(t){if(/^\d*\.?\d*\%$/.test(t))I=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');I=t}else I=parseInt(t,10)}),K=(p.__private__.getZoomMode=function(){return I},p.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');M=t}),Z=(p.__private__.getPageMode=function(){return M},p.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');A=t}),J=(p.__private__.getLayoutMode=function(){return A},p.__private__.setDisplayMode=p.setDisplayMode=function(t,e,n){return X(t),Z(e),K(n),this},{title:"",subject:"",author:"",keywords:"",creator:""}),Q=(p.__private__.getDocumentProperty=function(t){if(-1===Object.keys(J).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return J[t]},p.__private__.getDocumentProperties=function(t){return J},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(t){for(var e in J)J.hasOwnProperty(e)&&t[e]&&(J[e]=t[e]);return this},p.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(J).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return J[t]=e},0),$=[],tt={},et={},nt=0,rt=[],it=[],ot=new a(p),at=u.hotfixes||[],st=p.__private__.newObject=function(){var t=ut();return lt(t,!0),t},ut=p.__private__.newObjectDeferred=function(){return $[++Q]=function(){return G},Q},lt=function(t,e){return e="boolean"==typeof e&&e,$[t]=G,e&&z(t+" 0 obj"),t},ct=p.__private__.newAdditionalObject=function(){var t={objId:ut(),content:""};return it.push(t),t},ft=ut(),ht=ut(),pt=p.__private__.decodeColorString=function(t){var e=t.split(" ");if(2===e.length&&("g"===e[1]||"G"===e[1])){var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},dt=p.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,r=t.ch2,o=t.ch3,a=t.ch4,s=(t.precision,"draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"]);if("string"==typeof n&&"#"!==n.charAt(0)){var u=new RGBColor(n);if(u.ok)n=u.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,o=255&l}if(void 0===r||void 0===a&&n===r&&r===o)if("string"==typeof n)e=n+" "+s[0];else switch(t.precision){case 2:e=_(n/255)+" "+s[0];break;case 3:default:e=b(n/255)+" "+s[0]}else if(void 0===a||"object"===i(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.000","1.000","1.000",s[1]].join(" ");if("string"==typeof n)e=[n,r,o,s[1]].join(" ");else switch(t.precision){case 2:e=[_(n/255),_(r/255),_(o/255),s[1]].join(" ");break;default:case 3:e=[b(n/255),b(r/255),b(o/255),s[1]].join(" ")}}else if("string"==typeof n)e=[n,r,o,a,s[2]].join(" ");else switch(t.precision){case 2:e=[_(n/255),_(r/255),_(o/255),_(a/255),s[2]].join(" ");break;case 3:default:e=[b(n/255),b(r/255),b(o/255),b(a/255),s[2]].join(" ")}return e},gt=p.__private__.getFilters=function(){return l},yt=p.__private__.putStream=function(t){var e,n=(t=t||{}).data||"",r=t.filters||gt(),i=t.alreadyAppliedFilters||[],o=t.addLength1||!1,a=n.length;!0===r&&(r=["FlateEncode"]);var u=t.additionalKeyValues||[],l=(e=void 0!==s.API.processDataByFilters?s.API.processDataByFilters(n,r):{data:n,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());0!==e.data.length&&(u.push({key:"Length",value:e.data.length}),!0===o&&u.push({key:"Length1",value:a})),0!=l.length&&(l.split("/").length-1==1?u.push({key:"Filter",value:l}):u.push({key:"Filter",value:"["+l+"]"})),z("<<");for(var c=0;c<u.length;c++)z("/"+u[c].key+" "+u[c].value);z(">>"),0!==e.data.length&&(z("stream"),z(e.data),z("endstream"))},mt=p.__private__.putPage=function(t){t.mediaBox;var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;lt(r,!0),rt[T].mediaBox.topRightX,rt[T].mediaBox.bottomLeftX,rt[T].mediaBox.topRightY,rt[T].mediaBox.bottomLeftY,z("<</Type /Page"),z("/Parent "+t.rootDictionaryObjId+" 0 R"),z("/Resources "+t.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(_(t.mediaBox.bottomLeftX))+" "+parseFloat(_(t.mediaBox.bottomLeftY))+" "+_(t.mediaBox.topRightX)+" "+_(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&z("/CropBox ["+_(t.cropBox.bottomLeftX)+" "+_(t.cropBox.bottomLeftY)+" "+_(t.cropBox.topRightX)+" "+_(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&z("/BleedBox ["+_(t.bleedBox.bottomLeftX)+" "+_(t.bleedBox.bottomLeftY)+" "+_(t.bleedBox.topRightX)+" "+_(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&z("/TrimBox ["+_(t.trimBox.bottomLeftX)+" "+_(t.trimBox.bottomLeftY)+" "+_(t.trimBox.topRightX)+" "+_(t.trimBox.topRightY)+"]"),null!==t.artBox&&z("/ArtBox ["+_(t.artBox.bottomLeftX)+" "+_(t.artBox.bottomLeftY)+" "+_(t.artBox.topRightX)+" "+_(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&z("/UserUnit "+t.userUnit),ot.publish("putPage",{objId:r,pageContext:rt[e],pageNumber:e,page:n}),z("/Contents "+i+" 0 R"),z(">>"),z("endobj");var o=n.join("\n");return lt(i,!0),yt({data:o,filters:gt()}),z("endobj"),r},vt=p.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=nt;t++)rt[t].objId=ut(),rt[t].contentsObjId=ut();for(t=1;t<=nt;t++)n.push(mt({number:t,data:D[t],objId:rt[t].objId,contentsObjId:rt[t].contentsObjId,mediaBox:rt[t].mediaBox,cropBox:rt[t].cropBox,bleedBox:rt[t].bleedBox,trimBox:rt[t].trimBox,artBox:rt[t].artBox,userUnit:rt[t].userUnit,rootDictionaryObjId:ft,resourceDictionaryObjId:ht}));lt(ft,!0),z("<</Type /Pages");var r="/Kids [";for(e=0;e<nt;e++)r+=n[e]+" 0 R ";z(r+"]"),z("/Count "+nt),z(">>"),z("endobj"),ot.publish("postPutPages")},_t=function(t,e,n){et.hasOwnProperty(e)||(et[e]={}),et[e][n]=t},bt=function(t,e,n,r,i){i=i||!1;var o="F"+(Object.keys(tt).length+1).toString(10),a={id:o,postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i,metadata:{}};return ot.publish("addFont",{font:a,instance:this}),void 0!==o&&(tt[o]=a,_t(o,e,n)),o},wt=p.__private__.pdfEscape=p.pdfEscape=function(t,e){return function(t,e){var n,r,i,o,a,s,u,l,c;if(i=(e=e||{}).sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&tt[L].metadata&&tt[L].metadata[i]&&tt[L].metadata[i].encoding&&(o=tt[L].metadata[i].encoding,!a&&tt[L].encoding&&(a=tt[L].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(u=!1,s=[],n=0,r=t.length;n<r;n++)(l=a[t.charCodeAt(n)])?s.push(String.fromCharCode(l)):s.push(t[n]),s[n].charCodeAt(0)>>8&&(u=!0);t=s.join("")}for(n=t.length;void 0===u&&0!==n;)t.charCodeAt(n-1)>>8&&(u=!0),n--;if(!u)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((c=(l=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(c),s.push(l-(c<<8))}return String.fromCharCode.apply(void 0,s)}(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=p.__private__.beginPage=function(t,e){var r,i="string"==typeof e&&e.toLowerCase();if("string"==typeof t&&(r=m(t.toLowerCase()))&&(t=r[0],e=r[1]),Array.isArray(t)&&(e=t[1],t=t[0]),(isNaN(t)||isNaN(e))&&(t=n[0],e=n[1]),i){switch(i.substr(0,1)){case"l":t<e&&(i="s");break;case"p":e<t&&(i="s")}"s"===i&&(r=t,t=e,e=r)}(14400<t||14400<e)&&(console.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),t=Math.min(14400,t),e=Math.min(14400,e)),n=[t,e],j=!0,D[++nt]=[],rt[nt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t),topRightY:Number(e)}},Et(nt)},St=function(){xt.apply(this,arguments),Vt(qt),z(Qt),0!==ie&&z(ie+" J"),0!==ae&&z(ae+" j"),ot.publish("addPage",{pageNumber:nt})},Et=function(t){0<t&&t<=nt&&(T=t)},Ot=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return D.length-1},Pt=function(t,e,n){var r,i=void 0;return n=n||{},t=void 0!==t?t:tt[L].fontName,e=void 0!==e?e:tt[L].fontStyle,r=t.toLowerCase(),void 0!==et[r]&&void 0!==et[r][e]?i=et[r][e]:void 0!==et[t]&&void 0!==et[t][e]?i=et[t][e]:!1===n.disableWarning&&console.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=et.times[e])&&(i=et.times.normal),i},Ct=p.__private__.putInfo=function(){for(var t in st(),z("<<"),z("/Producer (jsPDF "+s.version+")"),J)J.hasOwnProperty(t)&&J[t]&&z("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+wt(J[t])+")");z("/CreationDate ("+v+")"),z(">>"),z("endobj")},Tt=p.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||ft;switch(st(),z("<<"),z("/Type /Catalog"),z("/Pages "+e+" 0 R"),I||(I="fullwidth"),I){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+I;"%"===n.substr(n.length-1)&&(I=parseInt(I)/100),"number"==typeof I&&z("/OpenAction [3 0 R /XYZ null null "+_(I)+"]")}switch(A||(A="continuous"),A){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}M&&z("/PageMode /"+M),ot.publish("putCatalog"),z(">>"),z("endobj")},Nt=p.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(Q+1)),z("/Root "+Q+" 0 R"),z("/Info "+(Q-1)+" 0 R"),z("/ID [ <"+w+"> <"+w+"> ]"),z(">>")},Mt=p.__private__.putHeader=function(){z("%PDF-"+d),z("%")},At=p.__private__.putXRef=function(){var t=1,e="0000000000";for(z("xref"),z("0 "+(Q+1)),z("0000000000 65535 f "),t=1;t<=Q;t++)"function"==typeof $[t]?z((e+$[t]()).slice(-10)+" 00000 n "):void 0!==$[t]?z((e+$[t]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Lt=p.__private__.buildDocument=function(){j=!1,G=Q=0,U=[],$=[],it=[],ft=ut(),ht=ut(),ot.publish("buildDocument"),Mt(),vt(),function(){ot.publish("putAdditionalObjects");for(var t=0;t<it.length;t++){var e=it[t];lt(e.objId,!0),z(e.content),z("endobj")}ot.publish("postPutAdditionalObjects")}(),function(){for(var t in tt)tt.hasOwnProperty(t)&&(!1===f||!0===f&&h.hasOwnProperty(t))&&(e=tt[t],ot.publish("putFont",{font:e,out:z,newObject:st,putStream:yt}),!0!==e.isAlreadyPutted&&(e.objectNumber=st(),z("<<"),z("/Type /Font"),z("/BaseFont /"+e.postScriptName),z("/Subtype /Type1"),"string"==typeof e.encoding&&z("/Encoding /"+e.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj")));var e}(),ot.publish("putResources"),lt(ht,!0),z("<<"),function(){for(var t in z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),z("/Font <<"),tt)tt.hasOwnProperty(t)&&(!1===f||!0===f&&h.hasOwnProperty(t))&&z("/"+t+" "+tt[t].objectNumber+" 0 R");z(">>"),z("/XObject <<"),ot.publish("putXobjectDict"),z(">>")}(),z(">>"),z("endobj"),ot.publish("postPutResources"),Ct(),Tt();var t=G;return At(),Nt(),z("startxref"),z(""+t),z("%%EOF"),j=!0,U.join("\n")},Rt=p.__private__.getBlob=function(t){return new Blob([q(t)],{type:"application/pdf"})},kt=p.output=p.__private__.output=((k=function(t,e){e=e||{};var n=Lt();switch("string"==typeof e?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return n;case"save":p.save(e.filename);break;case"arraybuffer":return q(n);case"blob":return Rt(n);case"bloburi":case"bloburl":if(void 0!==r.URL&&"function"==typeof r.URL.createObjectURL)return r.URL&&r.URL.createObjectURL(Rt(n))||void 0;console.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":return"data:application/pdf;filename="+e.filename+";base64,"+btoa(n);case"dataurlnewwindow":var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring")+'"></iframe></body></html>',o=r.open();if(null!==o&&o.document.write(i),o||"undefined"==typeof safari)return o;case"datauri":case"dataurl":return r.document.location.href="data:application/pdf;filename="+e.filename+";base64,"+btoa(n);default:return null}}).foo=function(){try{return k.apply(this,arguments)}catch(n){var t=n.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var e="Error in function "+t.split("\n")[0].split("<")[0]+": "+n.message;if(!r.console)throw new Error(e);r.console.error(e,n),r.alert&&alert(e)}},(k.foo.bar=k).foo),Ft=function(t){return!0===Array.isArray(at)&&-1<at.indexOf(t)};switch(e){case"pt":R=1;break;case"mm":R=72/25.4;break;case"cm":R=72/2.54;break;case"in":R=72;break;case"px":R=1==Ft("px_scaling")?.75:96/72;break;case"pc":case"em":R=12;break;case"ex":R=6;break;default:throw new Error("Invalid unit: "+e)}P(),S();var jt=p.__private__.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[t].objId,pageNumber:t,pageContext:rt[t]}},Dt=p.__private__.getPageInfoByObjId=function(t){for(var e in rt)if(rt[e].objId===t)break;if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");return jt(e)},Ut=p.__private__.getCurrentPageInfo=function(){return{objId:rt[T].objId,pageNumber:T,pageContext:rt[T]}};p.addPage=function(){return St.apply(this,arguments),this},p.setPage=function(){return Et.apply(this,arguments),this},p.insertPage=function(t){return this.addPage(),this.movePage(T,t),this},p.movePage=function(t,e){if(e<t){for(var n=D[t],r=rt[t],i=t;e<i;i--)D[i]=D[i-1],rt[i]=rt[i-1];D[e]=n,rt[e]=r,this.setPage(e)}else if(t<e){for(n=D[t],r=rt[t],i=t;i<e;i++)D[i]=D[i+1],rt[i]=rt[i+1];D[e]=n,rt[e]=r,this.setPage(e)}return this},p.deletePage=function(){return function(t){0<t&&t<=nt&&(D.splice(t,1),--nt<T&&(T=nt),this.setPage(T))}.apply(this,arguments),this},p.__private__.text=p.text=function(t,e,n,r){var o;"number"!=typeof t||"number"!=typeof e||"string"!=typeof n&&!Array.isArray(n)||(o=n,n=e,e=t,t=o);var a=arguments[3],s=arguments[4],u=arguments[5];if("object"===i(a)&&null!==a||("string"==typeof s&&(u=s,s=null),"string"==typeof a&&(u=a,a=null),"number"==typeof a&&(s=a,a=null),r={flags:a,angle:s,align:u}),(a=a||{}).noBOM=a.noBOM||!0,a.autoencode=a.autoencode||!0,isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return p;var l,c="",f="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Bt,p=r.scope||this;function d(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&1===e.length?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function g(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,o=t.concat(),a=[],s=o.length;s--;)"string"==typeof(r=o.shift())?a.push(e(r)[0]):Array.isArray(r)&&"string"===r[0]&&(i=e(r[0],r[1],r[2]),a.push([i[0],i[1],i[2]]));n=a}return n}var y=!1,m=!0;if("string"==typeof t)y=!0;else if(Array.isArray(t)){for(var v,w=t.concat(),x=[],S=w.length;S--;)("string"!=typeof(v=w.shift())||Array.isArray(v)&&"string"!=typeof v[0])&&(m=!1);y=m}if(!1===y)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');var E=tt[L].encoding;"WinAnsiEncoding"!==E&&"StandardEncoding"!==E||(t=g(t,(function(t,e,n){return[(i=t,i=i.split("\t").join(Array(r.TabLen||9).join(" ")),wt(i,a)),e,n];var i}))),"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var O=Y/p.internal.scaleFactor,P=O*(Bt-1);switch(r.baseline){case"bottom":n-=P;break;case"top":n+=O-P;break;case"hanging":n+=O-2*P;break;case"middle":n+=O/2-P}0<(B=r.maxWidth||0)&&("string"==typeof t?t=p.splitTextToSize(t,B):"[object Array]"===Object.prototype.toString.call(t)&&(t=p.splitTextToSize(t.join(" "),B)));var C={text:t,x:e,y:n,options:r,mutex:{pdfEscape:wt,activeFontKey:L,fonts:tt,activeFontSize:Y}};ot.publish("preProcessText",C),t=C.text,s=(r=C.options).angle;var T=p.internal.scaleFactor,N=[];if(s){s*=Math.PI/180;var I=Math.cos(s),M=Math.sin(s);N=[_(I),_(M),_(-1*M),_(I)]}void 0!==(G=r.charSpace)&&(c+=b(G*T)+" Tc\n"),r.lang;var A=-1,R=void 0!==r.renderingMode?r.renderingMode:r.stroke,k=p.internal.getCurrentPageInfo().pageContext;switch(R){case 0:case!1:case"fill":A=0;break;case 1:case!0:case"stroke":A=1;break;case 2:case"fillThenStroke":A=2;break;case 3:case"invisible":A=3;break;case 4:case"fillAndAddForClipping":A=4;break;case 5:case"strokeAndAddPathForClipping":A=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":A=6;break;case 7:case"addToPathForClipping":A=7}var F=void 0!==k.usedRenderingMode?k.usedRenderingMode:-1;-1!==A?c+=A+" Tr\n":-1!==F&&(c+="0 Tr\n"),-1!==A&&(k.usedRenderingMode=A),u=r.align||"left";var j=Y*f,D=p.internal.pageSize.getWidth(),U=(T=p.internal.scaleFactor,tt[L]),G=r.charSpace||ne,B=r.maxWidth||0,q=(a={},[]);if("[object Array]"===Object.prototype.toString.call(t)){var V,H;x=d(t),"left"!==u&&(H=x.map((function(t){return p.getStringUnitWidth(t,{font:U,charSpace:G,fontSize:Y})*Y/T}))),Math.max.apply(Math,H);var X,K=0;if("right"===u){e-=H[0],t=[];var Z=0;for(S=x.length;Z<S;Z++)H[Z],V=0===Z?(X=Xt(e),Kt(n)):(X=(K-H[Z])*T,-j),t.push([x[Z],X,V]),K=H[Z]}else if("center"===u)for(e-=H[0]/2,t=[],Z=0,S=x.length;Z<S;Z++)H[Z],V=0===Z?(X=Xt(e),Kt(n)):(X=(K-H[Z])/2*T,-j),t.push([x[Z],X,V]),K=H[Z];else if("left"===u)for(t=[],Z=0,S=x.length;Z<S;Z++)V=0===Z?Kt(n):-j,X=0===Z?Xt(e):0,t.push(x[Z]);else{if("justify"!==u)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(t=[],B=0!==B?B:D,Z=0,S=x.length;Z<S;Z++)V=0===Z?Kt(n):-j,X=0===Z?Xt(e):0,Z<S-1&&q.push(((B-H[Z])/(x[Z].split(" ").length-1)*T).toFixed(2)),t.push([x[Z],X,V])}}!0===("boolean"==typeof r.R2L?r.R2L:W)&&(t=g(t,(function(t,e,n){return[t.split("").reverse().join(""),e,n]}))),C={text:t,x:e,y:n,options:r,mutex:{pdfEscape:wt,activeFontKey:L,fonts:tt,activeFontSize:Y}},ot.publish("postProcessText",C),t=C.text,l=C.mutex.isHex,x=d(t),t=[];var J,Q,$,et=0,nt=(S=x.length,"");for(Z=0;Z<S;Z++)nt="",Array.isArray(x[Z])?(J=parseFloat(x[Z][1]),Q=parseFloat(x[Z][2]),$=(l?"<":"(")+x[Z][0]+(l?">":")"),et=1):(J=Xt(e),Q=Kt(n),$=(l?"<":"(")+x[Z]+(l?">":")")),void 0!==q&&void 0!==q[Z]&&(nt=q[Z]+" Tw\n"),0!==N.length&&0===Z?t.push(nt+N.join(" ")+" "+J.toFixed(2)+" "+Q.toFixed(2)+" Tm\n"+$):1===et||0===et&&0===Z?t.push(nt+J.toFixed(2)+" "+Q.toFixed(2)+" Td\n"+$):t.push(nt+$);t=0===et?t.join(" Tj\nT* "):t.join(" Tj\n"),t+=" Tj\n";var rt="BT\n/"+L+" "+Y+" Tf\n"+(Y*f).toFixed(2)+" TL\n"+te+"\n";return rt+=c,rt+=t,z(rt+="ET"),h[L]=!0,p},p.__private__.lstext=p.lstext=function(t,e,n,r){return console.warn("jsPDF.lstext is deprecated"),this.text(t,e,n,{charSpace:r})},p.__private__.clip=p.clip=function(t){z("evenodd"===t?"W*":"W"),z("n")},p.__private__.clip_fixed=p.clip_fixed=function(t){console.log("clip_fixed is deprecated"),p.clip(t)};var Gt=p.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","F","DF","FD","f","f*","B","B*"].indexOf(t)&&(e=!0),e},zt=p.__private__.getStyle=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":"f"!==t&&"f*"!==t&&"B"!==t&&"B*"!==t||(e=t),e};p.__private__.line=p.line=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.line");return this.lines([[n-t,r-e]],t,e)},p.__private__.lines=p.lines=function(t,e,n,r,i,o){var a,s,u,l,c,f,h,p,d,g,y,m;if("number"==typeof t&&(m=n,n=e,e=t,t=m),r=r||[1,1],o=o||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Gt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(z(b(Xt(e))+" "+b(Kt(n))+" m "),a=r[0],s=r[1],l=t.length,g=e,y=n,u=0;u<l;u++)2===(c=t[u]).length?(g=c[0]*a+g,y=c[1]*s+y,z(b(Xt(g))+" "+b(Kt(y))+" l")):(f=c[0]*a+g,h=c[1]*s+y,p=c[2]*a+g,d=c[3]*s+y,g=c[4]*a+g,y=c[5]*s+y,z(b(Xt(f))+" "+b(Kt(h))+" "+b(Xt(p))+" "+b(Kt(d))+" "+b(Xt(g))+" "+b(Kt(y))+" c"));return o&&z(" h"),null!==i&&z(zt(i)),this},p.__private__.rect=p.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Gt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return z([_(Xt(t)),_(Kt(e)),_(n*R),_(-r*R),"re"].join(" ")),null!==i&&z(zt(i)),this},p.__private__.triangle=p.triangle=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Gt(a))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},p.__private__.roundedRect=p.roundedRect=function(t,e,n,r,i,o,a){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Gt(a))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-i*s,o,-i,o],[2*i-n,0],[-i*s,0,-i,-o*s,-i,-o],[0,2*o-r],[0,-o*s,i*s,-o,i,-o]],t+i,e,[1,1],a),this},p.__private__.ellipse=p.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Gt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return z([_(Xt(t+n)),_(Kt(e)),"m",_(Xt(t+n)),_(Kt(e-a)),_(Xt(t+o)),_(Kt(e-r)),_(Xt(t)),_(Kt(e-r)),"c"].join(" ")),z([_(Xt(t-o)),_(Kt(e-r)),_(Xt(t-n)),_(Kt(e-a)),_(Xt(t-n)),_(Kt(e)),"c"].join(" ")),z([_(Xt(t-n)),_(Kt(e+a)),_(Xt(t-o)),_(Kt(e+r)),_(Xt(t)),_(Kt(e+r)),"c"].join(" ")),z([_(Xt(t+o)),_(Kt(e+r)),_(Xt(t+n)),_(Kt(e+a)),_(Xt(t+n)),_(Kt(e)),"c"].join(" ")),null!==i&&z(zt(i)),this},p.__private__.circle=p.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Gt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},p.setFont=function(t,e){return L=Pt(t,e,{disableWarning:!1}),this},p.setFontStyle=p.setFontType=function(t){return L=Pt(void 0,t),this},p.__private__.getFontList=p.getFontList=function(){var t,e,n,r={};for(t in et)if(et.hasOwnProperty(t))for(e in r[t]=n=[],et[t])et[t].hasOwnProperty(e)&&n.push(e);return r},p.addFont=function(t,e,n,r){bt.call(this,t,e,n,r=r||"Identity-H")};var Bt,qt=u.lineWidth||.200025,Vt=p.__private__.setLineWidth=p.setLineWidth=function(t){return z((t*R).toFixed(2)+" w"),this},Yt=(p.__private__.setLineDash=s.API.setLineDash=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map((function(t){return(t*R).toFixed(3)})).join(" "),e=parseFloat((e*R).toFixed(3)),z("["+t+"] "+e+" d"),this},p.__private__.getLineHeight=p.getLineHeight=function(){return Y*Bt}),Ht=(Yt=p.__private__.getLineHeight=p.getLineHeight=function(){return Y*Bt},p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(Bt=t),this}),Wt=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Bt};Ht(u.lineHeight);var Xt=p.__private__.getHorizontalCoordinate=function(t){return t*R},Kt=p.__private__.getVerticalCoordinate=function(t){return rt[T].mediaBox.topRightY-rt[T].mediaBox.bottomLeftY-t*R},Zt=p.__private__.getHorizontalCoordinateString=function(t){return _(t*R)},Jt=p.__private__.getVerticalCoordinateString=function(t){return _(rt[T].mediaBox.topRightY-rt[T].mediaBox.bottomLeftY-t*R)},Qt=u.strokeColor||"0 G",$t=(p.__private__.getStrokeColor=p.getDrawColor=function(){return pt(Qt)},p.__private__.setStrokeColor=p.setDrawColor=function(t,e,n,r){return Qt=dt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),z(Qt),this},u.fillColor||"0 g"),te=(p.__private__.getFillColor=p.getFillColor=function(){return pt($t)},p.__private__.setFillColor=p.setFillColor=function(t,e,n,r){return $t=dt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),z($t),this},u.textColor||"0 g"),ee=p.__private__.getTextColor=p.getTextColor=function(){return pt(te)},ne=(p.__private__.setTextColor=p.setTextColor=function(t,e,n,r){return te=dt({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this},u.charSpace||0),re=p.__private__.getCharSpace=p.getCharSpace=function(){return ne},ie=(p.__private__.setCharSpace=p.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ne=t,this},0);p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(t){var e=p.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return z((ie=e)+" J"),this};var oe,ae=0;for(var se in p.__private__.setLineJoin=p.setLineJoin=function(t){var e=p.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return z((ae=e)+" j"),this},p.__private__.setMiterLimit=p.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setMiterLimit");return oe=parseFloat(_(t*R)),z(oe+" M"),this},p.save=function(t,e){if(t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1!==e.returnPromise)return new Promise((function(e,n){try{var i=It(Rt(Lt()),t);"function"==typeof It.unload&&r.setTimeout&&setTimeout(It.unload,911),e(i)}catch(e){n(e.message)}}));It(Rt(Lt()),t),"function"==typeof It.unload&&r.setTimeout&&setTimeout(It.unload,911)},s.API)s.API.hasOwnProperty(se)&&("events"===se&&s.API.events.length?function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(ot,s.API.events):p[se]=s.API[se]);return p.internal={pdfEscape:wt,getStyle:zt,getFont:function(){return tt[Pt.apply(p,arguments)]},getFontSize:H,getCharSpace:re,getTextColor:ee,getLineHeight:Yt,getLineHeightFactor:Wt,write:B,getHorizontalCoordinate:Xt,getVerticalCoordinate:Kt,getCoordinateString:Zt,getVerticalCoordinateString:Jt,collections:{},newObject:st,newAdditionalObject:ct,newObjectDeferred:ut,newObjectDeferredBegin:lt,getFilters:gt,putStream:yt,events:ot,scaleFactor:R,pageSize:{getWidth:function(){return(rt[T].mediaBox.topRightX-rt[T].mediaBox.bottomLeftX)/R},setWidth:function(t){rt[T].mediaBox.topRightX=t*R+rt[T].mediaBox.bottomLeftX},getHeight:function(){return(rt[T].mediaBox.topRightY-rt[T].mediaBox.bottomLeftY)/R},setHeight:function(t){rt[T].mediaBox.topRightY=t*R+rt[T].mediaBox.bottomLeftY}},output:kt,getNumberOfPages:Ot,pages:D,out:z,f2:_,f3:b,getPageInfo:jt,getPageInfoByObjId:Dt,getCurrentPageInfo:Ut,getPDFVersion:g,hasHotfix:Ft},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return(rt[T].mediaBox.topRightX-rt[T].mediaBox.bottomLeftX)/R},set:function(t){rt[T].mediaBox.topRightX=t*R+rt[T].mediaBox.bottomLeftX},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return(rt[T].mediaBox.topRightY-rt[T].mediaBox.bottomLeftY)/R},set:function(t){rt[T].mediaBox.topRightY=t*R+rt[T].mediaBox.bottomLeftY},enumerable:!0,configurable:!0}),function(t){for(var e=0,n=V.length;e<n;e++){var r=bt(t[e][0],t[e][1],t[e][2],V[e][3],!0);h[r]=!0;var i=t[e][0].split("-");_t(r,i[0],i[1]||"")}ot.publish("addFonts",{fonts:tt,dictionary:et})}(V),L="F1",St(n,t),ot.publish("initialized"),p}return s.API={events:[]},s.version="1.5.3",void 0!==(o=function(){return s}.call(e,n,e,t))&&(t.exports=o),s}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")());
/**
   * @license
   * Copyright (c) 2016 Alexander Weidt,
   * https://github.com/BiggA94
   * 
   * Licensed under the MIT License. http://opensource.org/licenses/mit-license
   */
/**
   * @license
   * Copyright (c) 2016 Alexander Weidt,
   * https://github.com/BiggA94
   * 
   * Licensed under the MIT License. http://opensource.org/licenses/mit-license
   */(function(t,e){var n,r=1,o=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},a=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},s=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(2)},u=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return t.toFixed(5)};t.__acroform__={};var l=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},c=function(t){return t*r},f=function(t){return t/r},h=function(t){var e=new R,n=X.internal.getHeight(t)||0,r=X.internal.getWidth(t)||0;return e.BBox=[0,0,Number(s(r)),Number(s(n))],e},p=t.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},d=t.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},g=t.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},y=t.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g(t,e-1)},m=t.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return p(t,e-1)},v=t.__acroform__.clearBitForPdf=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return d(t,e-1)},_=t.__acroform__.calculateCoordinates=function(t){var e=this.internal.getHorizontalCoordinate,n=this.internal.getVerticalCoordinate,r=t[0],i=t[1],o=t[2],a=t[3],u={};return u.lowerLeft_X=e(r)||0,u.lowerLeft_Y=n(i+a)||0,u.upperRight_X=e(r+o)||0,u.upperRight_Y=n(i)||0,[Number(s(u.lowerLeft_X)),Number(s(u.lowerLeft_Y)),Number(s(u.upperRight_X)),Number(s(u.upperRight_Y))]},b=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t.V||t.DV,i=w(t,r),o=n.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.__private__.encodeColorString(t.color)),e.push("/"+o+" "+s(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=new h(t);return a.stream=e.join("\n"),a}},w=function(t,e){var r=t.maxFontSize||12,i=(t.fontName,{text:"",fontSize:""}),a=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" "),u=(n.__private__.encodeColorString(t.color),r),l=X.internal.getHeight(t)||0;l=l<0?-l:l;var c=X.internal.getWidth(t)||0;c=c<0?-c:c;var f=function(e,n,r){if(e+1<a.length){var i=n+" "+a[e+1];return x(i,t,r).width<=c-4}return!1};u++;t:for(;;){e="";var h=x("3",t,--u).height,p=t.multiline?l-u:(l-h)/2,d=-2,g=p+=2,y=0,m=0,v=0;if(u<=0){e="(...) Tj\n",e+="% Width of Text: "+x(e,t,u=12).width+", FieldWidth:"+c+"\n";break}v=x(a[0]+" ",t,u).width;var _="",b=0;for(var w in a)if(a.hasOwnProperty(w)){_=" "==(_+=a[w]+" ").substr(_.length-1)?_.substr(0,_.length-1):_;var S=parseInt(w);v=x(_+" ",t,u).width;var E=f(S,_,u),O=w>=a.length-1;if(E&&!O){_+=" ";continue}if(E||O){if(O)m=S;else if(t.multiline&&l<(h+2)*(b+2)+2)continue t}else{if(!t.multiline)continue t;if(l<(h+2)*(b+2)+2)continue t;m=S}for(var P="",C=y;C<=m;C++)P+=a[C]+" ";switch(P=" "==P.substr(P.length-1)?P.substr(0,P.length-1):P,v=x(P,t,u).width,t.textAlign){case"right":d=c-v-2;break;case"center":d=(c-v)/2;break;case"left":default:d=2}e+=s(d)+" "+s(g)+" Td\n",e+="("+o(P)+") Tj\n",e+=-s(d)+" 0 Td\n",g=-(u+2),v=0,y=m+1,b++,_=""}break}return i.text=e,i.fontSize=u,i},x=function(t,e,r){var i=n.internal.getFont(e.fontName,e.fontStyle),o=n.getStringUnitWidth(t,{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:n.getStringUnitWidth("3",{font:i,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:o}},S={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},E=function(){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];r.objId=void 0,r.hasAnnotation&&O.call(n,r)}},O=function(t){var e={type:"reference",object:t};void 0===n.internal.getPageInfo(t.page).pageContext.annotations.find((function(t){return t.type===e.type&&t.object===e.object}))&&n.internal.getPageInfo(t.page).pageContext.annotations.push(e)},P=function(){if(void 0===n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")},C=function(){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0},T=function(t){var e=!t;for(var r in t||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(r)){var o=t[r],a=[],s=o.Rect;if(o.Rect&&(o.Rect=_.call(this,o.Rect)),n.internal.newObjectDeferredBegin(o.objId,!0),o.DA=X.createDefaultAppearanceStream(o),"object"===i(o)&&"function"==typeof o.getKeyValueListForStream&&(a=o.getKeyValueListForStream()),o.Rect=s,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=b.call(this,o);a.push({key:"AP",value:"<</N "+u+">>"}),n.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var l="";for(var c in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(c)){var f=o.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",1<=Object.keys(f).length||Array.isArray(f))for(var r in f){var h;f.hasOwnProperty(r)&&("function"==typeof(h=f[r])&&(h=h.call(this,o)),l+="/"+r+" "+h+" ",0<=n.internal.acroformPlugin.xForms.indexOf(h)||n.internal.acroformPlugin.xForms.push(h))}else"function"==typeof(h=f)&&(h=h.call(this,o)),l+="/"+r+" "+h,0<=n.internal.acroformPlugin.xForms.indexOf(h)||n.internal.acroformPlugin.xForms.push(h);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}n.internal.putStream({additionalKeyValues:a}),n.internal.out("endobj")}e&&N.call(this,n.internal.acroformPlugin.xForms)},N=function(t){for(var e in t)if(t.hasOwnProperty(e)){var r=e,o=t[e];n.internal.newObjectDeferredBegin(o&&o.objId,!0),"object"===i(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[r]}},I=function(){if(void 0!==this.internal&&(void 0===this.internal.acroformPlugin||!1===this.internal.acroformPlugin.isInitialized)){if(n=this,F.FieldNum=0,this.internal.acroformPlugin=JSON.parse(JSON.stringify(S)),this.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new k,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",C),n.internal.events.subscribe("buildDocument",E),n.internal.events.subscribe("putCatalog",P),n.internal.events.subscribe("postPutPages",T),n.internal.acroformPlugin.isInitialized=!0}},M=t.__acroform__.arrayToPdfArray=function(t){if(Array.isArray(t)){for(var e="[",n=0;n<t.length;n++)switch(0!==n&&(e+=" "),i(t[n])){case"boolean":case"number":case"object":e+=t[n].toString();break;case"string":"/"!==t[n].substr(0,1)?e+="("+o(t[n].toString())+")":e+=t[n].toString()}return e+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},A=function(t){return(t=t||"").toString(),"("+o(t)+")"},L=function(){var t;Object.defineProperty(this,"objId",{configurable:!0,get:function(){if(t||(t=n.internal.newObjectDeferred()),!t)throw new Error("AcroFormPDFObject: Couldn't create Object ID");return t},set:function(e){t=e}})};L.prototype.toString=function(){return this.objId+" 0 R"},L.prototype.putStream=function(){var t=this.getKeyValueListForStream();n.internal.putStream({data:this.stream,additionalKeyValues:t}),n.internal.out("endobj")},L.prototype.getKeyValueListForStream=function(){return function(t){var e=[],n=Object.getOwnPropertyNames(t).filter((function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"_"!=t.substring(0,1)}));for(var r in n)if(!1===Object.getOwnPropertyDescriptor(t,n[r]).configurable){var i=n[r],o=t[i];o&&(Array.isArray(o)?e.push({key:i,value:M(o)}):o instanceof L?e.push({key:i,value:o.objId+" 0 R"}):"function"!=typeof o&&e.push({key:i,value:o}))}return e}(this)};var R=function(){L.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writeable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writeable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writeable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,writeable:!0,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writeable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};l(R,L);var k=function(){L.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return 0<e.length?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t)return"("+t+")"},set:function(e){t=e}})};l(k,L);var F=function t(){L.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(e,3))},set:function(t){!0===Boolean(t)?this.F=m(e,3):this.F=v(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:f(r[0])},set:function(t){r[0]=c(t)}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:f(r[1])},set:function(t){r[1]=c(t)}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:f(r[2])},set:function(t){r[2]=c(t)}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:f(r[3])},set:function(t){r[3]=c(t)}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof V)return;s="FieldObject"+t.FieldNum++}return"("+o(s)+")"},set:function(t){s=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(t){s=t}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f(h)},set:function(t){h=c(t)}});var p=50;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f(p)},set:function(t){p=c(t)}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(t){d=t}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof V||this instanceof H))return A(g)},set:function(t){t=t.toString(),g=t}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof z==0?A(_):_},set:function(t){t=t.toString(),_=this instanceof z==0?"("===t.substr(0,1)?a(t.substr(1,t.length-2)):a(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof z==1?a(_.substr(1,_.length-1)):_},set:function(t){t=t.toString(),_=this instanceof z==1?"/"+t:t}});var b=null;Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof z==0?A(b):b},set:function(t){t=t.toString(),b=this instanceof z==0?"("===t.substr(0,1)?a(t.substr(1,t.length-2)):a(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof z==1?a(b.substr(1,b.length-1)):b},set:function(t){t=t.toString(),b=this instanceof z==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,writeable:!0,get:function(){return x},set:function(t){t=Boolean(t),x=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,writeable:!0,get:function(){if(w)return w},set:function(t){w=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,1))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,1):this.Ff=v(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,2))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,2):this.Ff=v(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,3))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,3):this.Ff=v(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==S)return S},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');S=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t="left";switch(S){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};l(F,L);var j=function(){F.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return M(e)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,18))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,18):this.Ff=v(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,19))},set:function(t){!0===this.combo&&(!0===Boolean(t)?this.Ff=m(this.Ff,19):this.Ff=v(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=m(this.Ff,20),e.sort()):this.Ff=v(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,22))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,22):this.Ff=v(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,23):this.Ff=v(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,27))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,27):this.Ff=v(this.Ff,27)}}),this.hasAppearanceStream=!1};l(j,F);var D=function(){j.call(this),this.fontName="helvetica",this.combo=!1};l(D,j);var U=function(){D.call(this),this.combo=!0};l(U,D);var G=function(){U.call(this),this.edit=!0};l(G,U);var z=function(){F.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,15))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,15):this.Ff=v(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,16))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,16):this.Ff=v(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,17))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,17):this.Ff=v(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,26):this.Ff=v(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){if(0!==Object.keys(e).length){var t,n=[];for(t in n.push("<<"),e)n.push("/"+t+" ("+e[t]+")");return n.push(">>"),n.join("\n")}},set:function(t){"object"===i(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};l(z,F);var B=function(){z.call(this),this.pushButton=!0};l(B,z);var q=function(){z.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};l(q,z);var V=function(){var t,e;F.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t,e=[];for(t in e.push("<<"),r)e.push("/"+t+" ("+r[t]+")");return e.push(">>"),e.join("\n")},set:function(t){"object"===i(t)&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){"string"==typeof t&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.optionName=name,this.caption="l",this.appearanceState="Off",this._AppearanceType=X.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(name)};l(V,F),q.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t&&"getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},q.prototype.createOption=function(t){this.Kids.length;var e=new V;return e.Parent=this,e.optionName=t,this.Kids.push(e),K.call(this,e),e};var Y=function(){z.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=X.CheckBox.createAppearanceStream()};l(Y,z);var H=function(){F.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,13))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,13):this.Ff=v(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,21))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,21):this.Ff=v(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,23))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,23):this.Ff=v(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,24))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,24):this.Ff=v(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,25))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,25):this.Ff=v(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,26))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,26):this.Ff=v(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};l(H,F);var W=function(){H.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(y(this.Ff,14))},set:function(t){!0===Boolean(t)?this.Ff=m(this.Ff,14):this.Ff=v(this.Ff,14)}}),this.password=!0};l(W,H);var X={CheckBox:{createAppearanceStream:function(){return{N:{On:X.CheckBox.YesNormal},D:{On:X.CheckBox.YesPushDown,Off:X.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=h(t),r=[],i=n.internal.getFont(t.fontName,t.fontStyle).id,o=n.__private__.encodeColorString(t.color),a=w(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+s(X.internal.getWidth(t))+" "+s(X.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+i+" "+s(a.fontSize)+" Tf "+o),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join("\n"),e},YesNormal:function(t){var e=h(t),r=n.internal.getFont(t.fontName,t.fontStyle).id,i=n.__private__.encodeColorString(t.color),o=[],a=X.internal.getHeight(t),u=X.internal.getWidth(t),l=w(t,t.caption);return o.push("1 g"),o.push("0 0 "+s(u)+" "+s(a)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+s(u-1)+" "+s(a-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+r+" "+s(l.fontSize)+" Tf "+i),o.push(l.text),o.push("ET"),o.push("Q"),e.stream=o.join("\n"),e},OffPushDown:function(t){var e=h(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+s(X.internal.getWidth(t))+" "+s(X.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:X.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=X.RadioButton.Circle.YesNormal,e.D[t]=X.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=h(t),n=[],r=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=X.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+u(X.internal.getWidth(t)/2)+" "+u(X.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=h(t),n=[],r=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*X.internal.Bezier_C).toFixed(5)),a=Number((r*X.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+u(X.internal.getWidth(t)/2)+" "+u(X.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+u(X.internal.getWidth(t)/2)+" "+u(X.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=h(t),n=[],r=X.internal.getWidth(t)<=X.internal.getHeight(t)?X.internal.getWidth(t)/4:X.internal.getHeight(t)/4,i=(r=Number((.9*r).toFixed(5)),Number((2*r).toFixed(5))),o=Number((i*X.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+u(X.internal.getWidth(t)/2)+" "+u(X.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:X.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=X.RadioButton.Cross.YesNormal,e.D[t]=X.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=h(t),n=[],r=X.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+s(X.internal.getWidth(t)-2)+" "+s(X.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(s(r.x1.x)+" "+s(r.x1.y)+" m"),n.push(s(r.x2.x)+" "+s(r.x2.y)+" l"),n.push(s(r.x4.x)+" "+s(r.x4.y)+" m"),n.push(s(r.x3.x)+" "+s(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=h(t),n=X.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+s(X.internal.getWidth(t))+" "+s(X.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+s(X.internal.getWidth(t)-2)+" "+s(X.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(s(n.x1.x)+" "+s(n.x1.y)+" m"),r.push(s(n.x2.x)+" "+s(n.x2.y)+" l"),r.push(s(n.x4.x)+" "+s(n.x4.y)+" m"),r.push(s(n.x3.x)+" "+s(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=h(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+s(X.internal.getWidth(t))+" "+s(X.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=n.internal.getFont(t.fontName,t.fontStyle).id,r=n.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};X.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=X.internal.getWidth(t),n=X.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},X.internal.getWidth=function(t){var e=0;return"object"===i(t)&&(e=c(t.Rect[2])),e},X.internal.getHeight=function(t){var e=0;return"object"===i(t)&&(e=c(t.Rect[3])),e};var K=t.addField=function(t){if(I.call(this),!(t instanceof F))throw new Error("Invalid argument passed to jsPDF.addField.");return function(t){n.internal.acroformPlugin.printedOut&&(n.internal.acroformPlugin.printedOut=!1,n.internal.acroformPlugin.acroFormDictionaryRoot=null),n.internal.acroformPlugin.acroFormDictionaryRoot||I.call(n),n.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t)}.call(this,t),t.page=n.internal.getCurrentPageInfo().pageNumber,this};t.addButton=function(t){if(t instanceof z==0)throw new Error("Invalid argument passed to jsPDF.addButton.");return K.call(this,t)},t.addTextField=function(t){if(t instanceof H==0)throw new Error("Invalid argument passed to jsPDF.addTextField.");return K.call(this,t)},t.addChoiceField=function(t){if(t instanceof j==0)throw new Error("Invalid argument passed to jsPDF.addChoiceField.");return K.call(this,t)},"object"==i(e)&&void 0===e.ChoiceField&&void 0===e.ListBox&&void 0===e.ComboBox&&void 0===e.EditBox&&void 0===e.Button&&void 0===e.PushButton&&void 0===e.RadioButton&&void 0===e.CheckBox&&void 0===e.TextField&&void 0===e.PasswordField?(e.ChoiceField=j,e.ListBox=D,e.ComboBox=U,e.EditBox=G,e.Button=z,e.PushButton=B,e.RadioButton=q,e.CheckBox=Y,e.TextField=H,e.PasswordField=W,e.AcroForm={Appearance:X}):console.warn("AcroForm-Classes are not populated into global-namespace, because the class-Names exist already."),t.AcroFormChoiceField=j,t.AcroFormListBox=D,t.AcroFormComboBox=U,t.AcroFormEditBox=G,t.AcroFormButton=z,t.AcroFormPushButton=B,t.AcroFormRadioButton=q,t.AcroFormCheckBox=Y,t.AcroFormTextField=H,t.AcroFormPasswordField=W,t.AcroFormAppearance=X,t.AcroForm={ChoiceField:j,ListBox:D,ComboBox:U,EditBox:G,Button:z,PushButton:B,RadioButton:q,CheckBox:Y,TextField:H,PasswordField:W,Appearance:X}})((window.tmp=dt).API,"undefined"!=typeof window&&window||void 0!==r&&r),
/** @license
   * jsPDF addImage plugin
   * Copyright (c) 2012 Jason Siefken, https://github.com/siefkenj/
   *               2013 Chris Dowling, https://github.com/gingerchris
   *               2013 Trinh Ho, https://github.com/ineedfat
   *               2013 Edwin Alejandro Perez, https://github.com/eaparango
   *               2013 Norah Smith, https://github.com/burnburnrocket
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   */
function(t){var e="addImage_",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.getImageFileTypeByImageData=function(e,r){var i,o;r=r||"UNKNOWN";var a,s,u,l="UNKNOWN";for(u in t.isArrayBufferView(e)&&(e=t.arrayBufferToBinaryString(e)),n)for(a=n[u],i=0;i<a.length;i+=1){for(s=!0,o=0;o<a[i].length;o+=1)if(void 0!==a[i][o]&&a[i][o]!==e.charCodeAt(o)){s=!1;break}if(!0===s){l=u;break}}return"UNKNOWN"===l&&"UNKNOWN"!==r&&(console.warn('FileType of Image not recognized. Processing image as "'+r+'".'),l=r),l},o=function t(e){for(var n=this.internal.newObject(),r=this.internal.write,i=this.internal.putStream,o=(0,this.internal.getFilters)();-1!==o.indexOf("FlateEncode");)o.splice(o.indexOf("FlateEncode"),1);e.n=n;var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:e.w}),a.push({key:"Height",value:e.h}),e.cs===this.color_spaces.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+("smask"in e?n+2:n+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+e.cs}),e.cs===this.color_spaces.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:e.bpc}),"dp"in e&&a.push({key:"DecodeParms",value:"<<"+e.dp+">>"}),"trns"in e&&e.trns.constructor==Array){for(var s="",u=0,l=e.trns.length;u<l;u++)s+=e.trns[u]+" "+e.trns[u]+" ";a.push({key:"Mask",value:"["+s+"]"})}"smask"in e&&a.push({key:"SMask",value:n+1+" 0 R"});var c=void 0!==e.f?["/"+e.f]:void 0;if(i({data:e.data,additionalKeyValues:a,alreadyAppliedFilters:c}),r("endobj"),"smask"in e){var f="/Predictor "+e.p+" /Colors 1 /BitsPerComponent "+e.bpc+" /Columns "+e.w,h={w:e.w,h:e.h,cs:"DeviceGray",bpc:e.bpc,dp:f,data:e.smask};"f"in e&&(h.f=e.f),t.call(this,h)}e.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),i({data:this.arrayBufferToBinaryString(new Uint8Array(e.pal))}),r("endobj"))},a=function(){var t=this.internal.collections[e+"images"];for(var n in t)o.call(this,t[n])},s=function(){var t,n=this.internal.collections[e+"images"],r=this.internal.write;for(var i in n)r("/I"+(t=n[i]).i,t.n,"0","R")},u=function(e){return"function"==typeof t["process"+e.toUpperCase()]},l=function(t){return"object"===i(t)&&1===t.nodeType},c=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return unescape(r);var i=t.loadFile(r);if(void 0!==i)return btoa(i)}if("CANVAS"===e.nodeName){var o=e;return e.toDataURL("image/jpeg",1)}(o=document.createElement("canvas")).width=e.clientWidth||e.width,o.height=e.clientHeight||e.height;var a=o.getContext("2d");if(!a)throw"addImage requires canvas to be supported by browser.";return a.drawImage(e,0,0,o.width,o.height),o.toDataURL("png"==(""+n).toLowerCase()?"image/png":"image/jpeg")},f=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(t){var e,n=0;if(0===(t=t||"").length)return n;for(e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},t.isString=function(t){return"string"==typeof t},t.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+\/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9\/][A-Za-z0-9+\/]|[A-Za-z0-9+\/]=|==$/.test(t.substr(-2))&&(e=!1),e},t.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));\S*;*base64,(.+)$/g.exec(t)},t.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(t){return!!this.supportsArrayBuffer()&&t instanceof ArrayBuffer},t.isArrayBufferView=function(t){return!!this.supportsArrayBuffer()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},t.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},t.arrayBufferToBinaryString=function(t){if("function"==typeof atob)return atob(this.arrayBufferToBase64(t))},t.arrayBufferToBase64=function(t){for(var e,n="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(t),o=i.byteLength,a=o%3,s=o-a,u=0;u<s;u+=3)n+=r[(16515072&(e=i[u]<<16|i[u+1]<<8|i[u+2]))>>18]+r[(258048&e)>>12]+r[(4032&e)>>6]+r[63&e];return 1==a?n+=r[(252&(e=i[s]))>>2]+r[(3&e)<<4]+"==":2==a&&(n+=r[(64512&(e=i[s]<<8|i[s+1]))>>10]+r[(1008&e)>>4]+r[(15&e)<<2]+"="),n},t.createImageInfo=function(t,e,n,r,i,o,a,s,u,l,c,f,h){var p={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(p.f=o),u&&(p.dp=u),l&&(p.trns=l),c&&(p.pal=c),f&&(p.smask=f),h&&(p.p=h),p},t.addImage=function(n,r,o,h,p,d,g,y,m){var v="";if("string"!=typeof r){var _=d;d=p,p=h,h=o,o=r,r=_}if("object"===i(n)&&!l(n)&&"imageData"in n){var b=n;n=b.imageData,r=b.format||r||"UNKNOWN",o=b.x||o||0,h=b.y||h||0,p=b.w||p,d=b.h||d,g=b.alias||g,y=b.compression||y,m=b.rotation||b.angle||m}var w=this.internal.getFilters();if(void 0===y&&-1!==w.indexOf("FlateEncode")&&(y="SLOW"),"string"==typeof n&&(n=unescape(n)),isNaN(o)||isNaN(h))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var x,S,E,O,P,C,T,N=function(){var t=this.internal.collections[e+"images"];return t||(this.internal.collections[e+"images"]=t={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s)),t}.call(this);if(!((x=f(n,N))||(l(n)&&(n=c(n,r)),(null==(T=g)||0===T.length)&&(g="string"==typeof(C=n)?t.sHashCode(C):t.isArrayBufferView(C)?t.sHashCode(t.arrayBufferToBinaryString(C)):null),x=f(g,N)))){if(this.isString(n)&&(""!==(v=this.convertStringToImageData(n))?n=v:void 0!==(v=t.loadFile(n))&&(n=v)),r=this.getImageFileTypeByImageData(n,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(n instanceof Uint8Array||(S=n,n=this.binaryStringToUint8Array(n))),!(x=this["process"+r.toUpperCase()](n,(P=0,(O=N)&&(P=Object.keys?Object.keys(O).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(O)),P),g,((E=y)&&"string"==typeof E&&(E=E.toUpperCase()),E in t.image_compression?E:t.image_compression.NONE),S)))throw new Error("An unknown error occurred whilst processing the image")}return function(t,e,n,r,i,o,a,s){var u=function(t,e,n){return t||e||(e=t=-96),t<0&&(t=-1*n.w*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]}.call(this,n,r,i),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;if(n=u[0],r=u[1],a[o]=i,s){s*=Math.PI/180;var f=Math.cos(s),h=Math.sin(s),p=function(t){return t.toFixed(4)},d=[p(f),p(h),p(-1*h),p(f),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,l(t),c(e+r),"cm"].join(" ")),this.internal.write(d.join(" ")),this.internal.write([l(n),"0","0",l(r),"0","0","cm"].join(" "))):this.internal.write([l(n),"0","0",l(r),l(t),c(e+r),"cm"].join(" ")),this.internal.write("/I"+i.i+" Do"),this.internal.write("Q")}.call(this,o,h,p,d,x,x.i,N,m),this},t.convertStringToImageData=function(e){var n,r="";if(this.isString(e)){var i;n=null!==(i=this.extractImageFromDataUrl(e))?i.data:e;try{r=atob(n)}catch(e){throw t.validateStringAsBase64(n)?new Error("atob-Error in jsPDF.convertStringToImageData "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertStringToImageData ")}}return r};var h=function(t,e){return t.subarray(e,e+5)};t.processJPEG=function(t,e,n,i,o,a){var s,u=this.decode.DCT_DECODE;if(!this.isString(t)&&!this.isArrayBuffer(t)&&!this.isArrayBufferView(t))return null;if(this.isString(t)&&(s=function(t){var e;if("JPEG"!==r(t))throw new Error("getJpegSize requires a binary string jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),i=4,o=t.length;i<o;){if(i+=n,255!==t.charCodeAt(i))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(i+1)||193===t.charCodeAt(i+1)||194===t.charCodeAt(i+1)||195===t.charCodeAt(i+1)||196===t.charCodeAt(i+1)||197===t.charCodeAt(i+1)||198===t.charCodeAt(i+1)||199===t.charCodeAt(i+1))return e=256*t.charCodeAt(i+5)+t.charCodeAt(i+6),[256*t.charCodeAt(i+7)+t.charCodeAt(i+8),e,t.charCodeAt(i+9)];i+=2,n=256*t.charCodeAt(i)+t.charCodeAt(i+1)}}(t)),this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)&&(s=function(t){if(65496!=(t[0]<<8|t[1]))throw new Error("Supplied data is not a JPEG");for(var e,n=t.length,r=(t[4]<<8)+t[5],i=4;i<n;){if(r=((e=h(t,i+=r))[2]<<8)+e[3],(192===e[1]||194===e[1])&&255===e[0]&&7<r)return{width:((e=h(t,i+5))[2]<<8)+e[3],height:(e[0]<<8)+e[1],numcomponents:e[4]};i+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")}(t),t=o||this.arrayBufferToBinaryString(t)),void 0===a)switch(s.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;default:case 3:a=this.color_spaces.DEVICE_RGB}return this.createImageInfo(t,s.width,s.height,a,8,u,e,n)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)},t.getImageProperties=function(e){var n,r,i="";if(l(e)&&(e=c(e)),this.isString(e)&&(""!==(i=this.convertStringToImageData(e))?e=i:void 0!==(i=t.loadFile(e))&&(e=i)),r=this.getImageFileTypeByImageData(e),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if(this.supportsArrayBuffer()&&(e instanceof Uint8Array||(e=this.binaryStringToUint8Array(e))),!(n=this["process"+r.toUpperCase()](e)))throw new Error("An unknown error occurred whilst processing the image");return{fileType:r,width:n.w,height:n.h,colorSpace:n.cs,compressionMode:n.f,bitsPerComponent:n.bpc}}}(dt.API),
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
a=dt.API,dt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),a.events.push(["putPage",function(t){for(var e=this.internal.getPageInfoByObjId(t.objId),n=t.pageContext.annotations,r=function(t){if(void 0!==t&&""!=t)return!0},i=!1,o=0;o<n.length&&!i;o++)switch((u=n[o]).type){case"link":if(r(u.options.url)||r(u.options.pageNumber)){i=!0;break}case"reference":case"text":case"freetext":i=!0}if(0!=i){this.internal.write("/Annots ["),this.internal.pageSize.height;var a=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString;for(o=0;o<n.length;o++){var u;switch((u=n[o]).type){case"reference":this.internal.write(" "+u.object.objId+" 0 R ");break;case"text":var l=this.internal.newAdditionalObject(),c=this.internal.newAdditionalObject(),f=u.title||"Note";y="<</Type /Annot /Subtype /Text "+(p="/Rect ["+a(u.bounds.x)+" "+s(u.bounds.y+u.bounds.h)+" "+a(u.bounds.x+u.bounds.w)+" "+s(u.bounds.y)+"] ")+"/Contents ("+u.contents+")",y+=" /Popup "+c.objId+" 0 R",y+=" /P "+e.objId+" 0 R",y+=" /T ("+f+") >>",l.content=y;var h=l.objId+" 0 R";y="<</Type /Annot /Subtype /Popup "+(p="/Rect ["+a(u.bounds.x+30)+" "+s(u.bounds.y+u.bounds.h)+" "+a(u.bounds.x+u.bounds.w+30)+" "+s(u.bounds.y)+"] ")+" /Parent "+h,u.open&&(y+=" /Open true"),y+=" >>",c.content=y,this.internal.write(l.objId,"0 R",c.objId,"0 R");break;case"freetext":var p="/Rect ["+a(u.bounds.x)+" "+s(u.bounds.y)+" "+a(u.bounds.x+u.bounds.w)+" "+s(u.bounds.y+u.bounds.h)+"] ",d=u.color||"#000000";y="<</Type /Annot /Subtype /FreeText "+p+"/Contents ("+u.contents+")",y+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+d+")",y+=" /Border [0 0 0]",y+=" >>",this.internal.write(y);break;case"link":if(u.options.name){var g=this.annotations._nameMap[u.options.name];u.options.pageNumber=g.page,u.options.top=g.y}else u.options.top||(u.options.top=0);p="/Rect ["+a(u.x)+" "+s(u.y)+" "+a(u.x+u.w)+" "+s(u.y+u.h)+"] ";var y="";if(u.options.url)y="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /A <</S /URI /URI ("+u.options.url+") >>";else if(u.options.pageNumber)switch(y="<</Type /Annot /Subtype /Link "+p+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(u.options.pageNumber).objId+" 0 R",u.options.magFactor=u.options.magFactor||"XYZ",u.options.magFactor){case"Fit":y+=" /Fit]";break;case"FitH":y+=" /FitH "+u.options.top+"]";break;case"FitV":u.options.left=u.options.left||0,y+=" /FitV "+u.options.left+"]";break;case"XYZ":default:var m=s(u.options.top);u.options.left=u.options.left||0,void 0===u.options.zoom&&(u.options.zoom=0),y+=" /XYZ "+u.options.left+" "+m+" "+u.options.zoom+"]"}""!=y&&(y+=" >>",this.internal.write(y))}}this.internal.write("]")}}]),a.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},a.link=function(t,e,n,r,i){this.internal.getCurrentPageInfo().pageContext.annotations.push({x:t,y:e,w:n,h:r,options:i,type:"link"})},a.textWithLink=function(t,e,n,r){var i=this.getTextWidth(t),o=this.internal.getLineHeight()/this.internal.scaleFactor;return this.text(t,e,n),n+=.2*o,this.link(e,n-o,i,o,r),i},a.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},a=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},s=t.__arabicParser__.isArabicEndLetter=function(t){return a(t)&&o(t)&&e[t.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(t){return a(t)&&0<=i.indexOf(t.charCodeAt(0))},l=(t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return a(t)&&o(t)&&1<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasFinalForm=function(t){return a(t)&&o(t)&&2<=e[t.charCodeAt(0)].length}),c=(t.__arabicParser__.arabicLetterHasInitialForm=function(t){return a(t)&&o(t)&&3<=e[t.charCodeAt(0)].length},t.__arabicParser__.arabicLetterHasMedialForm=function(t){return a(t)&&o(t)&&4==e[t.charCodeAt(0)].length}),f=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i=0,o="",a=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(a++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i=-1!==(i=h(t.charAt(e),t.charAt(e-a),t.charAt(e+1)))?i:0,o+=String.fromCharCode(r),r=n,a=0),e===t.length-1&&(r=n,o+=t.charAt(e-(a-1)),e-=a-1,a=0)):(r=n,o+=t.charAt(e-a),e-=a,a=0);return o},h=(t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]},t.__arabicParser__.getCorrectForm=function(t,e,n){return a(t)?!1===o(t)?-1:!l(t)||!a(e)&&!a(n)||!a(n)&&s(e)||s(t)&&!a(e)||s(t)&&u(e)||s(t)&&s(e)?0:c(t)&&a(e)&&!s(e)&&a(n)&&l(n)?3:s(t)||!a(n)?1:2:-1}),p=t.__arabicParser__.processArabic=t.processArabic=function(t){var n=0,r=0,i=0,o="",s="",u="",l=(t=t||"").split("\\s+"),c=[];for(n=0;n<l.length;n+=1){for(c.push(""),r=0;r<l[n].length;r+=1)o=l[n][r],s=l[n][r-1],u=l[n][r+1],a(o)?(i=h(o,s,u),c[n]+=-1!==i?String.fromCharCode(e[o.charCodeAt(0)][i]):o):c[n]+=o;c[n]=f(c[n])}return c.join(" ")};t.events.push(["preProcessText",function(t){var e=t.text,n=(t.x,t.y,t.options||{}),r=(t.mutex,n.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var i=0;for(r=[],i=0;i<e.length;i+=1)"[object Array]"===Object.prototype.toString.call(e[i])?r.push([p(e[i][0]),e[i][1],e[i][2]]):r.push([p(e[i])]);t.text=r}else t.text=p(e)}])}(dt.API),dt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
s=dt.API,(u=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{get:function(){return!1}})}).prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return(this.pdf.context2d._canvas=this).pdf.context2d},u.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new u,this.canvas.pdf=this}]),
/** 
   * @license
   * ====================================================================
   * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
   *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
   *               2013 Lee Driscoll, https://github.com/lsdriscoll
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 James Hall, james@parall.ax
   *               2014 Diego Casorran, https://github.com/diegocr
   *
   * 
   * ====================================================================
   */
l=dt.API,f={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,p=function(t,e,n,r,i){f={x:t,y:e,w:n,h:r,ln:i}},d=function(){return f},g={left:0,top:0,bottom:0},l.setHeaderFunction=function(t){c=t},l.getTextDimensions=function(t,e){var n=this.table_font_size||this.internal.getFontSize(),r=(this.internal.getFont().fontStyle,(e=e||{}).scaleFactor||this.internal.scaleFactor),i=0,o=0,a=0;if("string"==typeof t)0!=(i=this.getStringUnitWidth(t)*n)&&(o=1);else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("getTextDimensions expects text-parameter to be of type String or an Array of Strings.");for(var s=0;s<t.length;s++)i<(a=this.getStringUnitWidth(t[s])*n)&&(i=a);0!==i&&(o=t.length)}return{w:i/=r,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/r,0)}},l.cellAddPage=function(){var t=this.margins||g;this.addPage(),p(t.left,t.top,void 0,void 0),h+=1},l.cellInitialize=function(){f={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1},l.cell=function(t,e,n,r,i,o,a){var s=d(),u=!1;if(void 0!==s.ln)if(s.ln===o)t=s.x+s.w,e=s.y;else{var l=this.margins||g;s.y+s.h+r+13>=this.internal.pageSize.getHeight()-l.bottom&&(this.cellAddPage(),u=!0,this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(o,!0)),e=d().y+d().h,u&&(e=23)}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,"FD"):this.rect(t,e,n,r),"right"===a){i instanceof Array||(i=[i]);for(var c=0;c<i.length;c++){var f=i[c],h=this.getStringUnitWidth(f)*this.internal.getFontSize()/this.internal.scaleFactor;this.text(f,t+n-h-3,e+this.internal.getLineHeight()*(c+1))}}else this.text(i,t+3,e+this.internal.getLineHeight());return p(t,e,n,r,o),this},l.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;n<r;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):o<i&&(o=i);return o},l.table=function(t,e,n,r,i){if(!n)throw"No data for PDF table";var o,a,s,u,c,p,d,y,m,v,_=[],b=[],w={},x={},S=[],E=[],O=!1,P=!0,C=12,T=g;if(T.width=this.internal.pageSize.getWidth(),i&&(!0===i.autoSize&&(O=!0),!1===i.printHeaders&&(P=!1),i.fontSize&&(C=i.fontSize),i.css&&void 0!==i.css["font-size"]&&(C=16*i.css["font-size"]),i.margins&&(T=i.margins)),this.lnMod=0,f={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},h=1,this.printHeaders=P,this.margins=T,this.setFontSize(C),this.table_font_size=C,null==r)_=Object.keys(n[0]);else if(r[0]&&"string"!=typeof r[0])for(a=0,s=r.length;a<s;a+=1)o=r[a],_.push(o.name),b.push(o.prompt),x[o.name]=o.width*(19.049976/25.4);else _=r;if(O)for(v=function(t){return t[o]},a=0,s=_.length;a<s;a+=1){for(w[o=_[a]]=n.map(v),S.push(this.getTextDimensions(b[a]||o,{scaleFactor:1}).w),d=0,u=(p=w[o]).length;d<u;d+=1)c=p[d],S.push(this.getTextDimensions(c,{scaleFactor:1}).w);x[o]=l.arrayMax(S),S=[]}if(P){var N=this.calculateLineHeight(_,x,b.length?b:_);for(a=0,s=_.length;a<s;a+=1)o=_[a],E.push([t,e,x[o],N,String(b.length?b[a]:o)]);this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}for(a=0,s=n.length;a<s;a+=1)for(y=n[a],N=this.calculateLineHeight(_,x,y),d=0,m=_.length;d<m;d+=1)o=_[d],this.cell(t,e,x[o],N,y[o],a+2,o.align);return this.lastCellPos=f,this.table_x=t,this.table_y=e,this},l.calculateLineHeight=function(t,e,n){for(var r,i=0,o=0;o<t.length;o++){n[r=t[o]]=this.splitTextToSize(String(n[r]),e[r]-3);var a=this.internal.getLineHeight()*n[r].length+3;i<a&&(i=a)}return i},l.setTableHeaderRow=function(t){this.tableHeaderRow=t},l.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,i,o;if(this.printingHeaderRow=!0,void 0!==c){var a=c(this,h);p(a[0],a[1],a[2],a[3],-1)}this.setFontStyle("bold");var s=[];for(i=0,o=this.tableHeaderRow.length;i<o;i+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[i],e&&(this.margins.top=13,n[1]=this.margins&&this.margins.top||0,s.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));0<s.length&&this.setTableHeaderRow(s),this.setFontStyle("normal"),this.printingHeaderRow=!1},function(t,e){var n,r,o,a,s,u=function(t){return t=t||{},this.isStrokeTransparent=t.isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new k,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new L,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new L,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new l(this),n=this.internal.f2,this.internal.f3,r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate}]);var l=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}}),Object.defineProperty(this,"pdf",{get:function(){return t}});var e=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return e},set:function(t){e=Boolean(t)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=0;Object.defineProperty(this,"posX",{get:function(){return r},set:function(t){isNaN(t)||(r=t)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(t){o=Boolean(t)}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var s=[];Object.defineProperty(this,"pageBreaks",{get:function(){return s},set:function(t){s=t}});var l=new u;Object.defineProperty(this,"ctx",{get:function(){return l},set:function(t){t instanceof u&&(l=t)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(t){l.path=t}});var f=[];Object.defineProperty(this,"ctxStack",{get:function(){return f},set:function(t){f=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=c(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=c(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):(e.a,this.pdf.setDrawColor(e.r,e.g,e.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=(e[2],e[3]),i=e[4],o=e[5],a=e[6];i="px"===o?Math.floor(parseFloat(i)):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)),this.pdf.setFontSize(i);var s="";("bold"===r||700<=parseInt(r,10)||"bold"===n)&&(s="bold"),"italic"===n&&(s+="italic"),0===s.length&&(s="normal");for(var u="",l=a.toLowerCase().replace(/"|'/g,"").split(/\s*,\s*/),c={arial:"Helvetica",verdana:"Helvetica",helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",courier:"Courier",times:"Times",cursive:"Times",fantasy:"Times",serif:"Times"},f=0;f<l.length;f++){if(void 0!==this.pdf.internal.getFont(l[f],s,{noFallback:!0,disableWarning:!0})){u=l[f];break}if("bolditalic"===s&&void 0!==this.pdf.internal.getFont(l[f],"bold",{noFallback:!0,disableWarning:!0}))u=l[f],s="bold";else if(void 0!==this.pdf.internal.getFont(l[f],"normal",{noFallback:!0,disableWarning:!0})){u=l[f],s="normal";break}}if(""===u)for(f=0;f<l.length;f++)if(c[l[f]]){u=c[l[f]];break}u=""===u?"Times":u,this.pdf.setFont(u,s)}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};l.prototype.fill=function(){y.call(this,"fill",!1)},l.prototype.stroke=function(){y.call(this,"stroke",!1)},l.prototype.beginPath=function(){this.path=[{type:"begin"}]},l.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new L(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new L(t,e)},l.prototype.closePath=function(){var t=new L(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===i(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new L(this.path[e+1].x,this.path[e+1].y),this.path.push({type:"lt",x:t.x,y:t.y});break}"object"===i(this.path[e+2])&&"number"==typeof this.path[e+2].x&&this.path.push(JSON.parse(JSON.stringify(this.path[e+2]))),this.path.push({type:"close"}),this.ctx.lastPoint=new L(t.x,t.y)},l.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new L(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new L(n.x,n.y)},l.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),y.call(this,null,!0)},l.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new L(n,r)),o=this.ctx.transform.applyToPoint(new L(t,e));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new L(i.x,i.y)},l.prototype.bezierCurveTo=function(t,e,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new L(i,o)),s=this.ctx.transform.applyToPoint(new L(t,e)),u=this.ctx.transform.applyToPoint(new L(n,r));this.path.push({type:"bct",x1:s.x,y1:s.y,x2:u.x,y2:u.y,x:a.x,y:a.y}),this.ctx.lastPoint=new L(a.x,a.y)},l.prototype.arc=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw console.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new L(t,e));t=a.x,e=a.y;var s=this.ctx.transform.applyToPoint(new L(0,n)),u=this.ctx.transform.applyToPoint(new L(0,0));n=Math.sqrt(Math.pow(s.x-u.x,2)+Math.pow(s.y-u.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},l.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},l.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},l.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},l.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},l.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw console.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},l.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},l.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin)},l.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var c=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))i=r=n=e=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==o)e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/.exec(t)))e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var a=new RGBColor(t);t=a.ok?a.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},h=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};l.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){n=v.call(this,n);var i=N(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;S.call(this,{text:t,x:e,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},l.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw console.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){r=isNaN(r)?void 0:r,n=v.call(this,n);var i=N(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;S.call(this,{text:t,x:e,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},l.prototype.measureText=function(t){if("string"!=typeof t)throw console.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor;return new function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},l.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new k(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},l.prototype.rotate=function(t){if(isNaN(t))throw console.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new k(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},l.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw console.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new k(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},l.prototype.transform=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw console.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var a=new k(t,e,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(a)},l.prototype.setTransform=function(t,e,n,r,i,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new k(t,e,n,r,i,o)},l.prototype.drawImage=function(t,e,n,r,i,o,a,s,u){var l=this.pdf.getImageProperties(t),c=1,f=1,h=1,d=1;void 0!==r&&void 0!==s&&(h=s/r,d=u/i,c=l.width/r*s/r,f=l.height/i*u/i),void 0===o&&(o=e,a=n,n=e=0),void 0!==r&&void 0===s&&(s=r,u=i),void 0===r&&void 0===s&&(s=l.width,u=l.height);var y=this.ctx.transform.decompose(),v=N(y.rotate.shx);y.scale.sx,y.scale.sy;for(var _,b=new k,w=((b=(b=(b=b.multiply(y.translate)).multiply(y.skew)).multiply(y.scale)).applyToPoint(new L(s,u)),b.applyToRectangle(new R(o-e*h,a-n*d,r*c,i*f))),x=p.call(this,w),S=[],E=0;E<x.length;E+=1)-1===S.indexOf(x[E])&&S.push(x[E]);if(S.sort(),this.autoPaging)for(var O=S[0],P=S[S.length-1],C=O;C<P+1;C++){if(this.pdf.setPage(C),0!==this.ctx.clip_path.length){var T=this.path;_=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(_,this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY),m.call(this,"fill",!0),this.path=T}var I=JSON.parse(JSON.stringify(w));I=g([I],this.posX,-1*this.pdf.internal.pageSize.height*(C-1)+this.posY)[0],this.pdf.addImage(t,"jpg",I.x,I.y,I.w,I.h,null,null,v)}else this.pdf.addImage(t,"jpg",w.x,w.y,w.w,w.h,null,null,v)};var p=function(t,e,n){var r=[];switch(e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height,t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+this.posY)/n)+1);break;case"arc":r.push(Math.floor((t.y+this.posY-t.radius)/n)+1),r.push(Math.floor((t.y+this.posY+t.radius)/n)+1);break;case"qct":var i=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor(i.y/n)+1),r.push(Math.floor((i.y+i.h)/n)+1);break;case"bct":var o=A(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor(o.y/n)+1),r.push(Math.floor((o.y+o.h)/n)+1);break;case"rect":r.push(Math.floor((t.y+this.posY)/n)+1),r.push(Math.floor((t.y+t.h+this.posY)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)d.call(this);return r},d=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},g=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;case"mt":case"lt":case"arc":default:t[r].x+=e,t[r].y+=n}return t},y=function(t,e){for(var n,r,i=this.fillStyle,o=this.strokeStyle,a=(this.font,this.lineCap),s=this.lineWidth,u=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),c=JSON.parse(JSON.stringify(this.path)),f=[],h=0;h<c.length;h++)if(void 0!==c[h].x)for(var y=p.call(this,c[h]),v=0;v<y.length;v+=1)-1===f.indexOf(y[v])&&f.push(y[v]);for(h=0;h<f.length;h++)for(;this.pdf.internal.getNumberOfPages()<f[h];)d.call(this);if(f.sort(),this.autoPaging){var _=f[0],b=f[f.length-1];for(h=_;h<b+1;h++){if(this.pdf.setPage(h),this.fillStyle=i,this.strokeStyle=o,this.lineCap=a,this.lineWidth=s,this.lineJoin=u,0!==this.ctx.clip_path.length){var w=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(n,this.posX,-1*this.pdf.internal.pageSize.height*(h-1)+this.posY),m.call(this,t,!0),this.path=w}r=JSON.parse(JSON.stringify(l)),this.path=g(r,this.posX,-1*this.pdf.internal.pageSize.height*(h-1)+this.posY),!1!==e&&0!==h||m.call(this,t,e)}}else m.call(this,t,e);this.path=l},m=function(t,e){if(("stroke"!==t||e||!h.call(this))&&("stroke"===t||e||!f.call(this))){var n=[];this.ctx.globalAlpha,this.ctx.fillOpacity<1&&this.ctx.fillOpacity;for(var r,i=this.path,o=0;o<i.length;o++){var a=i[o];switch(a.type){case"begin":n.push({begin:!0});break;case"close":n.push({close:!0});break;case"mt":n.push({start:a,deltas:[],abs:[]});break;case"lt":var s=n.length;if(!isNaN(i[o-1].x)){var u=[a.x-i[o-1].x,a.y-i[o-1].y];if(0<s)for(;0<=s;s--)if(!0!==n[s-1].close&&!0!==n[s-1].begin){n[s-1].deltas.push(u),n[s-1].abs.push(a);break}}break;case"bct":u=[a.x1-i[o-1].x,a.y1-i[o-1].y,a.x2-i[o-1].x,a.y2-i[o-1].y,a.x-i[o-1].x,a.y-i[o-1].y],n[n.length-1].deltas.push(u);break;case"qct":var l=i[o-1].x+2/3*(a.x1-i[o-1].x),c=i[o-1].y+2/3*(a.y1-i[o-1].y),p=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),g=a.x,y=a.y;u=[l-i[o-1].x,c-i[o-1].y,p-i[o-1].x,d-i[o-1].y,g-i[o-1].x,y-i[o-1].y],n[n.length-1].deltas.push(u);break;case"arc":n.push({deltas:[],abs:[],arc:!0}),Array.isArray(n[n.length-1].abs)&&n[n.length-1].abs.push(a)}}for(r=e?null:"stroke"===t?"stroke":"fill",o=0;o<n.length;o++){if(n[o].arc)for(var m=n[o].abs,v=0;v<m.length;v++){var x=m[v];if(void 0!==x.startAngle){var S=N(x.startAngle),P=N(x.endAngle),C=x.x,T=x.y;_.call(this,C,T,x.radius,S,P,x.counterclockwise,r,e)}else E.call(this,x.x,x.y)}n[o].arc||!0===n[o].close||!0===n[o].begin||(C=n[o].start.x,T=n[o].start.y,O.call(this,n[o].deltas,C,T,null,null))}r&&b.call(this,r),e&&w.call(this)}},v=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}};l.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},l.prototype.createPattern=function(){return this.createLinearGradient()},l.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(t,e,n,r,i,o,a,s){this.pdf.internal.scaleFactor;for(var u=I(r),l=I(i),c=C.call(this,n,u,l,o),f=0;f<c.length;f++){var h=c[f];0===f&&x.call(this,h.x1+t,h.y1+e),P.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}s?w.call(this):b.call(this,a)},b=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},w=function(){this.pdf.clip()},x=function(t,e){this.pdf.internal.out(r(t)+" "+o(e)+" m")},S=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var n=this.ctx.transform.applyToPoint(new L(t.x,t.y)),r=this.ctx.transform.decompose(),i=new k;i=(i=(i=i.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var o,a=this.pdf.getTextDimensions(t.text),s=this.ctx.transform.applyToRectangle(new R(t.x,t.y,a.w,a.h)),u=i.applyToRectangle(new R(t.x,t.y-a.h,a.w,a.h)),l=p.call(this,u),c=[],f=0;f<l.length;f+=1)-1===c.indexOf(l[f])&&c.push(l[f]);if(c.sort(),!0===this.autoPaging)for(var h=c[0],d=c[c.length-1],y=h;y<d+1;y++){if(this.pdf.setPage(y),0!==this.ctx.clip_path.length){var v=this.path;o=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=g(o,this.posX,-1*this.pdf.internal.pageSize.height*(y-1)+this.posY),m.call(this,"fill",!0),this.path=v}var _=JSON.parse(JSON.stringify(s));if(_=g([_],this.posX,-1*this.pdf.internal.pageSize.height*(y-1)+this.posY)[0],.01<=t.scale){var b=this.pdf.internal.getFontSize();this.pdf.setFontSize(b*t.scale)}this.pdf.text(t.text,_.x,_.y,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)}else.01<=t.scale&&(b=this.pdf.internal.getFontSize(),this.pdf.setFontSize(b*t.scale)),this.pdf.text(t.text,n.x+this.posX,n.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),.01<=t.scale&&this.pdf.setFontSize(b)},E=function(t,e,n,i){n=n||0,i=i||0,this.pdf.internal.out(r(t+n)+" "+o(e+i)+" l")},O=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},P=function(t,e,r,i,o,u,l,c){this.pdf.internal.out([n(a(r+t)),n(s(i+e)),n(a(o+t)),n(s(u+e)),n(a(l+t)),n(s(c+e)),"c"].join(" "))},C=function(t,e,n,r){var i=2*Math.PI,o=e;(o<i||i<o)&&(o%=i);var a=n;(a<i||i<a)&&(a%=i);for(var s=[],u=Math.PI/2,l=r?-1:1,c=e,f=Math.min(i,Math.abs(a-o));1e-5<f;){var h=c+l*Math.min(f,u);s.push(T.call(this,t,c,h)),f-=Math.abs(h-c),c=h}return s},T=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),o=t*Math.sin(r),a=i,s=-o,u=a*a+s*s,l=u+a*i+s*o,c=4/3*(Math.sqrt(2*u*l)-l)/(a*o-s*i),f=a-c*s,h=s+c*a,p=f,d=-h,g=r+e,y=Math.cos(g),m=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:f*y-h*m,y2:f*m+h*y,x3:p*y-d*m,y3:p*m+d*y,x4:t*Math.cos(n),y4:t*Math.sin(n)}},N=function(t){return 180*t/Math.PI},I=function(t){return t*Math.PI/180},M=function(t,e,n,r,i,o){var a=t+.5*(n-t),s=e+.5*(r-e),u=i+.5*(n-i),l=o+.5*(r-o),c=Math.min(t,i,a,u),f=Math.max(t,i,a,u),h=Math.min(e,o,s,l),p=Math.max(e,o,s,l);return new R(c,h,f-c,p-h)},A=function(t,e,n,r,i,o,a,s){for(var u,l,c,f,h,p,d,g,y,m,v,_,b,w=n-t,x=r-e,S=i-n,E=o-r,O=a-i,P=s-o,C=0;C<41;C++)g=(p=(l=t+(u=C/40)*w)+u*((f=n+u*S)-l))+u*(f+u*(i+u*O-f)-p),y=(d=(c=e+u*x)+u*((h=r+u*E)-c))+u*(h+u*(o+u*P-h)-d),b=0==C?(_=m=g,v=y):(m=Math.min(m,g),v=Math.min(v,y),_=Math.max(_,g),Math.max(b,y));return new R(Math.round(m),Math.round(v),Math.round(_-m),Math.round(b-v))},L=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},R=function(t,e,n,r){L.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},k=function(t,e,n,r,i,o){var a=[];return Object.defineProperty(this,"sx",{get:function(){return a[0]},set:function(t){a[0]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shy",{get:function(){return a[1]},set:function(t){a[1]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"shx",{get:function(){return a[2]},set:function(t){a[2]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"sy",{get:function(){return a[3]},set:function(t){a[3]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"tx",{get:function(){return a[4]},set:function(t){a[4]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"ty",{get:function(){return a[5]},set:function(t){a[5]=Math.round(1e5*t)/1e5}}),Object.defineProperty(this,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(this,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(this,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(this,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),this.sx=isNaN(t)?1:t,this.shy=isNaN(e)?0:e,this.shx=isNaN(n)?0:n,this.sy=isNaN(r)?1:r,this.tx=isNaN(i)?0:i,this.ty=isNaN(o)?0:o,this};k.prototype.multiply=function(t){var e=t.sx*this.sx+t.shy*this.shx,n=t.sx*this.shy+t.shy*this.sy,r=t.shx*this.sx+t.sy*this.shx,i=t.shx*this.shy+t.sy*this.sy,o=t.tx*this.sx+t.ty*this.shx+this.tx,a=t.tx*this.shy+t.ty*this.sy+this.ty;return new k(e,n,r,i,o,a)},k.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,a=Math.sqrt(t*t+e*e),s=(t/=a)*n+(e/=a)*r;n-=t*s,r-=e*s;var u=Math.sqrt(n*n+r*r);return s/=u,t*(r/=u)<e*(n/=u)&&(t=-t,e=-e,s=-s,a=-a),{scale:new k(a,0,0,u,0,0),translate:new k(1,0,0,1,i,o),rotate:new k(t,e,-e,t,0,0),skew:new k(1,0,s,1,0,0)}},k.prototype.applyToPoint=function(t){var e=t.x*this.sx+t.y*this.shx+this.tx,n=t.x*this.shy+t.y*this.sy+this.ty;return new L(e,n)},k.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new L(t.x+t.w,t.y+t.h));return new R(e.x,e.y,n.x-e.x,n.y-e.y)},k.prototype.clone=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new k(t,e,n,r,i,o)}}(dt.API,"undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")()),y=dt.API,m=function(t){var e,n,r,i,o,a,s,u,l,c;for(/[^\x00-\xFF]/.test(t),n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;r<i;r+=4)0!==(o=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(a=(o=((o=((o=((o=(o-(c=o%85))/85)-(l=o%85))/85)-(u=o%85))/85)-(s=o%85))/85)%85,n.push(a+33,s+33,u+33,l+33,c+33)):n.push(122);return function(t,n){for(var r=e.length;0<r;r--)t.pop()}(n),String.fromCharCode.apply(String,n)+"~>"},v=function(t){var e,n,r,i,o,a=String,s="length",u="charCodeAt",l="slice",c="replace";for(t[l](-2),t=t[l](0,-2)[c](/\s/g,"")[c]("z","!!!!!"),r=[],i=0,o=(t+=e="uuuuu"[l](t[s]%5||5))[s];i<o;i+=5)n=52200625*(t[u](i)-33)+614125*(t[u](i+1)-33)+7225*(t[u](i+2)-33)+85*(t[u](i+3)-33)+(t[u](i+4)-33),r.push(255&n>>24,255&n>>16,255&n>>8,255&n);return function(t,n){for(var r=e[s];0<r;r--)t.pop()}(r),a.fromCharCode.apply(a,r)},_=function(t){for(var e="",n=0;n<t.length;n+=1)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e+">"},b=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},w=function(t,e){e=Object.assign({predictor:1,colors:1,bitsPerComponent:8,columns:1},e);for(var n,r,i=[],o=t.length;o--;)i[o]=t.charCodeAt(o);return n=y.adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),(i=new Uint8Array(t.length+6)).set(new Uint8Array([120,156])),i.set(t,2),i.set(new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255]),t.length+2),String.fromCharCode.apply(null,i)},y.processDataByFilters=function(t,e){var n=0,r=t||"",i=[];for("string"==typeof(e=e||[])&&(e=[e]),n=0;n<e.length;n+=1)switch(e[n]){case"ASCII85Decode":case"/ASCII85Decode":r=v(r),i.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":r=m(r),i.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":r=b(r),i.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":r=_(r),i.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":r=w(r),i.push("/FlateDecode");break;default:throw'The filter: "'+e[n]+'" is not implemented'}return{data:r,reverseChain:i.reverse().join(" ")}},(x=dt.API).loadFile=function(t,e,n){var r;e=e||!0,n=n||function(){};try{r=function(t,e,n){var r=new XMLHttpRequest,i=[],o=0,a=function(t){var e=t.length,n=String.fromCharCode;for(o=0;o<e;o+=1)i.push(n(255&t.charCodeAt(o)));return i.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){return a(this.responseText)}),r.send(null),200===r.status)return e?a(r.responseText):void 0;console.warn('Unable to load file "'+t+'"')}(t,e)}catch(t){r=void 0}return r},x.loadImageFile=x.loadFile,S=dt.API,E="undefined"!=typeof window&&window||void 0!==r&&r,O=function(t){var e=i(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},P=function(t,e){var n=document.createElement(t);if(e.className&&(n.className=e.className),e.innerHTML){n.innerHTML=e.innerHTML;for(var r=n.getElementsByTagName("script"),i=r.length;0<i--;null)r[i].parentNode.removeChild(r[i])}for(var o in e.style)n.style[o]=e.style[o];return n},(((C=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)}).prototype=Object.create(Promise.prototype)).constructor=C).convert=function(t,e){return t.__proto__=e||C.prototype,t},C.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{}}},C.prototype.from=function(t,e){return this.then((function(){switch(e=e||function(t){switch(O(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.set({src:P("div",{innerHTML:t})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}}))},C.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},C.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var t={position:"relative",display:"inline-block",width:Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:"white"},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",(function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=P("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=P("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(P("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},C.prototype.toCanvas=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then((function(){var t=Object.assign({},this.opt.html2canvas);if(delete t.onrendered,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,t)})).then((function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},C.prototype.toContext2d=function(){var t=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t).then((function(){var t=this.opt.jsPDF,e=Object.assign({async:!0,allowTaint:!0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete e.onrendered,t.context2d.autoPaging=!0,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,e.windowHeight=e.windowHeight||0,e.windowHeight=0==e.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):e.windowHeight,this.isHtml2CanvasLoaded())return html2canvas(this.prop.container,e)})).then((function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)}))},C.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t}))},C.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},C.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},C.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(t,e)}))},C.prototype.outputImg=function(t,e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}}))},C.prototype.isHtml2CanvasLoaded=function(){var t=void 0!==E.html2canvas;return t||console.error("html2canvas not loaded."),t},C.prototype.save=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},C.prototype.doCallback=function(t){if(this.isHtml2CanvasLoaded())return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},C.prototype.set=function(t){if("object"!==O(t))return this;var e=Object.keys(t||{}).map((function(e){if(e in C.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}}),this);return this.then((function(){return this.thenList(e)}))},C.prototype.get=function(t,e){return this.then((function(){var n=t in C.template.prop?this.prop[t]:this.opt[t];return e?e(n):n}))},C.prototype.setMargin=function(t){return this.then((function(){switch(O(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t})).then(this.setPageSize)},C.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then((function(){(t=t||dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t}))},C.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},C.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},C.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,(function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,(function(e){return n.updateProgress(null,t),e})).then(t,e).then((function(t){return n.updateProgress(1),t}))}))},C.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then;var r=this;t&&(t=t.bind(r)),e&&(e=e.bind(r));var i=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:C.convert(Object.assign({},r),Promise.prototype),o=n.call(i,t,e);return C.convert(o,r.__proto__)},C.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},C.prototype.thenList=function(t){var e=this;return t.forEach((function(t){e=e.thenCore(t)})),e},C.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return C.convert(e,this)},C.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},C.prototype.error=function(t){return this.then((function(){throw new Error(t)}))},C.prototype.using=C.prototype.set,C.prototype.saveAs=C.prototype.save,C.prototype.export=C.prototype.output,C.prototype.run=C.prototype.then,dt.getPageSize=function(t,e,n){if("object"===i(t)){var r=t;t=r.orientation,e=r.unit||e,n=r.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var o=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":var s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+e}if(a.hasOwnProperty(o))var u=a[o][1]/s,l=a[o][0]/s;else try{u=n[1],l=n[0]}catch(t){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t){if(t="p",u<l){var c=l;l=u,u=c}}else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",l<u&&(c=l,l=u,u=c)}return{width:l,height:u,unit:e,k:s}},S.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.jsPDF;var n=new C(e);return e.worker?n:n.from(t).doCallback()},dt.API.addJS=function(t){return I=t,this.internal.events.subscribe("postPutResources",(function(t){T=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(T+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),N=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+I+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==T&&void 0!==N&&this.internal.out("/Names <</JavaScript "+T+" 0 R>>")})),this
/**
   * @license
   * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */},(M=dt.API).events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(0<this.outline.root.children.length)for(var n=t.outline.render().split(/\r\n/),r=0;r<n.length;r++){var i=n[r],o=e.exec(i);if(null!=o){var a=o[1];t.internal.newObjectDeferredBegin(a,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var s=this.internal.pages.length,u=[];for(r=0;r<s;r++){var l=t.internal.newObject();u.push(l);var c=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+c.objId+" 0 R /XYZ null null null]>> endobj")}var f=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<u.length;r++)t.internal.write("(page_"+(r+1)+")"+u[r]+" 0 R");t.internal.write(" ] >>","endobj"),t.internal.newObject(),t.internal.write("<< /Dests "+f+" 0 R"),t.internal.write(">>","endobj")}}]),M.events.push(["putCatalog",function(){0<this.outline.root.children.length&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+namesOid+" 0 R"))}]),M.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),0<t.children.length&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){this.ctx.pdf.internal.getCoordinateString;for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),0<r&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),0<i.children.length&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(0<o&&this.line("/Count "+o),i.options&&i.options.pageNumber){var a=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(r=0;r<e.children.length;r++)i=e.children[r],this.renderItems(i)},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(t){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}]),
/**
   * @license
   * 
   * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
   *
   * 
   * ====================================================================
   */
A=dt.API,L=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},R=function(t,e,n,r){var i=5,o=G;switch(r){case A.image_compression.FAST:i=3,o=U;break;case A.image_compression.MEDIUM:i=6,o=z;break;case A.image_compression.SLOW:i=9,o=B}t=j(t,e,n,o);var a=new Uint8Array(k(i)),s=F(t),u=new Deflater(i),l=u.append(t),c=u.flush(),f=a.length+l.length+c.length,h=new Uint8Array(f+4);return h.set(a),h.set(l,a.length),h.set(c,a.length+l.length),h[f++]=s>>>24&255,h[f++]=s>>>16&255,h[f++]=s>>>8&255,h[f++]=255&s,A.arrayBufferToBinaryString(h)},k=function(t,e){var n=Math.LOG2E*Math.log(32768)-8<<4|8,r=n<<8;return r|=Math.min(3,(e-1&255)>>1)<<6,r|=0,[n,255&(r+=31-r%31)]},F=function(t,e){for(var n,r=1,i=0,o=t.length,a=0;0<o;){for(o-=n=e<o?e:o;i+=r+=t[a++],--n;);r%=65521,i%=65521}return(i<<16|r)>>>0},j=function(t,e,n,r){for(var i,o,a,s=t.length/e,u=new Uint8Array(t.length+s),l=V(),c=0;c<s;c++){if(a=c*e,i=t.subarray(a,a+e),r)u.set(r(i,n,o),a+c);else{for(var f=0,h=l.length,p=[];f<h;f++)p[f]=l[f](i,n,o);var d=Y(p.concat());u.set(p[d],a+c)}o=i}return u},D=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},U=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;o<a;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},G=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;o<a;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},z=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;a<s;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},B=function(t,e,n){var r,i,o,a,s=[],u=0,l=t.length;for(s[0]=4;u<l;u++)r=t[u-e]||0,i=n&&n[u]||0,o=n&&n[u-e]||0,a=q(r,i,o),s[u+1]=t[u]-a+256&255;return s},q=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return i<=o&&i<=a?t:o<=a?e:n},V=function(){return[D,U,G,z,B]},Y=function(t){for(var e,n,r,i=0,o=t.length;i<o;)((e=H(t[i].slice(1)))<n||!n)&&(n=e,r=i),i++;return r},H=function(t){for(var e=0,n=t.length,r=0;e<n;)r+=Math.abs(t[e++]);return r},A.processPNG=function(t,e,n,r,i){var o,a,s,u,l,c,f=this.color_spaces.DEVICE_RGB,h=this.decode.FLATE_DECODE,p=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if("function"!=typeof PNG||"function"!=typeof Ft)throw new Error("PNG support requires png.js and zlib.js");if(t=(o=new PNG(t)).imgData,p=o.bits,f=o.colorSpace,u=o.colors,-1!==[4,6].indexOf(o.colorType)){if(8===o.bits)for(var d,g=(P=32==o.pixelBitlength?new Uint32Array(o.decodePixels().buffer):16==o.pixelBitlength?new Uint16Array(o.decodePixels().buffer):new Uint8Array(o.decodePixels().buffer)).length,y=new Uint8Array(g*o.colors),m=new Uint8Array(g),v=o.pixelBitlength-o.bits,_=0,b=0;_<g;_++){for(w=P[_],d=0;d<v;)y[b++]=w>>>d&255,d+=o.bits;m[_]=w>>>d&255}if(16===o.bits){g=(P=new Uint32Array(o.decodePixels().buffer)).length,y=new Uint8Array(g*(32/o.pixelBitlength)*o.colors),m=new Uint8Array(g*(32/o.pixelBitlength));for(var w,x=1<o.colors,S=b=_=0;_<g;)w=P[_++],y[b++]=w>>>0&255,x&&(y[b++]=w>>>16&255,w=P[_++],y[b++]=w>>>0&255),m[S++]=w>>>16&255;p=8}r!==A.image_compression.NONE&&L()?(t=R(y,o.width*o.colors,o.colors,r),c=R(m,o.width,1,r)):(t=y,c=m,h=null)}if(3===o.colorType&&(f=this.color_spaces.INDEXED,l=o.palette,o.transparency.indexed)){var E=o.transparency.indexed,O=0;for(_=0,g=E.length;_<g;++_)O+=E[_];if((O/=255)==g-1&&-1!==E.indexOf(0))s=[E.indexOf(0)];else if(O!==g){var P=o.decodePixels();for(m=new Uint8Array(P.length),_=0,g=P.length;_<g;_++)m[_]=E[P[_]];c=R(m,o.width,1)}}var C=function(t){var e;switch(t){case A.image_compression.FAST:e=11;break;case A.image_compression.MEDIUM:e=13;break;case A.image_compression.SLOW:e=14;break;default:e=12}return e}(r);return a=h===this.decode.FLATE_DECODE?"/Predictor "+C+" /Colors "+u+" /BitsPerComponent "+p+" /Columns "+o.width:"/Colors "+u+" /BitsPerComponent "+p+" /Columns "+o.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(c&&this.isArrayBuffer(c)||this.isArrayBufferView(c))&&(c=this.arrayBufferToBinaryString(c)),this.createImageInfo(t,o.width,o.height,f,p,h,e,n,a,s,l,c,C)}throw new Error("Unsupported PNG image data, try using JPEG instead.")},
/**
   * @license
   * Copyright (c) 2017 Aras Abbasi 
   *
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
(W=dt.API).processGIF89A=function(t,e,n,r,i){var o=new Mt(t),a=o.width,s=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var l={data:u,width:a,height:s},c=new Lt(100).encode(l,100);return W.processJPEG.call(this,c,e,n,r)},W.processGIF87A=W.processGIF89A,(X=dt.API).processBMP=function(t,e,n,r,i){var o=new Rt(t,!1),a=o.width,s=o.height,u={data:o.getData(),width:a,height:s},l=new Lt(100).encode(u,100);return X.processJPEG.call(this,l,e,n,r)},dt.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"FYRO Macedonian",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this
/** @license
   * MIT license.
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Diego Casorran, https://github.com/diegocr
   *
   * 
   * ====================================================================
   */},K=dt.API,Z=K.getCharWidthsArray=function(t,e){var n,r,i,o=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:o.metadata.Unicode.widths,l=u.fof?u.fof:1,c=e.kerning?e.kerning:o.metadata.Unicode.kerning,f=c.fof?c.fof:1,h=0,p=u[0]||l,d=[];for(n=0,r=t.length;n<r;n++)i=t.charCodeAt(n),"function"==typeof o.metadata.widthOfString?d.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):d.push((u[i]||p)/l+(c[i]&&c[i][h]||0)/f),h=i;return d},J=K.getArraySum=function(t){for(var e=t.length,n=0;e;)n+=t[--e];return n},Q=K.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:J(Z.apply(this,arguments))},$=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var u=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(u,o)),s=0,u=o),s+=e[o],o++;return u!==o&&i.push(t.slice(u,o)),i},tt=function(t,e,n){n||(n={});var r,i,o,a,s,u,l=[],c=[l],f=n.textIndent||0,h=0,p=0,d=t.split(" "),g=Z.apply(this,[" ",n])[0];if(u=-1===n.lineIndent?d[0].length+2:n.lineIndent||0){var y=Array(u).join(" "),m=[];d.map((function(t){1<(t=t.split(/\s*\n/)).length?m=m.concat(t.map((function(t,e){return(e&&t.length?"\n":"")+t}))):m.push(t[0])})),d=m,u=Q.apply(this,[y,n])}for(o=0,a=d.length;o<a;o++){var v=0;if(r=d[o],u&&"\n"==r[0]&&(r=r.substr(1),v=1),i=Z.apply(this,[r,n]),e<f+h+(p=J(i))||v){if(e<p){for(s=$.apply(this,[r,i,e-(f+h),e]),l.push(s.shift()),l=[s.pop()];s.length;)c.push([s.shift()]);p=J(i.slice(r.length-(l[0]?l[0].length:0)))}else l=[r];c.push(l),f=p+u,h=g}else l.push(r),f+=h+p,h=g}if(u)var _=function(t,e){return(e?y:"")+t.join(" ")};else _=function(t){return t.join(" ")};return c.map(_)},K.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle),n="Unicode";return e.metadata[n]?{widths:e.metadata[n].widths||{0:1},kerning:e.metadata[n].kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:t.split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var s,u,l=[];for(s=0,u=r.length;s<u;s++)l=l.concat(tt.apply(this,[r[s],a,o]));return l},
/** @license
   jsPDF standard_fonts_metrics plugin
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   * MIT license.
   * 
   * ====================================================================
   */
et=dt.API,rt={codePages:["WinAnsiEncoding"],WinAnsiEncoding:(nt=function(t){for(var e="klmnopqrstuvwxyz",n={},r=0;r<e.length;r++)n[e[r]]="0123456789abcdef"[r];var i,o,a,s,u,l={},c=1,f=l,h=[],p="",d="",g=t.length-1;for(r=1;r!=g;)u=t[r],r+=1,"'"==u?o=o?(s=o.join(""),i):[]:o?o.push(u):"{"==u?(h.push([f,s]),f={},s=i):"}"==u?((a=h.pop())[0][a[1]]=f,s=i,f=a[0]):"-"==u?c=-1:s===i?n.hasOwnProperty(u)?(p+=n[u],s=parseInt(p,16)*c,c=1,p=""):p+=u:n.hasOwnProperty(u)?(d+=n[u],f[s]=parseInt(d,16)*c,c=1,s=i,d=""):d+=u;return l})("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},it={Unicode:{Courier:rt,"Courier-Bold":rt,"Courier-BoldOblique":rt,"Courier-Oblique":rt,Helvetica:rt,"Helvetica-Bold":rt,"Helvetica-BoldOblique":rt,"Helvetica-Oblique":rt,"Times-Roman":rt,"Times-Bold":rt,"Times-BoldItalic":rt,"Times-Italic":rt}},ot={Unicode:{"Courier-Oblique":nt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":nt("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":nt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:nt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":nt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":nt("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:nt("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:nt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":nt("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:nt("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":nt("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":nt("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":nt("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":nt("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}},et.events.push(["addFont",function(t){var e,n,r,i=t.font,o="Unicode";(e=ot[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).widths=e.widths,n.kerning=e.kerning),(r=it[o][i.postScriptName])&&((n=i.metadata[o]?i.metadata[o]:i.metadata[o]={}).encoding=r).codePages&&r.codePages.length&&(i.encoding=r.codePages[0])}]),
/**
   * @license
   * Licensed under the MIT License.
   * http://opensource.org/licenses/mit-license
   */
at=dt,"undefined"!=typeof self&&self||void 0!==r&&r||"undefined"!=typeof window&&window||Function("return this")(),at.API.events.push(["addFont",function(t){var e=t.font,n=t.instance;if(void 0!==n&&n.existsFileInVFS(e.postScriptName)){var r=n.getFileFromVFS(e.postScriptName);if("string"!=typeof r)throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').");e.metadata=at.API.TTFFont.open(e.postScriptName,e.fontName,r,e.encoding),e.metadata.Unicode=e.metadata.Unicode||{encoding:{},kerning:{},widths:[]},e.metadata.glyIdsUsed=[0]}else if(!1===e.isStandardFont)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+e.postScriptName+"').")}]),
/** @license
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   * 
   * 
   * ====================================================================
   */
(st=dt.API).addSvg=function(t,e,n,r,i){if(void 0===e||void 0===n)throw new Error("addSVG needs values for 'x' and 'y'");function o(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;i<o;)"c"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}var a,s,u,l,c,f,h,p,d=(a=t,(u=((s=(p=(l=document).createElement("iframe"),c=".jsPDF_sillysvg_iframe {display:none;position:absolute;}",(h=(f=l).createElement("style")).type="text/css",h.styleSheet?h.styleSheet.cssText=c:h.appendChild(f.createTextNode(c)),f.getElementsByTagName("head")[0].appendChild(h),p.name="childframe",p.setAttribute("width",0),p.setAttribute("height",0),p.setAttribute("frameborder","0"),p.setAttribute("scrolling","no"),p.setAttribute("seamless","seamless"),p.setAttribute("class","jsPDF_sillysvg_iframe"),l.body.appendChild(p),p)).contentWindow||s.contentDocument).document).write(a),u.close(),u.getElementsByTagName("svg")[0]),g=[1,1],y=parseFloat(d.getAttribute("width")),m=parseFloat(d.getAttribute("height"));y&&m&&(r&&i?g=[r/y,i/m]:r?g=[r/y,r/y]:i&&(g=[i/m,i/m]));var v,_,b,w,x=d.childNodes;for(v=0,_=x.length;v<_;v++)(b=x[v]).tagName&&"PATH"===b.tagName.toUpperCase()&&((w=o(b.getAttribute("d").split(" ")))[0]=w[0]*g[0]+e,w[1]=w[1]*g[1]+n,this.lines.call(this,w[2],w[0],w[1],g));return this},st.addSVG=st.addSvg,st.addSvgAsImage=function(t,e,n,r,i,o,a,s){if(isNaN(e)||isNaN(n))throw console.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw console.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=i;var l=u.getContext("2d");return l.fillStyle="#fff",l.fillRect(0,0,u.width,u.height),canvg(u,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0}),this.addImage(u.toDataURL("image/jpeg",1),e,n,r,i,a,s),this},dt.API.putTotalPages=function(t){var e,n;n=parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},dt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,o,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(a),u=[],l=0,c=0,f=0,h=!0;function p(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var d=s.length;for(f=0;f<d;f+=1)n[s[f]].value=n[s[f]].defaultValue,n[s[f]].explicitSet=!1}if("object"===i(t))for(r in t)if(o=t[r],p(s,r)&&void 0!==o){if("boolean"===n[r].type&&"boolean"==typeof o)n[r].value=o;else if("name"===n[r].type&&p(n[r].valueSet,o))n[r].value=o;else if("integer"===n[r].type&&Number.isInteger(o))n[r].value=o;else if("array"===n[r].type){for(l=0;l<o.length;l+=1)if(h=!0,1===o[l].length&&"number"==typeof o[l][0])u.push(String(o[l]-1));else if(1<o[l].length){for(c=0;c<o[l].length;c+=1)"number"!=typeof o[l][c]&&(h=!1);!0===h&&u.push([o[l][0]-1,o[l][1]-1].join(" "))}n[r].value="["+u.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&("name"===n[t].type?e.push("/"+t+" /"+n[t].value):e.push("/"+t+" "+n[t].value));0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},ut=dt.API,ft=ct=lt="",ut.addMetadata=function(t,e){return ct=e||"http://jspdf.default.namespaceuri/",lt=t,this.internal.events.subscribe("postPutResources",(function(){if(lt){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+ct+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(lt)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),a=n.length+r.length+i.length+e.length+o.length;ft=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")}else ft=""})),this.internal.events.subscribe("putCatalog",(function(){ft&&this.internal.write("/Metadata "+ft+" 0 R")})),this},function(t,e){var n=t.API,r=n.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],a=0,s=t.length;a<s;++a){if(n=e.metadata.characterToGlyph(t.charCodeAt(a)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(a),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},i=function(t){var e,n,r,i,o,a,s;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],a=0,s=(n=Object.keys(t).sort((function(t,e){return t-e}))).length;a<s;a++)e=n[a],100<=r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">");return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};n.events.push(["putFont",function(e){!function(e,n,r,o){if(e.metadata instanceof t.API.TTFFont&&"Identity-H"===e.encoding){for(var a=e.metadata.Unicode.widths,s=e.metadata.subset.encode(e.metadata.glyIdsUsed,1),u="",l=0;l<s.length;l++)u+=String.fromCharCode(s[l]);var c=r();o({data:u,addLength1:!0}),n("endobj");var f=r();o({data:i(e.metadata.toUnicode),addLength1:!0}),n("endobj");var h=r();n("<<"),n("/Type /FontDescriptor"),n("/FontName /"+e.fontName),n("/FontFile2 "+c+" 0 R"),n("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),n("/Flags "+e.metadata.flags),n("/StemV "+e.metadata.stemV),n("/ItalicAngle "+e.metadata.italicAngle),n("/Ascent "+e.metadata.ascender),n("/Descent "+e.metadata.decender),n("/CapHeight "+e.metadata.capHeight),n(">>"),n("endobj");var p=r();n("<<"),n("/Type /Font"),n("/BaseFont /"+e.fontName),n("/FontDescriptor "+h+" 0 R"),n("/W "+t.API.PDFObject.convert(a)),n("/CIDToGIDMap /Identity"),n("/DW 1000"),n("/Subtype /CIDFontType2"),n("/CIDSystemInfo"),n("<<"),n("/Supplement 0"),n("/Registry (Adobe)"),n("/Ordering ("+e.encoding+")"),n(">>"),n(">>"),n("endobj"),e.objectNumber=r(),n("<<"),n("/Type /Font"),n("/Subtype /Type0"),n("/ToUnicode "+f+" 0 R"),n("/BaseFont /"+e.fontName),n("/Encoding /"+e.encoding),n("/DescendantFonts ["+p+" 0 R]"),n(">>"),n("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]),n.events.push(["putFont",function(e){!function(e,n,r,o){if(e.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===e.encoding){e.metadata.Unicode.widths;for(var a=e.metadata.rawData,s="",u=0;u<a.length;u++)s+=String.fromCharCode(a[u]);var l=r();o({data:s,addLength1:!0}),n("endobj");var c=r();o({data:i(e.metadata.toUnicode),addLength1:!0}),n("endobj");var f=r();for(n("<<"),n("/Descent "+e.metadata.decender),n("/CapHeight "+e.metadata.capHeight),n("/StemV "+e.metadata.stemV),n("/Type /FontDescriptor"),n("/FontFile2 "+l+" 0 R"),n("/Flags 96"),n("/FontBBox "+t.API.PDFObject.convert(e.metadata.bbox)),n("/FontName /"+e.fontName),n("/ItalicAngle "+e.metadata.italicAngle),n("/Ascent "+e.metadata.ascender),n(">>"),n("endobj"),e.objectNumber=r(),u=0;u<e.metadata.hmtx.widths.length;u++)e.metadata.hmtx.widths[u]=parseInt(e.metadata.hmtx.widths[u]*(1e3/e.metadata.head.unitsPerEm));n("<</Subtype/TrueType/Type/Font/ToUnicode "+c+" 0 R/BaseFont/"+e.fontName+"/FontDescriptor "+f+" 0 R/Encoding/"+e.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(e.metadata.hmtx.widths)+">>"),n("endobj"),e.isAlreadyPutted=!0}}(e.font,e.out,e.newObject,e.putStream)}]);var o=function(t){var e,n,i=t.text||"",o=t.x,a=t.y,s=t.options||{},u=t.mutex||{},l=u.pdfEscape,c=u.activeFontKey,f=u.fonts,h=(u.activeFontSize,""),p=0,d="",g=f[n=c].encoding;if("Identity-H"!==f[n].encoding)return{text:i,x:o,y:a,options:s,mutex:u};for(d=i,n=c,"[object Array]"===Object.prototype.toString.call(i)&&(d=i[0]),p=0;p<d.length;p+=1)f[n].metadata.hasOwnProperty("cmap")&&(e=f[n].metadata.cmap.unicode.codeMap[d[p].charCodeAt(0)]),e?h+=d[p]:d[p].charCodeAt(0)<256&&f[n].metadata.hasOwnProperty("Unicode")?h+=d[p]:h+="";var y="";return parseInt(n.slice(1))<14||"WinAnsiEncoding"===g?y=function(t){for(var e="",n=0;n<t.length;n++)e+=""+t.charCodeAt(n).toString(16);return e}(l(h,n)):"Identity-H"===g&&(y=r(h,f[n])),u.isHex=!0,{text:y,x:o,y:a,options:s,mutex:u}};n.events.push(["postProcessText",function(t){var e=t.text||"",n=t.x,r=t.y,i=t.options,a=t.mutex,s=(i.lang,[]),u={text:e,x:n,y:r,options:i,mutex:a};if("[object Array]"===Object.prototype.toString.call(e)){var l=0;for(l=0;l<e.length;l+=1)"[object Array]"===Object.prototype.toString.call(e[l])&&3===e[l].length?s.push([o(Object.assign({},u,{text:e[l][0]})).text,e[l][1],e[l][2]]):s.push(o(Object.assign({},u,{text:e[l]})).text);t.text=s}else t.text=o(Object.assign({},u,{text:e})).text}])}(dt,"undefined"!=typeof self&&self||void 0!==r&&r||"undefined"!=typeof window&&window||Function("return this")()),ht=dt.API,pt=function(t){return void 0!==t&&(void 0===t.vFS&&(t.vFS={}),!0)},ht.existsFileInVFS=function(t){return!!pt(this.internal)&&void 0!==this.internal.vFS[t]},ht.addFileToVFS=function(t,e){return pt(this.internal),this.internal.vFS[t]=e,this},ht.getFileFromVFS=function(t){return pt(this.internal),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null},dt.API.addHTML=function(t,e,n,r,i){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(r=e,i=n),"function"==typeof r&&(i=r,r=null),"function"!=typeof i&&(i=function(){});var o=this.internal,a=o.scaleFactor,s=o.pageSize.getWidth(),u=o.pageSize.getHeight();if((r=r||{}).onrendered=function(t){e=parseInt(e)||0,n=parseInt(n)||0;var o=r.dim||{},l=Object.assign({top:0,right:0,bottom:0,left:0,useFor:"content"},r.margin),c=o.h||Math.min(u,t.height/a),f=o.w||Math.min(s,t.width/a)-e,h=r.format||"JPEG",p=r.imageCompression||"SLOW";if(t.height>u-l.top-l.bottom&&r.pagesplit){var d=function(t,e,n,i,o){var a=document.createElement("canvas");a.height=o,a.width=i;var s=a.getContext("2d");return s.mozImageSmoothingEnabled=!1,s.webkitImageSmoothingEnabled=!1,s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1,s.fillStyle=r.backgroundColor||"#ffffff",s.fillRect(0,0,i,o),s.drawImage(t,e,n,i,o,0,0,i,o),a},g=function(){for(var r,o,c=0,g=0,y={},m=!1;;){var v;if(g=0,y.top=0!==c?l.top:n,y.left=0!==c?l.left:e,m=(s-l.left-l.right)*a<t.width,"content"===l.useFor?0===c?(r=Math.min((s-l.left)*a,t.width),o=Math.min((u-l.top)*a,t.height-c)):(r=Math.min(s*a,t.width),o=Math.min(u*a,t.height-c),y.top=0):(r=Math.min((s-l.left-l.right)*a,t.width),o=Math.min((u-l.bottom-l.top)*a,t.height-c)),m)for(;;){"content"===l.useFor&&(0===g?r=Math.min((s-l.left)*a,t.width):(r=Math.min(s*a,t.width-g),y.left=0));var _=[v=d(t,g,c,r,o),y.left,y.top,v.width/a,v.height/a,h,null,p];if(this.addImage.apply(this,_),(g+=r)>=t.width)break;this.addPage()}else _=[v=d(t,0,c,r,o),y.left,y.top,v.width/a,v.height/a,h,null,p],this.addImage.apply(this,_);if((c+=o)>=t.height)break;this.addPage()}i(f,c,null,_)}.bind(this);if("CANVAS"===t.nodeName){var y=new Image;y.onload=g,y.src=t.toDataURL("image/png"),t=y}else g()}else{var m=Math.random().toString(35),v=[t,e,n,f,c,h,m,p];this.addImage.apply(this,v),i(f,c,m,v)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(t,r);if("undefined"==typeof rasterizeHTML)return null;var l="drawDocument";return"string"==typeof t&&(l=/^http/.test(t)?"drawURL":"drawHTML"),r.width=r.width||s*a,rasterizeHTML[l](t,void 0,r).then((function(t){r.onrendered(t.image)}),(function(t){i(null,t)}))
/**
   * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
   * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
   *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
   *               2014 Diego Casorran, https://github.com/diegocr
   *               2014 Daniel Husar, https://github.com/danielhusar
   *               2014 Wolfgang Gassler, https://github.com/woolfg
   *               2014 Steven Spungin, https://github.com/flamenco
   *
   * @license
   * 
   * ====================================================================
   */},function(t){var e,n,r,o,a,s,u,l,c,f,h,p,d,g,y,m,v,_,b,w;e=function(){return function(e){return t.prototype=e,new t};function t(){}}(),f=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,a=i=!1;!i&&n!==r;)(e=t[n]=t[n].trimLeft())&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)(e=t[n]=t[n].trimRight())&&(a=!0),n--;for(o=/\s+$/g,s=!0,n=0;n!==r;)"\u2028"!=t[n]&&(e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e),n++;return t},p=function(t){var e,n,i;for(e=void 0,n=(i=t.split(",")).shift();!e&&n;)e=r[n.trim().toLowerCase()],n=i.shift();return e},d=function(t){var e;return-1<(t="auto"===t?"0px":t).indexOf("em")&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),-1<t.indexOf("pt")&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px"),(e=g[t])?e:void 0!==(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t])?g[t]=e/16:(e=parseFloat(t))?g[t]=e/16:(e=t.match(/([\d\.]+)(px)/),Array.isArray(e)&&3===e.length?g[t]=parseFloat(e[1])/16:g[t]=1)},c=function(t){var e,n,r,i,c;return c=t,i=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(c,null):c.currentStyle?c.currentStyle:c.style,n=void 0,(e={})["font-family"]=p((r=function(t){return t=t.replace(/-\D/g,(function(t){return t.charAt(1).toUpperCase()})),i[t]})("font-family"))||"times",e["font-style"]=o[r("font-style")]||"normal",e["text-align"]=a[r("text-align")]||"left","bold"===(n=s[r("font-weight")]||"normal")&&("normal"===e["font-style"]?e["font-style"]=n:e["font-style"]=n+e["font-style"]),e["font-size"]=d(r("font-size"))||1,e["line-height"]=d(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&d(r("margin-top"))||0,e["margin-bottom"]=n&&d(r("margin-bottom"))||0,e["padding-top"]=n&&d(r("padding-top"))||0,e["padding-bottom"]=n&&d(r("padding-bottom"))||0,e["margin-left"]=n&&d(r("margin-left"))||0,e["margin-right"]=n&&d(r("margin-right"))||0,e["padding-left"]=n&&d(r("padding-left"))||0,e["padding-right"]=n&&d(r("padding-right"))||0,e["page-break-before"]=r("page-break-before")||"auto",e.float=u[r("cssFloat")]||"none",e.clear=l[r("clear")]||"none",e.color=r("color"),e},y=function(t,e,n){var r,i,o,a,s;if(o=!1,a=i=void 0,r=n["#"+t.id])if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;for(s="string"==typeof t.className?t.className.split(" "):[],i=0;i<s.length;i++)if(r=n["."+s[i]],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},w=function(t,e){var n,r,i,o,a,s,u,l,c;for(n=[],r=[],i=0,c=t.rows[0].cells.length,u=t.clientWidth;i<c;)l=t.rows[0].cells[i],r[i]={name:l.textContent.toLowerCase().replace(/\s+/g,""),prompt:l.textContent.replace(/\r?\n/g,""),width:l.clientWidth/u*e.pdf.internal.pageSize.getWidth()},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(a),i++}return{rows:n,headers:r}};var x={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},S=1;n=function(t,r,o){var a,s,u,l,f,h,p,d;for(s=t.childNodes,a=void 0,(f="block"===(u=c(t)).display)&&(r.setBlockBoundary(),r.setBlockStyle(u)),l=0,h=s.length;l<h;){if("object"===i(a=s[l])){if(r.executeWatchFunctions(a),1===a.nodeType&&"HEADER"===a.nodeName){var g=a,v=r.pdf.margins_doc.top;r.pdf.internal.events.subscribe("addPage",(function(t){r.y=v,n(g,r,o),r.pdf.margins_doc.top=r.y+10,r.y+=10}),!1)}if(8===a.nodeType&&"#comment"===a.nodeName)~a.textContent.indexOf("ADD_PAGE")&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top);else if(1!==a.nodeType||x[a.nodeName])if(3===a.nodeType){var _=a.nodeValue;if(a.nodeValue&&"LI"===a.parentNode.nodeName)if("OL"===a.parentNode.parentNode.nodeName)_=S+++". "+_;else{var b=u["font-size"],E=(3-.75*b)*r.pdf.internal.scaleFactor,O=.75*b*r.pdf.internal.scaleFactor,P=1.74*b/r.pdf.internal.scaleFactor;d=function(t,e){this.pdf.circle(t+E,e+O,P,"FD")}}16&a.ownerDocument.body.compareDocumentPosition(a)&&r.addText(_,u)}else"string"==typeof a&&r.addText(a,u);else{var C;if("IMG"===a.nodeName){var T=a.getAttribute("src");C=m[r.pdf.sHashCode(T)||T]}if(C){r.pdf.internal.pageSize.getHeight()-r.pdf.margins_doc.bottom<r.y+a.height&&r.y>r.pdf.margins_doc.top&&(r.pdf.addPage(),r.y=r.pdf.margins_doc.top,r.executeWatchFunctions(a));var N=c(a),I=r.x,M=12/r.pdf.internal.scaleFactor,A=(N["margin-left"]+N["padding-left"])*M,L=(N["margin-right"]+N["padding-right"])*M,R=(N["margin-top"]+N["padding-top"])*M,k=(N["margin-bottom"]+N["padding-bottom"])*M;void 0!==N.float&&"right"===N.float?I+=r.settings.width-a.width-L:I+=A,r.pdf.addImage(C,I,r.y+R,a.width,a.height),C=void 0,"right"===N.float||"left"===N.float?(r.watchFunctions.push(function(t,e,n,i){return r.y>=e?(r.x+=t,r.settings.width+=n,!0):!!(i&&1===i.nodeType&&!x[i.nodeName]&&r.x+i.width>r.pdf.margins_doc.left+r.pdf.margins_doc.width)&&(r.x+=t,r.y=e,r.settings.width+=n,!0)}.bind(this,"left"===N.float?-a.width-A-L:0,r.y+a.height+R+k,a.width)),r.watchFunctions.push(function(t,e,n){return!(r.y<t&&e===r.pdf.internal.getNumberOfPages())||1===n.nodeType&&"both"===c(n).clear&&(r.y=t,!0)}.bind(this,r.y+a.height,r.pdf.internal.getNumberOfPages())),r.settings.width-=a.width+A+L,"left"===N.float&&(r.x+=a.width+A+L)):r.y+=a.height+R+k}else if("TABLE"===a.nodeName)p=w(a,r),r.y+=10,r.pdf.table(r.x,r.y,p.rows,p.headers,{autoSize:!1,printHeaders:o.printHeaders,margins:r.pdf.margins_doc,css:c(a)}),r.y=r.pdf.lastCellPos.y+r.pdf.lastCellPos.h+20;else if("OL"===a.nodeName||"UL"===a.nodeName)S=1,y(a,r,o)||n(a,r,o),r.y+=10;else if("LI"===a.nodeName){var F=r.x;r.x+=20/r.pdf.internal.scaleFactor,r.y+=3,y(a,r,o)||n(a,r,o),r.x=F}else"BR"===a.nodeName?(r.y+=u["font-size"]*r.pdf.internal.scaleFactor,r.addText("\u2028",e(u))):y(a,r,o)||n(a,r,o)}}l++}if(o.outY=r.y,f)return r.setBlockBoundary(d)},m={},v=function(t,e,n,r){var i,o=t.getElementsByTagName("img"),a=o.length,s=0;function u(){e.pdf.internal.events.publish("imagesLoaded"),r(i)}function l(t,n,r){if(t){var o=new Image;i=++s,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=n||o.width||0,o.height=r||o.height||0),o.width+o.height)){var i=e.pdf.sHashCode(t)||t;m[i]=m[i]||o}--s||u()},o.src=t}}for(;a--;)l(o[a].getAttribute("src"),o[a].width,o[a].height);return s||u()},_=function(t,e,r){var i=t.getElementsByTagName("footer");if(0<i.length){i=i[0];var o=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},n(i,e,r);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var u=function(t){var o=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.getHeight()-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var u=i.getElementsByTagName("span"),l=0;l<u.length;++l)-1<(" "+u[l].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")&&(u[l].innerHTML=o),-1<(" "+u[l].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&(u[l].innerHTML="###jsPDFVarTotalPages###");n(i,e,r),e.pdf.margins_doc.bottom+=s,e.y=a},l=i.getElementsByTagName("span"),c=0;c<l.length;++c)-1<(" "+l[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",u,!1),u(),x.FOOTER=1}},b=function(t,e,r,i,o,a){if(!e)return!1;var s,u,l,c;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(s=e.replace(/<\/?script[^>]*?>/gi,""),c="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),(l=document.createElement("div")).style.cssText="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",l.innerHTML='<iframe style="height:1px;width:1px" name="'+c+'" />',document.body.appendChild(l),(u=window.frames[c]).document.open(),u.document.writeln(s),u.document.close(),e=u.document.body);var f,p=new h(t,r,i,o);return v.call(this,e,p,o.elementHandlers,(function(t){_(e,p,o.elementHandlers),n(e,p,o.elementHandlers),p.pdf.internal.events.publish("htmlRenderingFinished"),f=p.dispose(),"function"==typeof a?a(f):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")})),f||{x:p.x,y:p.y}},(h=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this}).prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},h.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},h.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(0<this.watchFunctions.length){for(var r=0;r<this.watchFunctions.length;++r)!0===this.watchFunctions[r](t)?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},h.prototype.splitFragmentsIntoLines=function(t,n){var r,i,o,a,s,u,l,c,f,h,p,d,g,y;for(h=this.pdf.internal.scaleFactor,a={},u=l=c=y=s=o=f=i=void 0,d=[p=[]],r=0,g=this.settings.width;t.length;)if(s=t.shift(),y=n.shift(),s)if((o=a[(i=y["font-family"])+(f=y["font-style"])])||(o=this.pdf.internal.getFont(i,f).metadata.Unicode,a[i+f]=o),c={widths:o.widths,kerning:o.kerning,fontSize:12*y["font-size"],textIndent:r},l=this.pdf.getStringUnitWidth(s,c)*c.fontSize/h,"\u2028"==s)p=[],d.push(p);else if(g<r+l){for(u=this.pdf.splitTextToSize(s,g,c),p.push([u.shift(),y]);u.length;)p=[[u.shift(),y]],d.push(p);r=this.pdf.getStringUnitWidth(p[0][0],c)*c.fontSize/h}else p.push([s,y]),r+=l;if(void 0!==y["text-align"]&&("center"===y["text-align"]||"right"===y["text-align"]||"justify"===y["text-align"]))for(var m=0;m<d.length;++m){var v=this.pdf.getStringUnitWidth(d[m][0][0],c)*c.fontSize/h;0<m&&(d[m][0][1]=e(d[m][0][1]));var _=g-v;if("right"===y["text-align"])d[m][0][1]["margin-left"]=_;else if("center"===y["text-align"])d[m][0][1]["margin-left"]=_/2;else if("justify"===y["text-align"]){var b=d[m][0][0].split(" ").length-1;d[m][0][1]["word-spacing"]=_/b,m===d.length-1&&(d[m][0][1]["word-spacing"]=0)}}return d},h.prototype.RenderTextFragment=function(t,e){var n,r;r=0,this.pdf.internal.pageSize.getHeight()-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT",this.getPdfColor(e.color),this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),r=Math.max(r,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-12*r).toFixed(2),"Td")),n=this.pdf.internal.getFont(e["font-family"],e["font-style"]);var i=this.getPdfColor(e.color);i!==this.lastTextColor&&(this.pdf.internal.write(i),this.lastTextColor=i),void 0!==e["word-spacing"]&&0<e["word-spacing"]&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+n.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},h.prototype.getPdfColor=function(t){var e,n,r,i=/rgb\s*\(\s*(\d+),\s*(\d+),\s*(\d+\s*)\)/.exec(t);if(null!=i)e=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]);else{if("string"==typeof t&&"#"!=t.charAt(0)){var o=new RGBColor(t);t=o.ok?o.toHex():"#000000"}e=t.substring(1,3),e=parseInt(e,16),n=t.substring(3,5),n=parseInt(n,16),r=t.substring(5,7),r=parseInt(r,16)}if("string"==typeof e&&/^#[0-9A-Fa-f]{6}$/.test(e)){var a=parseInt(e.substr(1),16);e=a>>16&255,n=a>>8&255,r=255&a}var s=this.f3;return 0===e&&0===n&&0===r||void 0===n?s(e/255)+" g":[s(e/255),s(n/255),s(r/255),"rg"].join(" ")},h.prototype.f3=function(t){return t.toFixed(3)},h.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,u,l,c,h,p,d;if(r=f(this.paragraph.text),p=this.paragraph.style,e=this.paragraph.blockstyle,this.paragraph.priorblockstyle,this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},r.join("").trim()){s=this.splitFragmentsIntoLines(r,p),u=a=void 0,n=12/this.pdf.internal.scaleFactor,this.priorMarginBottom=this.priorMarginBottom||0,h=(Math.max((e["margin-top"]||0)-this.priorMarginBottom,0)+(e["padding-top"]||0))*n,c=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*n,this.priorMarginBottom=e["margin-bottom"]||0,"always"===e["page-break-before"]&&(this.pdf.addPage(),this.y=0,h=((e["margin-top"]||0)+(e["padding-top"]||0))*n),l=this.pdf.internal.write,o=i=void 0,this.y+=h,l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var g=0;s.length;){for(i=u=0,o=(a=s.shift()).length;i!==o;)a[i][0].trim()&&(u=Math.max(u,a[i][1]["line-height"],a[i][1]["font-size"]),d=7*a[i][1]["font-size"]),i++;var y=0,m=0;for(void 0!==a[0][1]["margin-left"]&&0<a[0][1]["margin-left"]&&(y=(m=this.pdf.internal.getCoordinateString(a[0][1]["margin-left"]))-g,g=m),l(y+Math.max(e["margin-left"]||0,0)*n,(-12*u).toFixed(2),"Td"),i=0,o=a.length;i!==o;)a[i][0]&&this.RenderTextFragment(a[i][0],a[i][1]),i++;if(this.y+=u*n,this.executeWatchFunctions(a[0][1])&&0<s.length){var v=[],_=[];s.forEach((function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(v.push(t[e][0]+" "),_.push(t[e][1])),++e})),s=this.splitFragmentsIntoLines(f(v),_),l("ET","Q"),l("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-d/2),l("ET","Q"),this.y+=c}},h.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},h.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},h.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},s={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},o={normal:"normal",italic:"italic",oblique:"italic"},a={left:"left",right:"right",center:"center",justify:"justify"},u={none:"none",right:"right",left:"left"},l={none:"none",both:"both"},g={normal:1},t.fromHTML=function(t,e,n,r,i,o){return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),b(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(dt.API),dt.API,("undefined"!=typeof window&&window||void 0!==r&&r).html2pdf=function(t,e,n){var r=e.canvas;if(r){var i,o;if((r.pdf=e).annotations={_nameMap:[],createAnnotation:function(t,n){var r,i=e.context2d._wrapX(n.left),o=e.context2d._wrapY(n.top),a=(e.context2d._page(n.top),t.indexOf("#"));r=0<=a?{name:t.substring(a+1)}:{url:t},e.link(i,o,n.right-n.left,n.bottom-n.top,r)},setName:function(t,n){var r=e.context2d._wrapX(n.left),i=e.context2d._wrapY(n.top),o=e.context2d._page(n.top);this._nameMap[t]={page:o,x:r,y:i}}},r.annotations=e.annotations,e.context2d._pageBreakAt=function(t){this.pageBreaks.push(t)},e.context2d._gotoPage=function(t){for(;e.internal.getNumberOfPages()<t;)e.addPage();e.setPage(t)},"string"==typeof t){t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"");var a,s,u=document.createElement("iframe");document.body.appendChild(u),null!=(a=u.contentDocument)&&null!=a||(a=u.contentWindow.document),a.open(),a.write(t),a.close(),i=a.body,s=a.body||{},t=a.documentElement||{},o=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}else s=(i=t).body||{},o=Math.max(s.scrollHeight,s.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);var l={async:!0,allowTaint:!0,backgroundColor:"#ffffff",canvas:r,imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1,windowHeight:o=e.internal.pageSize.getHeight(),scrollY:o};e.context2d.pageWrapYEnabled=!0,e.context2d.pageWrapY=e.internal.pageSize.getHeight(),html2canvas(i,l).then((function(t){n&&(u&&u.parentElement.removeChild(u),n(e))}))}else alert("jsPDF canvas plugin not installed")},window.tmp=html2pdf,function(t){var e=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder;t.URL=t.URL||t.webkitURL||function(t,e){return(e=document.createElement("a")).href=t,e};var n=t.Blob,r=URL.createObjectURL,i=URL.revokeObjectURL,o=t.Symbol&&t.Symbol.toStringTag,a=!1,s=!1,u=!!t.ArrayBuffer,l=e&&e.prototype.append&&e.prototype.getBlob;try{a=2===new Blob([""]).size,s=2===new Blob([new Uint8Array([1,2])]).size}catch(a){}function c(t){return t.map((function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t}))}function f(t,n){n=n||{};var r=new e;return c(t).forEach((function(t){r.append(t)})),n.type?r.getBlob(n.type):r.getBlob()}function h(t,e){return new n(c(t),e||{})}if(t.Blob&&(f.prototype=Blob.prototype,h.prototype=Blob.prototype),o)try{File.prototype[o]="File",Blob.prototype[o]="Blob",FileReader.prototype[o]="FileReader"}catch(a){}function p(){var e=!!t.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,n=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;e&&n&&(XMLHttpRequest.prototype.send=function(t){t instanceof Blob&&this.setRequestHeader("Content-Type",t.type),n.call(this,t)});try{new File([],"")}catch(e){try{var r=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name;this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date;this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')();t.File=r}catch(e){r=function(t,e,n){var r=new Blob(t,n),i=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date;return r.name=e,r.lastModifiedDate=i,r.lastModified=+i,r.toString=function(){return"[object File]"},o&&(r[o]="File"),r},t.File=r}}}a?(p(),t.Blob=s?t.Blob:h):l?(p(),t.Blob=f):function(){function e(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||57344<=r?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}function n(t){var e,n,r,i,o,a;for(e="",r=t.length,n=0;n<r;)switch((i=t[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(i);break;case 12:case 13:o=t[n++],e+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[n++],a=t[n++],e+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}return e}function o(t){for(var e=new Array(t.byteLength),n=new Uint8Array(t),r=e.length;r--;)e[r]=n[r];return e}function a(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<t.length;r+=3){var i=t[r],o=r+1<t.length,a=o?t[r+1]:0,s=r+2<t.length,u=s?t[r+2]:0,l=i>>2,c=(3&i)<<4|a>>4,f=(15&a)<<2|u>>6,h=63&u;s||(h=64,o||(f=64)),n.push(e[l],e[c],e[f],e[h])}return n.join("")}var s=Object.create||function(t){function e(){}return e.prototype=t,new e};if(u)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&-1<l.indexOf(Object.prototype.toString.call(t))};function f(t,n){for(var r=0,i=(t=t||[]).length;r<i;r++){var a=t[r];a instanceof f?t[r]=a._buffer:"string"==typeof a?t[r]=e(a):u&&(ArrayBuffer.prototype.isPrototypeOf(a)||c(a))?t[r]=o(a):u&&(s=a)&&DataView.prototype.isPrototypeOf(s)?t[r]=o(a.buffer):t[r]=e(String(a))}var s;this._buffer=[].concat.apply([],t),this.size=this._buffer.length,this.type=n&&n.type||""}function h(t,e,n){var r=f.call(this,t,n=n||{})||this;return r.name=e,r.lastModifiedDate=n.lastModified?new Date(n.lastModified):new Date,r.lastModified=+r.lastModifiedDate,r}if(f.prototype.slice=function(t,e,n){return new f([this._buffer.slice(t||0,e||this._buffer.length)],{type:n})},f.prototype.toString=function(){return"[object Blob]"},(h.prototype=s(f.prototype)).constructor=h,Object.setPrototypeOf)Object.setPrototypeOf(h,f);else try{h.__proto__=f}catch(s){}function p(){if(!(this instanceof p))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var t=document.createDocumentFragment();this.addEventListener=t.addEventListener,this.dispatchEvent=function(e){var n=this["on"+e.type];"function"==typeof n&&n(e),t.dispatchEvent(e)},this.removeEventListener=t.removeEventListener}function d(t,e,n){if(!(e instanceof f))throw new TypeError("Failed to execute '"+n+"' on 'FileReader': parameter 1 is not of type 'Blob'.");t.result="",setTimeout((function(){this.readyState=p.LOADING,t.dispatchEvent(new Event("load")),t.dispatchEvent(new Event("loadend"))}))}h.prototype.toString=function(){return"[object File]"},p.EMPTY=0,p.LOADING=1,p.DONE=2,p.prototype.error=null,p.prototype.onabort=null,p.prototype.onerror=null,p.prototype.onload=null,p.prototype.onloadend=null,p.prototype.onloadstart=null,p.prototype.onprogress=null,p.prototype.readAsDataURL=function(t){d(this,t,"readAsDataURL"),this.result="data:"+t.type+";base64,"+a(t._buffer)},p.prototype.readAsText=function(t){d(this,t,"readAsText"),this.result=n(t._buffer)},p.prototype.readAsArrayBuffer=function(t){d(this,t,"readAsText"),this.result=t._buffer.slice()},p.prototype.abort=function(){},URL.createObjectURL=function(t){return t instanceof f?"data:"+t.type+";base64,"+a(t._buffer):r.call(URL,t)},URL.revokeObjectURL=function(t){i&&i.call(URL,t)};var g=t.XMLHttpRequest&&t.XMLHttpRequest.prototype.send;g&&(XMLHttpRequest.prototype.send=function(t){t instanceof f?(this.setRequestHeader("Content-Type",t.type),g.call(this,n(t._buffer))):g.call(this,t)}),t.FileReader=p,t.File=h,t.Blob=f}()}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")());var gt,yt,mt,vt,_t,bt,wt,xt,St,Et,Ot,Pt,Ct,Tt,Nt,It=It||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=t.setImmediate||t.setTimeout,u=function(t){s((function(){throw t}),0)},l=function(t){setTimeout((function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}),4e4)},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},f=function(e,f,h){h||(e=c(e));var p,d=this,g="application/octet-stream"===e.type,y=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,t)}catch(t){u(t)}}}(d,"writestart progress write writeend".split(" "))};if(d.readyState=d.INIT,i)return p=n().createObjectURL(e),void s((function(){var t,e;r.href=p,r.download=f,t=r,e=new MouseEvent("click"),t.dispatchEvent(e),y(),l(p),d.readyState=d.DONE}),0);!function(){if((a||g&&o)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,d.readyState=d.DONE,y()},r.readAsDataURL(e),d.readyState=d.INIT}p||(p=n().createObjectURL(e)),g?t.location.href=p:t.open(p,"_blank")||(t.location.href=p),d.readyState=d.DONE,y(),l(p)}()},h=f.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,n){return new f(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0);function Mt(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw"Invalid GIF 87a/89a header.";var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,a=1<<1+(7&i);t[e++],t[e++];var s=null;o&&(s=e,e+=3*a);var u=!0,l=[],c=0,f=null,h=0,p=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;0!==(E=t[e++]);)e+=E;break;case 249:if(4!==t[e++]||0!==t[e+4])throw"Invalid graphics extension block.";var d=t[e++];c=t[e++]|t[e++]<<8,f=t[e++],0==(1&d)&&(f=null),h=d>>2&7,e++;break;case 254:for(;0!==(E=t[e++]);)e+=E;break;default:throw"Unknown graphic control label: 0x"+t[e-1].toString(16)}break;case 44:var g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,_=t[e++],b=_>>6&1,w=s,x=!1;_>>7&&(x=!0,w=e,e+=3*(1<<1+(7&_)));var S=e;for(e++;;){var E;if(0===(E=t[e++]))break;e+=E}l.push({x:g,y:y,width:m,height:v,has_local_palette:x,palette_offset:w,data_offset:S,data_length:e-S,transparent_index:f,interlaced:!!b,delay:c,disposal:h});break;case 59:u=!1;break;default:throw"Unknown gif block: 0x"+t[e-1].toString(16)}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(t){if(t<0||t>=l.length)throw"Frame index out of range.";return l[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),o=i.width*i.height,a=new Uint8Array(o);At(t,i.data_offset,a,o);var s=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var l=i.width,c=n-l,f=l,h=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),d=h,g=4*c;!0===i.interlaced&&(g+=4*(l+c)*7);for(var y=8,m=0,v=a.length;m<v;++m){var _=a[m];if(0===f&&(f=l,p<=(d+=g)&&(g=c+4*(l+c)*(y-1),d=h+(l+c)*(y<<1),y>>=1)),_===u)d+=4;else{var b=t[s+3*_],w=t[s+3*_+1],x=t[s+3*_+2];r[d++]=x,r[d++]=w,r[d++]=b,r[d++]=255}--f}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),o=i.width*i.height,a=new Uint8Array(o);At(t,i.data_offset,a,o);var s=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var l=i.width,c=n-l,f=l,h=4*(i.y*n+i.x),p=4*((i.y+i.height)*n+i.x),d=h,g=4*c;!0===i.interlaced&&(g+=4*(l+c)*7);for(var y=8,m=0,v=a.length;m<v;++m){var _=a[m];if(0===f&&(f=l,p<=(d+=g)&&(g=c+4*(l+c)*(y-1),d=h+(l+c)*(y<<1),y>>=1)),_===u)d+=4;else{var b=t[s+3*_],w=t[s+3*_+1],x=t[s+3*_+2];r[d++]=b,r[d++]=w,r[d++]=x,r[d++]=255}--f}}}function At(t,e,n,r){for(var i=t[e++],o=1<<i,a=o+1,s=a+1,u=i+1,l=(1<<u)-1,c=0,f=0,h=0,p=t[e++],d=new Int32Array(4096),g=null;;){for(;c<16&&0!==p;)f|=t[e++]<<c,c+=8,1===p?p=t[e++]:--p;if(c<u)break;var y=f&l;if(f>>=u,c-=u,y!==o){if(y===a)break;for(var m=y<s?y:g,v=0,_=m;o<_;)_=d[_]>>8,++v;var b=_;if(r<h+v+(m!==y?1:0))return void console.log("Warning, gif stream longer than expected.");n[h++]=b;var w=h+=v;for(m!==y&&(n[h++]=b),_=m;v--;)_=d[_],n[--w]=255&_,_>>=8;null!==g&&s<4096&&(d[s++]=g<<8|b,l+1<=s&&u<12&&(++u,l=l<<1|1)),g=y}else s=a+1,l=(1<<(u=i+1))-1,g=null}return h!==r&&console.log("Warning, gif stream shorter than expected."),n}try{e.GifWriter=function(t,e,n,r){var i=0,o=void 0===(r=void 0===r?{}:r).loop?null:r.loop,a=void 0===r.palette?null:r.palette;if(e<=0||n<=0||65535<e||65535<n)throw"Width/Height invalid.";function s(t){var e=t.length;if(e<2||256<e||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}t[i++]=71,t[i++]=73,t[i++]=70,t[i++]=56,t[i++]=57,t[i++]=97;var u=0,l=0;if(null!==a){for(var c=s(a);c>>=1;)++u;if(c=1<<u,--u,void 0!==r.background){if(c<=(l=r.background))throw"Background index out of range.";if(0===l)throw"Background index explicitly passed as 0."}}if(t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=(null!==a?128:0)|u,t[i++]=l,t[i++]=0,null!==a)for(var f=0,h=a.length;f<h;++f){var p=a[f];t[i++]=p>>16&255,t[i++]=p>>8&255,t[i++]=255&p}if(null!==o){if(o<0||65535<o)throw"Loop count invalid.";t[i++]=33,t[i++]=255,t[i++]=11,t[i++]=78,t[i++]=69,t[i++]=84,t[i++]=83,t[i++]=67,t[i++]=65,t[i++]=80,t[i++]=69,t[i++]=50,t[i++]=46,t[i++]=48,t[i++]=3,t[i++]=1,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=0}var d=!1;this.addFrame=function(e,n,r,o,u,l){if(!0===d&&(--i,d=!1),l=void 0===l?{}:l,e<0||n<0||65535<e||65535<n)throw"x/y invalid.";if(r<=0||o<=0||65535<r||65535<o)throw"Width/Height invalid.";if(u.length<r*o)throw"Not enough pixels for the frame size.";var c=!0,f=l.palette;if(null==f&&(c=!1,f=a),null==f)throw"Must supply either a local or global palette.";for(var h=s(f),p=0;h>>=1;)++p;h=1<<p;var g=void 0===l.delay?0:l.delay,y=void 0===l.disposal?0:l.disposal;if(y<0||3<y)throw"Disposal out of range.";var m=!1,v=0;if(void 0!==l.transparent&&null!==l.transparent&&(m=!0,(v=l.transparent)<0||h<=v))throw"Transparent color index.";if((0!==y||m||0!==g)&&(t[i++]=33,t[i++]=249,t[i++]=4,t[i++]=y<<2|(!0===m?1:0),t[i++]=255&g,t[i++]=g>>8&255,t[i++]=v,t[i++]=0),t[i++]=44,t[i++]=255&e,t[i++]=e>>8&255,t[i++]=255&n,t[i++]=n>>8&255,t[i++]=255&r,t[i++]=r>>8&255,t[i++]=255&o,t[i++]=o>>8&255,t[i++]=!0===c?128|p-1:0,!0===c)for(var _=0,b=f.length;_<b;++_){var w=f[_];t[i++]=w>>16&255,t[i++]=w>>8&255,t[i++]=255&w}i=function(t,e,n,r){t[e++]=n;var i=e++,o=1<<n,a=o-1,s=o+1,u=s+1,l=n+1,c=0,f=0;function h(n){for(;n<=c;)t[e++]=255&f,f>>=8,c-=8,e===i+256&&(t[i]=255,i=e++)}function p(t){f|=t<<c,c+=l,h(8)}var d=r[0]&a,g={};p(o);for(var y=1,m=r.length;y<m;++y){var v=r[y]&a,_=d<<8|v,b=g[_];if(void 0===b){for(f|=d<<c,c+=l;8<=c;)t[e++]=255&f,f>>=8,c-=8,e===i+256&&(t[i]=255,i=e++);4096===u?(p(o),u=s+1,l=n+1,g={}):(1<<l<=u&&++l,g[_]=u++),d=v}else d=b}return p(d),p(s),h(1),i+1===e?t[i]=0:(t[i]=e-i-1,t[e++]=0),e}(t,i,p<2?2:p,u)},this.end=function(){return!1===d&&(t[i++]=59,d=!0),i}},e.GifReader=Mt}catch(a){}function Lt(t){var e,n,r,i,o,a=Math.floor,s=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),d=new Array(64),g=[],y=0,m=7,v=new Array(64),_=new Array(64),b=new Array(64),w=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function A(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function L(t){for(var e=t[0],n=t[1]-1;0<=n;)e&1<<n&&(y|=1<<m),n--,--m<0&&(255==y?(R(255),R(0)):R(y),m=7,y=0)}function R(t){g.push(t)}function k(t){R(t>>8&255),R(255&t)}function F(t,e,n,r,i){for(var o,a=i[0],s=i[240],u=function(t,e){var n,r,i,o,a,s,u,l,c,f,h=0;for(c=0;c<8;++c){n=t[h],r=t[h+1],i=t[h+2],o=t[h+3],a=t[h+4],s=t[h+5],u=t[h+6];var d=n+(l=t[h+7]),g=n-l,y=r+u,m=r-u,v=i+s,_=i-s,b=o+a,w=o-a,x=d+b,S=d-b,E=y+v,O=y-v;t[h]=x+E,t[h+4]=x-E;var P=.707106781*(O+S);t[h+2]=S+P,t[h+6]=S-P;var C=.382683433*((x=w+_)-(O=m+g)),T=.5411961*x+C,N=1.306562965*O+C,I=.707106781*(E=_+m),M=g+I,A=g-I;t[h+5]=A+T,t[h+3]=A-T,t[h+1]=M+N,t[h+7]=M-N,h+=8}for(c=h=0;c<8;++c){n=t[h],r=t[h+8],i=t[h+16],o=t[h+24],a=t[h+32],s=t[h+40],u=t[h+48];var L=n+(l=t[h+56]),R=n-l,k=r+u,F=r-u,j=i+s,D=i-s,U=o+a,G=o-a,z=L+U,B=L-U,q=k+j,V=k-j;t[h]=z+q,t[h+32]=z-q;var Y=.707106781*(V+B);t[h+16]=B+Y,t[h+48]=B-Y;var H=.382683433*((z=G+D)-(V=F+R)),W=.5411961*z+H,X=1.306562965*V+H,K=.707106781*(q=D+F),Z=R+K,J=R-K;t[h+40]=J+W,t[h+24]=J-W,t[h+8]=Z+X,t[h+56]=Z-X,h++}for(c=0;c<64;++c)f=t[c]*e[c],p[c]=0<f?f+.5|0:f-.5|0;return p}(t,e),l=0;l<64;++l)d[S[l]]=u[l];var c=d[0]-n;n=d[0],0==c?L(r[0]):(L(r[h[o=32767+c]]),L(f[o]));for(var g=63;0<g&&0==d[g];g--);if(0==g)return L(a),n;for(var y,m=1;m<=g;){for(var v=m;0==d[m]&&m<=g;++m);var _=m-v;if(16<=_){y=_>>4;for(var b=1;b<=y;++b)L(s);_&=15}o=32767+d[m],L(i[(_<<4)+h[o]]),L(f[o]),m++}return 63!=g&&L(a),n}function j(t){t<=0&&(t=1),100<t&&(t=100),o!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((e[n]*t+50)/100);r<1?r=1:255<r&&(r=255),s[S[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var f=a((i[o]*t+50)/100);f<1?f=1:255<f&&(f=255),u[S[o]]=f}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,d=0;d<8;d++)for(var g=0;g<8;g++)l[p]=1/(s[S[p]]*h[d]*h[g]*8),c[p]=1/(u[S[p]]*h[d]*h[g]*8),p++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t)}this.encode=function(t,o){var a,f;(new Date).getTime(),o&&j(o),g=new Array,y=0,m=7,k(65496),k(65504),k(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),k(1),k(1),R(0),R(0),function(){k(65499),k(132),R(0);for(var t=0;t<64;t++)R(s[t]);R(1);for(var e=0;e<64;e++)R(u[e])}(),a=t.width,f=t.height,k(65472),k(17),R(8),k(f),k(a),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1),function(){k(65476),k(418),R(0);for(var t=0;t<16;t++)R(E[t+1]);for(var e=0;e<=11;e++)R(O[e]);R(16);for(var n=0;n<16;n++)R(P[n+1]);for(var r=0;r<=161;r++)R(C[r]);R(1);for(var i=0;i<16;i++)R(T[i+1]);for(var o=0;o<=11;o++)R(N[o]);R(17);for(var a=0;a<16;a++)R(I[a+1]);for(var s=0;s<=161;s++)R(M[s])}(),k(65498),k(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var h=0,p=0,d=0;y=0,m=7,this.encode.displayName="_encode_";for(var w,S,A,D,U,G,z,B,q,V=t.data,Y=t.width,H=t.height,W=4*Y,X=0;X<H;){for(w=0;w<W;){for(G=U=W*X+w,z=-1,q=B=0;q<64;q++)G=U+(B=q>>3)*W+(z=4*(7&q)),H<=X+B&&(G-=W*(X+1+B-H)),W<=w+z&&(G-=w+z-W+4),S=V[G++],A=V[G++],D=V[G++],v[q]=(x[S]+x[A+256>>0]+x[D+512>>0]>>16)-128,_[q]=(x[S+768>>0]+x[A+1024>>0]+x[D+1280>>0]>>16)-128,b[q]=(x[S+1280>>0]+x[A+1536>>0]+x[D+1792>>0]>>16)-128;h=F(v,l,h,e,r),p=F(_,c,p,n,i),d=F(b,c,d,n,i),w+=32}X+=8}if(0<=m){var K=[];K[1]=m+1,K[0]=(1<<m+1)-1,L(K)}return k(65497),new Uint8Array(g)},(new Date).getTime(),t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=A(E,O),n=A(T,N),r=A(P,C),i=A(I,M),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)h[32767+r]=n,f[32767+r]=[],f[32767+r][1]=n,f[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)h[32767+i]=n,f[32767+i]=[],f[32767+i][1]=n,f[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)x[t]=19595*t,x[t+256>>0]=38470*t,x[t+512>>0]=7471*t+32768,x[t+768>>0]=-11059*t,x[t+1024>>0]=-21709*t,x[t+1280>>0]=32768*t+8421375,x[t+1536>>0]=-27439*t,x[t+1792>>0]=-5329*t}(),j(t),(new Date).getTime()}function Rt(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}window.tmp=Mt,dt.API.adler32cs=(bt="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,wt=null,xt=function(){if(!bt)return function(){return!1};try{var t={};"function"==typeof t.Buffer&&(wt=t.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==wt&&t instanceof wt}}(),St=null!==wt?function(t){return new wt(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))},Et=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)r=(r+(n=(n+(255&e.charCodeAt(i)))%65521))%65521;return(r<<16|n)>>>0},Ot=function(t,e){for(var n=65535&t,r=t>>>16,i=0,o=e.length;i<o;i++)r=(r+(n=(n+e[i])%65521))%65521;return(r<<16|n)>>>0},Ct=(Pt={}).Adler32=(((_t=(vt=function(t){if(!(this instanceof vt))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0}).prototype={}).constructor=vt).from=((gt=function(t){if(!(this instanceof vt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=Et(1,t.toString())}).prototype=_t,gt),vt.fromUtf8=((yt=function(t){if(!(this instanceof vt))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var e=St(t.toString());this.checksum=Et(1,e)}).prototype=_t,yt),bt&&(vt.fromBuffer=((mt=function(t){if(!(this instanceof vt))throw new TypeError("Constructor cannot called be as a function.");if(!xt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=Ot(1,e)}).prototype=_t,mt)),_t.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=Et(this.checksum,t)},_t.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=St(t.toString());return this.checksum=Et(this.checksum,e)},bt&&(_t.updateBuffer=function(t){if(!xt(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=Ot(this.checksum,e)}),_t.clone=function(){return new Ct(this.checksum)},vt),Pt.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return Et(1,t.toString())},Pt.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=St(t.toString());return Et(1,e)},bt&&(Pt.fromBuffer=function(t){if(!xt(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return Ot(1,e)}),Pt),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,o,a,s,u,l=e,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,m=0;this.__bidiEngine__={};var v=function(t){var e=t.charCodeAt(),n=e>>8,r=p[n];return void 0!==r?l[256*r+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},_=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=v(t.charAt(n))))return!1;if("R"===e)return!0}return!1},b=function(t,e,a,s){var u,l,c,f,h=e[s];switch(h){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(h="AN");break;case"AL":y=!0,h="R";break;case"WS":h="N";break;case"CS":s<1||s+1>=e.length||"EN"!==(u=a[s-1])&&"AN"!==u||"EN"!==(l=e[s+1])&&"AN"!==l?h="N":y&&(l="AN"),h=l===u?l:"N";break;case"ES":h="EN"===(u=0<s?a[s-1]:"B")&&s+1<e.length&&"EN"===e[s+1]?"EN":"N";break;case"ET":if(0<s&&"EN"===a[s-1]){h="EN";break}if(y){h="N";break}for(c=s+1,f=e.length;c<f&&"ET"===e[c];)c++;h=c<f&&"EN"===e[c]?"EN":"N";break;case"NSM":if(i&&!o){for(f=e.length,c=s+1;c<f&&"NSM"===e[c];)c++;if(c<f){var p=t[s],d=1425<=p&&p<=2303||64286===p;if(u=e[c],d&&("R"===u||"AL"===u)){h="R";break}}}h=s<1||"B"===(u=e[s-1])?"N":a[s-1];break;case"B":n=!(y=!1),h=m;break;case"S":r=!0,h="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":h="N"}return h},w=function(t,e,n){var r=t.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),e&&e.reverse(),r.join("")},x=function(t,e,i){var o,a,s,u,l,p=-1,d=t.length,g=0,_=[],w=m?f:c,x=[];for(r=n=y=!1,a=0;a<d;a++)x[a]=v(t[a]);for(s=0;s<d;s++){if(l=g,_[s]=b(t,x,_,s),o=240&(g=w[l][h[_[s]]]),g&=15,e[s]=u=w[g][5],0<o)if(16===o){for(a=p;a<s;a++)e[a]=1;p=-1}else p=-1;if(w[g][6])-1===p&&(p=s);else if(-1<p){for(a=p;a<s;a++)e[a]=u;p=-1}"B"===x[s]&&(e[s]=0),i.hiLevel|=u}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=m;for(var i=r-1;0<=i&&"WS"===t[i];i--)e[i]=m}}(x,e,d)},S=function(t,e,r,i,o){if(!(o.hiLevel<t)){if(1===t&&1===m&&!n)return e.reverse(),void(r&&r.reverse());for(var a,s,u,l,c=e.length,f=0;f<c;){if(i[f]>=t){for(u=f+1;u<c&&i[u]>=t;)u++;for(l=f,s=u-1;l<s;l++,s--)a=e[l],e[l]=e[s],e[s]=a,r&&(a=r[l],r[l]=r[s],r[s]=a);f=u}f++}}},E=function(t,e,n){var r=t.split(""),i={hiLevel:m};return n||(n=[]),x(r,n,i),function(t,e,n){if(0!==n.hiLevel&&u)for(var r,i=0;i<t.length;i++)1===e[i]&&0<=(r=d.indexOf(t[i]))&&(t[i]=d[r+1])}(r,n,i),S(2,r,e,n,i),S(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===o&&(o=_(t)),void 0===s&&(s=_(t))}(t,e),i||!a||s)if(i&&a&&o^s)m=o?1:0,t=w(t,e,n);else if(!i&&a&&s)m=o?1:0,t=E(t,e,n),t=w(t,e);else if(!i||o||a||s){if(i&&!a&&o^s)t=w(t,e),t=o?(m=0,E(t,e,n)):(m=1,t=E(t,e,n),w(t,e));else if(i&&o&&!a&&s)m=1,t=E(t,e,n),t=w(t,e);else if(!i&&!a&&o^s){var r=u;o?(m=1,t=E(t,e,n),m=0,u=!1,t=E(t,e,n),u=r):(m=0,t=E(t,e,n),t=w(t,e),u=!(m=1),t=E(t,e,n),u=r,t=w(t,e))}}else m=0,t=E(t,e,n);else m=o?1:0,t=E(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,a=t.isOutputVisual,o=t.isInputRtl,s=t.isOutputRtl,u=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=(t.x,t.y,t.options||{}),i=(t.mutex,r.lang,[]);if("[object Array]"===Object.prototype.toString.call(e)){var o=0;for(i=[],o=0;o<e.length;o+=1)"[object Array]"===Object.prototype.toString.call(e[o])?i.push([n.doBidiReorder(e[o][0]),e[o][1],e[o][2]]):i.push([n.doBidiReorder(e[o])]);t.text=i}else t.text=n.doBidiReorder(e)}])}(dt),window.tmp=Lt,Rt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rt.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(t){console.log("bit decode error:"+t)}},Rt.prototype.bit1=function(){var t=Math.ceil(this.width/8),e=t%4,n=0<=this.height?this.height-1:-this.height;for(n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var u=this.palette[o>>7-s&1];this.data[a+4*s]=u.blue,this.data[a+4*s+1]=u.green,this.data[a+4*s+2]=u.red,this.data[a+4*s+3]=255}0!=e&&(this.pos+=4-e)}},Rt.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,s=o>>4,u=15&o,l=this.palette[s];if(this.data[a]=l.blue,this.data[a+1]=l.green,this.data[a+2]=l.red,this.data[a+3]=255,2*i+1>=this.width)break;l=this.palette[u],this.data[a+4]=l.blue,this.data[a+4+1]=l.green,this.data[a+4+2]=l.red,this.data[a+4+3]=255}0!=e&&(this.pos+=4-e)}},Rt.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;0<=e;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[o]=a.red,this.data[o+1]=a.green,this.data[o+2]=a.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!=t&&(this.pos+=4-t)}},Rt.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;0<=n;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,s=(o>>5&e)/e*255|0,u=(o>>10&e)/e*255|0,l=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=u,this.data[c+1]=s,this.data[c+2]=a,this.data[c+3]=l}this.pos+=t}},Rt.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;0<=r;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,u=(a>>5&n)/n*255|0,l=(a>>11)/e*255|0,c=i*this.width*4+4*o;this.data[c]=l,this.data[c+1]=u,this.data[c+2]=s,this.data[c+3]=255}this.pos+=t}},Rt.prototype.bit24=function(){for(var t=this.height-1;0<=t;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Rt.prototype.bit32=function(){for(var t=this.height-1;0<=t;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=a}},Rt.prototype.getData=function(){return this.data},window.tmp=Rt,function(t){var e=15,n=573,r=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function i(){var t=this;function r(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}t.build_tree=function(i){var o,a,s,u=t.dyn_tree,l=t.stat_desc.static_tree,c=t.stat_desc.elems,f=-1;for(i.heap_len=0,i.heap_max=n,o=0;o<c;o++)0!==u[2*o]?(i.heap[++i.heap_len]=f=o,i.depth[o]=0):u[2*o+1]=0;for(;i.heap_len<2;)u[2*(s=i.heap[++i.heap_len]=f<2?++f:0)]=1,i.depth[s]=0,i.opt_len--,l&&(i.static_len-=l[2*s+1]);for(t.max_code=f,o=Math.floor(i.heap_len/2);1<=o;o--)i.pqdownheap(u,o);for(s=c;o=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(u,1),a=i.heap[1],i.heap[--i.heap_max]=o,i.heap[--i.heap_max]=a,u[2*s]=u[2*o]+u[2*a],i.depth[s]=Math.max(i.depth[o],i.depth[a])+1,u[2*o+1]=u[2*a+1]=s,i.heap[1]=s++,i.pqdownheap(u,1),2<=i.heap_len;);i.heap[--i.heap_max]=i.heap[1],function(r){var i,o,a,s,u,l,c=t.dyn_tree,f=t.stat_desc.static_tree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,d=t.stat_desc.max_length,g=0;for(s=0;s<=e;s++)r.bl_count[s]=0;for(c[2*r.heap[r.heap_max]+1]=0,i=r.heap_max+1;i<n;i++)d<(s=c[2*c[2*(o=r.heap[i])+1]+1]+1)&&(s=d,g++),c[2*o+1]=s,o>t.max_code||(r.bl_count[s]++,u=0,p<=o&&(u=h[o-p]),l=c[2*o],r.opt_len+=l*(s+u),f&&(r.static_len+=l*(f[2*o+1]+u)));if(0!==g){do{for(s=d-1;0===r.bl_count[s];)s--;r.bl_count[s]--,r.bl_count[s+1]+=2,r.bl_count[d]--,g-=2}while(0<g);for(s=d;0!==s;s--)for(o=r.bl_count[s];0!==o;)(a=r.heap[--i])>t.max_code||(c[2*a+1]!=s&&(r.opt_len+=(s-c[2*a+1])*c[2*a],c[2*a+1]=s),o--)}}(i),function(t,n,i){var o,a,s,u=[],l=0;for(o=1;o<=e;o++)u[o]=l=l+i[o-1]<<1;for(a=0;a<=n;a++)0!==(s=t[2*a+1])&&(t[2*a]=r(u[s]++,s))}(u,t.max_code,i.bl_count)}}function o(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i}function a(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}i._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],i.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],i.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],i.d_code=function(t){return t<256?r[t]:r[256+(t>>>7)]},i.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],i.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],i.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],i.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],o.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],o.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],o.static_l_desc=new o(o.static_ltree,i.extra_lbits,257,286,e),o.static_d_desc=new o(o.static_dtree,i.extra_dbits,0,30,e),o.static_bl_desc=new o(null,i.extra_blbits,0,19,7);var s=[new a(0,0,0,0,0),new a(4,4,8,4,1),new a(4,5,16,8,1),new a(4,6,32,32,1),new a(4,4,16,16,2),new a(8,16,32,32,2),new a(8,16,128,128,2),new a(8,32,128,256,2),new a(32,128,258,1024,2),new a(32,258,258,4096,2)],u=["need dictionary","stream end","","","stream error","data error","","buffer error","",""];function l(t,e,n,r){var i=t[2*e],o=t[2*n];return i<o||i==o&&r[e]<=r[n]}function c(){var t,e,n,r,a,c,f,h,p,d,g,y,m,v,_,b,w,x,S,E,O,P,C,T,N,I,M,A,L,R,k,F,j,D,U,G,z,B,q,V,Y,H=this,W=new i,X=new i,K=new i;function Z(){var t;for(t=0;t<286;t++)k[2*t]=0;for(t=0;t<30;t++)F[2*t]=0;for(t=0;t<19;t++)j[2*t]=0;k[512]=1,H.opt_len=H.static_len=0,G=B=0}function J(t,e){var n,r,i=-1,o=t[1],a=0,s=7,u=4;for(0===o&&(s=138,u=3),t[2*(e+1)+1]=65535,n=0;n<=e;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(a<u?j[2*r]+=a:0!==r?(r!=i&&j[2*r]++,j[32]++):a<=10?j[34]++:j[36]++,i=r,u=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4))}function Q(t){H.pending_buf[H.pending++]=t}function $(t){Q(255&t),Q(t>>>8&255)}function tt(t,e){var n,r=e;16-r<Y?($(V|=(n=t)<<Y&65535),V=n>>>16-Y,Y+=r-16):(V|=t<<Y&65535,Y+=r)}function et(t,e){var n=2*t;tt(65535&e[n],65535&e[n+1])}function nt(t,e){var n,r,i=-1,o=t[1],a=0,s=7,u=4;for(0===o&&(s=138,u=3),n=0;n<=e;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(a<u)for(;et(r,j),0!=--a;);else 0!==r?(r!=i&&(et(r,j),a--),et(16,j),tt(a-3,2)):a<=10?(et(17,j),tt(a-3,3)):(et(18,j),tt(a-11,7));i=r,u=(a=0)===o?(s=138,3):r==o?(s=6,3):(s=7,4)}}function rt(){16==Y?($(V),Y=V=0):8<=Y&&(Q(255&V),V>>>=8,Y-=8)}function it(t,e){var n,r,o;if(H.pending_buf[z+2*G]=t>>>8&255,H.pending_buf[z+2*G+1]=255&t,H.pending_buf[D+G]=255&e,G++,0===t?k[2*e]++:(B++,t--,k[2*(i._length_code[e]+256+1)]++,F[2*i.d_code(t)]++),0==(8191&G)&&2<M){for(n=8*G,r=O-w,o=0;o<30;o++)n+=F[2*o]*(5+i.extra_dbits[o]);if(n>>>=3,B<Math.floor(G/2)&&n<Math.floor(r/2))return!0}return G==U-1}function ot(t,e){var n,r,o,a,s=0;if(0!==G)for(;n=H.pending_buf[z+2*s]<<8&65280|255&H.pending_buf[z+2*s+1],r=255&H.pending_buf[D+s],s++,0===n?et(r,t):(et((o=i._length_code[r])+256+1,t),0!==(a=i.extra_lbits[o])&&tt(r-=i.base_length[o],a),et(o=i.d_code(--n),e),0!==(a=i.extra_dbits[o])&&tt(n-=i.base_dist[o],a)),s<G;);et(256,t),q=t[513]}function at(){8<Y?$(V):0<Y&&Q(255&V),Y=V=0}function st(t,e,n){var r,i;tt(0+(n?1:0),3),r=t,i=e,at(),q=8,$(i),$(~i),H.pending_buf.set(h.subarray(r,r+i),H.pending),H.pending+=i}function ut(e){(function(t,e,n){var r,a,s=0;0<M?(W.build_tree(H),X.build_tree(H),s=function(){var t;for(J(k,W.max_code),J(F,X.max_code),K.build_tree(H),t=18;3<=t&&0===j[2*i.bl_order[t]+1];t--);return H.opt_len+=3*(t+1)+5+5+4,t}(),r=H.opt_len+3+7>>>3,(a=H.static_len+3+7>>>3)<=r&&(r=a)):r=a=e+5,e+4<=r&&-1!=t?st(t,e,n):a==r?(tt(2+(n?1:0),3),ot(o.static_ltree,o.static_dtree)):(tt(4+(n?1:0),3),function(t,e,n){var r;for(tt(t-257,5),tt(e-1,5),tt(n-4,4),r=0;r<n;r++)tt(j[2*i.bl_order[r]+1],3);nt(k,t-1),nt(F,e-1)}(W.max_code+1,X.max_code+1,s+1),ot(k,F)),Z(),n&&at()})(0<=w?w:-1,O-w,e),w=O,t.flush_pending()}function lt(){var e,n,r,i;do{if(0==(i=p-C-O)&&0===O&&0===C)i=a;else if(-1==i)i--;else if(a+a-262<=O){for(h.set(h.subarray(a,a+a),0),P-=a,O-=a,w-=a,r=e=m;n=65535&g[--r],g[r]=a<=n?n-a:0,0!=--e;);for(r=e=a;n=65535&d[--r],d[r]=a<=n?n-a:0,0!=--e;);i+=a}if(0===t.avail_in)return;e=t.read_buf(h,O+C,i),3<=(C+=e)&&(y=((y=255&h[O])<<b^255&h[O+1])&_)}while(C<262&&0!==t.avail_in)}function ct(t){var e,n,r=N,i=O,o=T,s=a-262<O?O-(a-262):0,u=R,l=f,c=O+258,p=h[i+o-1],g=h[i+o];L<=T&&(r>>=2),C<u&&(u=C);do{if(h[(e=t)+o]==g&&h[e+o-1]==p&&h[e]==h[i]&&h[++e]==h[i+1]){i+=2,e++;do{}while(h[++i]==h[++e]&&h[++i]==h[++e]&&h[++i]==h[++e]&&h[++i]==h[++e]&&h[++i]==h[++e]&&h[++i]==h[++e]&&h[++i]==h[++e]&&h[++i]==h[++e]&&i<c);if(n=258-(c-i),i=c-258,o<n){if(P=t,u<=(o=n))break;p=h[i+o-1],g=h[i+o]}}}while((t=65535&d[t&l])>s&&0!=--r);return o<=C?o:C}function ft(t){return t.total_in=t.total_out=0,t.msg=null,H.pending=0,H.pending_out=0,e=113,r=0,W.dyn_tree=k,W.stat_desc=o.static_l_desc,X.dyn_tree=F,X.stat_desc=o.static_d_desc,K.dyn_tree=j,K.stat_desc=o.static_bl_desc,Y=V=0,q=8,Z(),function(){var t;for(p=2*a,t=g[m-1]=0;t<m-1;t++)g[t]=0;I=s[M].max_lazy,L=s[M].good_length,R=s[M].nice_length,N=s[M].max_chain,x=T=2,y=E=C=w=O=0}(),0}H.depth=[],H.bl_count=[],H.heap=[],k=[],F=[],j=[],H.pqdownheap=function(t,e){for(var n=H.heap,r=n[e],i=e<<1;i<=H.heap_len&&(i<H.heap_len&&l(t,n[i+1],n[i],H.depth)&&i++,!l(t,r,n[i],H.depth));)n[e]=n[i],e=i,i<<=1;n[e]=r},H.deflateInit=function(t,e,r,i,o,s){return i||(i=8),o||(o=8),s||(s=0),t.msg=null,-1==e&&(e=6),o<1||9<o||8!=i||r<9||15<r||e<0||9<e||s<0||2<s?-2:(t.dstate=H,f=(a=1<<(c=r))-1,_=(m=1<<(v=o+7))-1,b=Math.floor((v+3-1)/3),h=new Uint8Array(2*a),d=[],g=[],U=1<<o+6,H.pending_buf=new Uint8Array(4*U),n=4*U,z=Math.floor(U/2),D=3*U,M=e,A=s,ft(t))},H.deflateEnd=function(){return 42!=e&&113!=e&&666!=e?-2:(H.pending_buf=null,h=d=g=null,H.dstate=null,113==e?-3:0)},H.deflateParams=function(t,e,n){var r=0;return-1==e&&(e=6),e<0||9<e||n<0||2<n?-2:(s[M].func!=s[e].func&&0!==t.total_in&&(r=t.deflate(1)),M!=e&&(I=s[M=e].max_lazy,L=s[M].good_length,R=s[M].nice_length,N=s[M].max_chain),A=n,r)},H.deflateSetDictionary=function(t,n,r){var i,o=r,s=0;if(!n||42!=e)return-2;if(o<3)return 0;for(a-262<o&&(s=r-(o=a-262)),h.set(n.subarray(s,s+o),0),w=O=o,y=((y=255&h[0])<<b^255&h[1])&_,i=0;i<=o-3;i++)y=(y<<b^255&h[i+2])&_,d[i&f]=g[y],g[y]=i;return 0},H.deflate=function(i,l){var p,v,N,L,R,k;if(4<l||l<0)return-2;if(!i.next_out||!i.next_in&&0!==i.avail_in||666==e&&4!=l)return i.msg=u[4],-2;if(0===i.avail_out)return i.msg=u[7],-5;if(t=i,L=r,r=l,42==e&&(v=8+(c-8<<4)<<8,3<(N=(M-1&255)>>1)&&(N=3),v|=N<<6,0!==O&&(v|=32),e=113,Q((k=v+=31-v%31)>>8&255),Q(255&k)),0!==H.pending){if(t.flush_pending(),0===t.avail_out)return r=-1,0}else if(0===t.avail_in&&l<=L&&4!=l)return t.msg=u[7],-5;if(666==e&&0!==t.avail_in)return i.msg=u[7],-5;if(0!==t.avail_in||0!==C||0!=l&&666!=e){switch(R=-1,s[M].func){case 0:R=function(e){var r,i=65535;for(n-5<i&&(i=n-5);;){if(C<=1){if(lt(),0===C&&0==e)return 0;if(0===C)break}if(O+=C,r=w+i,((C=0)===O||r<=O)&&(C=O-r,O=r,ut(!1),0===t.avail_out))return 0;if(a-262<=O-w&&(ut(!1),0===t.avail_out))return 0}return ut(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 1:R=function(e){for(var n,r=0;;){if(C<262){if(lt(),C<262&&0==e)return 0;if(0===C)break}if(3<=C&&(y=(y<<b^255&h[O+2])&_,r=65535&g[y],d[O&f]=g[y],g[y]=O),0!==r&&(O-r&65535)<=a-262&&2!=A&&(x=ct(r)),3<=x)if(n=it(O-P,x-3),C-=x,x<=I&&3<=C){for(x--;y=(y<<b^255&h[++O+2])&_,r=65535&g[y],d[O&f]=g[y],g[y]=O,0!=--x;);O++}else O+=x,x=0,y=((y=255&h[O])<<b^255&h[O+1])&_;else n=it(0,255&h[O]),C--,O++;if(n&&(ut(!1),0===t.avail_out))return 0}return ut(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l);break;case 2:R=function(e){for(var n,r,i=0;;){if(C<262){if(lt(),C<262&&0==e)return 0;if(0===C)break}if(3<=C&&(y=(y<<b^255&h[O+2])&_,i=65535&g[y],d[O&f]=g[y],g[y]=O),T=x,S=P,x=2,0!==i&&T<I&&(O-i&65535)<=a-262&&(2!=A&&(x=ct(i)),x<=5&&(1==A||3==x&&4096<O-P)&&(x=2)),3<=T&&x<=T){for(r=O+C-3,n=it(O-1-S,T-3),C-=T-1,T-=2;++O<=r&&(y=(y<<b^255&h[O+2])&_,i=65535&g[y],d[O&f]=g[y],g[y]=O),0!=--T;);if(E=0,x=2,O++,n&&(ut(!1),0===t.avail_out))return 0}else if(0!==E){if((n=it(0,255&h[O-1]))&&ut(!1),O++,C--,0===t.avail_out)return 0}else E=1,O++,C--}return 0!==E&&(n=it(0,255&h[O-1]),E=0),ut(4==e),0===t.avail_out?4==e?2:0:4==e?3:1}(l)}if(2!=R&&3!=R||(e=666),0==R||2==R)return 0===t.avail_out&&(r=-1),0;if(1==R){if(1==l)tt(2,3),et(256,o.static_ltree),rt(),1+q+10-Y<9&&(tt(2,3),et(256,o.static_ltree),rt()),q=7;else if(st(0,0,!1),3==l)for(p=0;p<m;p++)g[p]=0;if(t.flush_pending(),0===t.avail_out)return r=-1,0}}return 4!=l?0:1}}function f(){this.next_in_index=0,this.next_out_index=0,this.avail_in=0,this.total_in=0,this.avail_out=0,this.total_out=0}f.prototype={deflateInit:function(t,n){return this.dstate=new c,n||(n=e),this.dstate.deflateInit(this,t,n)},deflate:function(t){return this.dstate?this.dstate.deflate(this,t):-2},deflateEnd:function(){if(!this.dstate)return-2;var t=this.dstate.deflateEnd();return this.dstate=null,t},deflateParams:function(t,e){return this.dstate?this.dstate.deflateParams(this,t,e):-2},deflateSetDictionary:function(t,e){return this.dstate?this.dstate.deflateSetDictionary(this,t,e):-2},read_buf:function(t,e,n){var r=this.avail_in;return n<r&&(r=n),0===r?0:(this.avail_in-=r,t.set(this.next_in.subarray(this.next_in_index,this.next_in_index+r),e),this.next_in_index+=r,this.total_in+=r,r)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}};var h=t.zip||t;h.Deflater=h._jzlib_Deflater=function(t){var e=new f,n=new Uint8Array(512),r=t?t.level:-1;void 0===r&&(r=-1),e.deflateInit(r),e.next_out=n,this.append=function(t,r){var i,o=[],a=0,s=0,u=0;if(t.length){e.next_in_index=0,e.next_in=t,e.avail_in=t.length;do{if(e.next_out_index=0,e.avail_out=512,0!=e.deflate(0))throw new Error("deflating: "+e.msg);e.next_out_index&&(512==e.next_out_index?o.push(new Uint8Array(n)):o.push(new Uint8Array(n.subarray(0,e.next_out_index)))),u+=e.next_out_index,r&&0<e.next_in_index&&e.next_in_index!=a&&(r(e.next_in_index),a=e.next_in_index)}while(0<e.avail_in||0===e.avail_out);return i=new Uint8Array(u),o.forEach((function(t){i.set(t,s),s+=t.length})),i}},this.flush=function(){var t,r,i=[],o=0,a=0;do{if(e.next_out_index=0,e.avail_out=512,1!=(t=e.deflate(4))&&0!=t)throw new Error("deflating: "+e.msg);0<512-e.avail_out&&i.push(new Uint8Array(n.subarray(0,e.next_out_index))),a+=e.next_out_index}while(0<e.avail_in||0===e.avail_out);return e.deflateEnd(),r=new Uint8Array(a),i.forEach((function(t){r.set(t,o),o+=t.length})),r}}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")()),("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")()).RGBColor=function(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in n)t==r&&(t=n[r]);for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],o=0;o<i.length;o++){var a=i[o].re,s=i[o].process,u=a.exec(t);u&&(e=s(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:255<this.r?255:this.r,this.g=this.g<0||isNaN(this.g)?0:255<this.g?255:this.g,this.b=this.b<0||isNaN(this.b)?0:255<this.b?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}},function(t){var e="+".charCodeAt(0),n="/".charCodeAt(0),r="0".charCodeAt(0),i="a".charCodeAt(0),o="A".charCodeAt(0),a="-".charCodeAt(0),s="_".charCodeAt(0),u=function(t){var u=t.charCodeAt(0);return u===e||u===a?62:u===n||u===s?63:u<r?-1:u<r+10?u-r+26+26:u<o+26?u-o:u<i+26?u-i+26:void 0};t.API.TTFFont=function(){function t(t,e,n){var r;if(this.rawData=t,r=this.contents=new c(t),this.contents.pos=4,"ttcf"===r.readString(4)){if(!e)throw new Error("Must specify a font name for TTC files.");throw new Error("Font "+e+" not found in TTC file.")}r.pos=0,this.parse(),this.subset=new N(this),this.registerTTF()}return t.open=function(e,n,r,i){if("string"!=typeof r)throw new Error("Invalid argument supplied in TTFFont.open");return new t(function(t){var e,n,r,i,o,a;if(0<t.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var s=t.length;o="="===t.charAt(s-2)?2:"="===t.charAt(s-1)?1:0,a=new Uint8Array(3*t.length/4-o),r=0<o?t.length-4:t.length;var l=0;function c(t){a[l++]=t}for(n=e=0;e<r;e+=4,n+=3)c((16711680&(i=u(t.charAt(e))<<18|u(t.charAt(e+1))<<12|u(t.charAt(e+2))<<6|u(t.charAt(e+3))))>>16),c((65280&i)>>8),c(255&i);return 2===o?c(255&(i=u(t.charAt(e))<<2|u(t.charAt(e+1))>>4)):1===o&&(c((i=u(t.charAt(e))<<10|u(t.charAt(e+1))<<4|u(t.charAt(e+2))>>2)>>8&255),c(255&i)),a}(r),n,i)},t.prototype.parse=function(){return this.directory=new f(this.contents),this.head=new d(this),this.name=new w(this),this.cmap=new y(this),this.toUnicode=new Map,this.hhea=new m(this),this.maxp=new x(this),this.hmtx=new S(this),this.post=new _(this),this.os2=new v(this),this.loca=new T(this),this.glyf=new O(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e,n,r,i;for(i=[],e=0,n=(r=this.bbox).length;e<n;e++)t=r[e],i.push(Math.round(t*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),!0&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,o,a,s;for(i=a=o=0,s=(t=""+t).length;0<=s?a<s:s<a;i=0<=s?++a:--a)r=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},t.prototype.lineHeight=function(t,e){var n;return null==e&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},t}();var l,c=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return 2147483648<=(t=this.readUInt32())?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return 32768<=(t=this.readUInt16())?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n,r;for(n=[],e=r=0;0<=t?r<t:t<r;e=0<=t?++r:--r)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r,i;for(i=[],e=n=0,r=t.length;0<=r?n<r:r<n;e=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(e)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,o,a,s;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*o+256*a+s},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:t<n;0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r,i;for(i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.writeByte(e));return i},t}(),f=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:r<n;0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,o,a,s,u,l,f,h,p,d,g;for(g in p=Object.keys(e).length,s=Math.log(2),f=16*Math.floor(Math.log(p)/s),o=Math.floor(f/s),l=16*p-f,(r=new c).writeInt(this.scalarType),r.writeShort(p),r.writeShort(f),r.writeShort(o),r.writeShort(l),i=16*p,u=r.pos+i,a=null,d=[],e)for(h=e[g],r.writeString(g),r.writeInt(t(h)),r.writeInt(u),r.writeInt(h.length),d=d.concat(h),"head"===g&&(a=u),u+=h.length;u%4;)d.push(0),u++;return r.write(d),n=2981146554-t(r.data),r.pos=a+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=E.call(t);t.length%4;)t.push(0);for(n=new c(t),r=e=0,i=t.length;r<i;r+=4)e+=n.readUInt32();return 4294967295&e},e}(),h={}.hasOwnProperty,p=function(t,e){for(var n in e)h.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};l=function(){function t(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var d=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new c).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),g=function(){function t(t,e){var n,r,i,o,a,s,u,l,c,f,h,p,d,g,y,m,v,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),c=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s=y=0;y<256;s=++y)this.codeMap[s]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,i=function(){var e,n;for(n=[],s=e=0;0<=f?e<f:f<e;s=0<=f?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,d=function(){var e,n;for(n=[],s=e=0;0<=f?e<f:f<e;s=0<=f?++e:--e)n.push(t.readUInt16());return n}(),u=function(){var e,n;for(n=[],s=e=0;0<=f?e<f:f<e;s=0<=f?++e:--e)n.push(t.readUInt16());return n}(),l=function(){var e,n;for(n=[],s=e=0;0<=f?e<f:f<e;s=0<=f?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,a=function(){var e,n;for(n=[],s=e=0;0<=r?e<r:r<e;s=0<=r?++e:--e)n.push(t.readUInt16());return n}(),s=m=0,_=i.length;m<_;s=++m)for(g=i[s],n=v=p=d[s];p<=g?v<=g:g<=v;n=p<=g?++v:--v)0===l[s]?o=n+u[s]:0!==(o=a[l[s]/2+(n-p)-(f-s)]||0)&&(o+=u[s]),this.codeMap[n]=65535&o}t.pos=c}return t.encode=function(t,e){var n,r,i,o,a,s,u,l,f,h,p,d,g,y,m,v,_,b,w,x,S,E,O,P,C,T,N,I,M,A,L,R,k,F,j,D,U,G,z,B,q,V,Y,H,W,X;switch(I=new c,o=Object.keys(t).sort((function(t,e){return t-e})),e){case"macroman":for(g=0,y=function(){var t,e;for(e=[],d=t=0;t<256;d=++t)e.push(0);return e}(),v={0:0},i={},M=0,k=o.length;M<k;M++)null==v[Y=t[r=o[M]]]&&(v[Y]=++g),i[r]={old:t[r],new:v[t[r]]},y[r]=v[t[r]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(y),{charMap:i,subtable:I.data,maxGlyphID:g+1};case"unicode":for(T=[],f=[],v={},n={},m=u=null,A=_=0,F=o.length;A<F;A++)null==v[w=t[r=o[A]]]&&(v[w]=++_),n[r]={old:w,new:v[w]},a=v[w]-r,null!=m&&a===u||(m&&f.push(m),T.push(r),u=a),m=r;for(m&&f.push(m),f.push(65535),T.push(65535),P=2*(O=T.length),E=2*Math.pow(Math.log(O)/Math.LN2,2),h=Math.log(E/2)/Math.LN2,S=2*O-E,s=[],x=[],p=[],d=L=0,j=T.length;L<j;d=++L){if(C=T[d],l=f[d],65535===C){s.push(0),x.push(0);break}if(32768<=C-(N=n[C].new))for(s.push(0),x.push(2*(p.length+O-d)),r=R=C;C<=l?R<=l:l<=R;r=C<=l?++R:--R)p.push(n[r].new);else s.push(N-C),x.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*O+2*p.length),I.writeUInt16(0),I.writeUInt16(P),I.writeUInt16(E),I.writeUInt16(h),I.writeUInt16(S),q=0,D=f.length;q<D;q++)r=f[q],I.writeUInt16(r);for(I.writeUInt16(0),V=0,U=T.length;V<U;V++)r=T[V],I.writeUInt16(r);for(H=0,G=s.length;H<G;H++)a=s[H],I.writeUInt16(a);for(W=0,z=x.length;W<z;W++)b=x[W],I.writeUInt16(b);for(X=0,B=p.length;X<B;X++)g=p[X],I.writeUInt16(g);return{charMap:n,subtable:I.data,maxGlyphID:_+1}}},t}(),y=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:n<r;0<=n?++r:--r)e=new g(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=g.encode(t,e),(r=new c).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),m=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),0<this.version&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;++e)n.push(t.readInt());return n}(),1<this.version))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="post",e.prototype.parse=function(t){var e,n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:for(n=t.readUInt16(),this.glyphNameIndex=[],r=0;0<=n?r<n:n<r;0<=n?++r:--r)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 196608:break;case 262144:return this.map=function(){var e,n,r;for(r=[],e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:n<e;0<=n?++e:--e)r.push(t.readUInt32());return r}.call(this)}},e}(),b=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,r,i,o,a,s,u,l,c,f,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),a=t.readShort(),n=[],i=l=0;0<=e?l<e:e<l;i=0<=e?++l:--l)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(s={},i=c=0,f=n.length;c<f;i=++c)r=n[i],t.pos=r.offset,u=t.readString(r.length),o=new b(u,r),null==s[h=r.nameID]&&(s[h]=[]),s[r.nameID].push(o);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},e}(),x=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,n,r,i,o,a,s;for(t.pos=this.offset,this.metrics=[],i=0,a=this.file.hhea.numberOfMetrics;0<=a?i<a:a<i;0<=a?++i:--i)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var e,r;for(r=[],e=0;0<=n?e<n:n<e;0<=n?++e:--e)r.push(t.readInt16());return r}(),this.widths=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.metrics).length;t<e;t++)r=n[t],i.push(r.advance);return i}.call(this),e=this.widths[this.widths.length-1],s=[],o=0;0<=n?o<n:n<o;0<=n?++o:--o)s.push(this.widths.push(e));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),E=[].slice,O=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="glyf",e.prototype.parse=function(t){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,o,a,s,u,l,f;return(t=t)in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,n=i.indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,o=(a=new c(e.read(r))).readShort(),u=a.readShort(),f=a.readShort(),s=a.readShort(),l=a.readShort(),this.cache[t]=-1===o?new C(a,u,f,s,l):new P(a,o,u,f,s,l),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,o,a,s;for(o=[],i=[],a=0,s=e.length;a<s;a++)r=t[e[a]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),P=function(){function t(t,e,n,r,i,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),C=function(){function t(t,e,n,r,i){var o,a;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readShort()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(t){var e,n,r,i,o;for(n=new c(E.call(this.raw.data)),e=r=0,i=(o=this.glyphIDs).length;r<i;e=++r)o[e],n.pos=this.glyphOffsets[e];return n.data},t}(),T=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,l),e.prototype.tag="loca",e.prototype.parse=function(t){var e;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=0===e?function(){var e,n,r;for(r=[],e=0,n=this.length;e<n;e+=2)r.push(2*t.readUInt16());return r}.call(this):function(){var e,n,r;for(r=[],e=0,n=this.length;e<n;e+=4)r.push(t.readUInt32());return r}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<e.length&&e[i]==o){++i,n[o]=r;var a=this.offsets[o],s=this.offsets[o+1]-a;0<s&&(r+=s)}for(var u=new Array(4*n.length),l=0;l<n.length;++l)u[4*l+3]=255&n[l],u[4*l+2]=(65280&n[l])>>8,u[4*l+1]=(16711680&n[l])>>16,u[4*l]=(4278190080&n[l])>>24;return u},e}(),N=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r,i;for(e in r=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=r[n];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,o,a,s;for(r={},o=0,a=t.length;o<a;o++)r[i=t[o]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(0<e.length)for(i in s=this.glyphsFor(e))n=s[i],r[i]=n;return r},t.prototype.encode=function(t,e){var n,r,i,o,a,s,u,l,c,f,h,p,d,g,m;for(r in n=y.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},m=n.charMap)h[(s=m[r]).old]=s.new;for(p in f=n.maxGlyphID,o)p in h||(h[p]=f++);return l=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(h),c=Object.keys(l).sort((function(t,e){return t-e})),d=function(){var t,e,n;for(n=[],t=0,e=c.length;t<e;t++)a=c[t],n.push(l[a]);return n}(),i=this.font.glyf.encode(o,d,h),u=this.font.loca.encode(i.offsets,d),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t}();t.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i,o,a;if(Array.isArray(n))return"["+function(){var t,i,o;for(o=[],t=0,i=n.length;t<i;t++)r=n[t],o.push(e.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"!=={}.toString.call(n))return""+n;for(i in o=["<<"],n)a=n[i],o.push("/"+i+" "+e.convert(a));return o.push(">>"),o.join("\n")},e}()}(dt),Tt="undefined"!=typeof self&&self||"undefined"!=typeof window&&window||void 0!==r&&r||Function('return typeof this === "object" && this.content')()||Function("return this")(),Nt=function(){var t,e,n;function r(t){var e,n,r,i,o,a,s,u,l,c,f,h,p,d;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),l=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===l&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,h=0;0<=e?h<e:e<h;0<=e?++h:--h)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if(0<(c=r-this.transparency.indexed.length))for(p=0;0<=c?p<c:c<p;0<=c?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(f=this.read(e)).indexOf(0),u=String.fromCharCode.apply(String,f.slice(0,s)),this.text[u]=String.fromCharCode.apply(String,f.slice(s+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.load=function(t,e,n){var i;return"function"==typeof e&&(n=e),(i=new XMLHttpRequest).open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t;return t=new r(new Uint8Array(i.response||i.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof n?n(t):void 0},i.send(null)},r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:t<e;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*e),r=0,i=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function o(o,a,s,u){var l,c,f,h,p,d,g,y,m,v,_,b,w,x,S,E,O,P,C,T,N,I=Math.ceil((i.width-o)/s),M=Math.ceil((i.height-a)/u),A=i.width==I&&i.height==M;for(x=e*I,b=A?n:new Uint8Array(x*M),d=t.length,c=w=0;w<M&&r<d;){switch(t[r++]){case 0:for(h=O=0;O<x;h=O+=1)b[c++]=t[r++];break;case 1:for(h=P=0;P<x;h=P+=1)l=t[r++],p=h<e?0:b[c-e],b[c++]=(l+p)%256;break;case 2:for(h=C=0;C<x;h=C+=1)l=t[r++],f=(h-h%e)/e,S=w&&b[(w-1)*x+f*e+h%e],b[c++]=(S+l)%256;break;case 3:for(h=T=0;T<x;h=T+=1)l=t[r++],f=(h-h%e)/e,p=h<e?0:b[c-e],S=w&&b[(w-1)*x+f*e+h%e],b[c++]=(l+Math.floor((p+S)/2))%256;break;case 4:for(h=N=0;N<x;h=N+=1)l=t[r++],f=(h-h%e)/e,p=h<e?0:b[c-e],0===w?S=E=0:(S=b[(w-1)*x+f*e+h%e],E=f&&b[(w-1)*x+(f-1)*e+h%e]),g=p+S-E,y=Math.abs(g-p),v=Math.abs(g-S),_=Math.abs(g-E),m=y<=v&&y<=_?p:v<=_?S:E,b[c++]=(l+m)%256;break;default:throw new Error("Invalid filter algorithm: "+t[r-1])}if(!A){var L=((a+w*u)*i.width+o)*e,R=w*x;for(h=0;h<I;h+=1){for(var k=0;k<e;k+=1)n[L++]=b[R++];L+=(s-1)*e}}w++}}return t=(t=new Ft(t)).getBytes(),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,u;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,n.length,e=a=t=0,s=n.length;a<s;e=a+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(u=o[t++])?u:255;return i},r.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,u,l,c,f,h;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),l=(i=t.data||t).length,a=c||e,o=s=0,1===r)for(;o<l;)u=c?4*e[o/4]:s,f=a[u++],i[o++]=f,i[o++]=f,i[o++]=f,i[o++]=n?a[u++]:255,s=u;else for(;o<l;)u=c?4*e[o/4]:s,i[o++]=a[u++],i[o++]=a[u++],i[o++]=a[u++],i[o++]=n?a[u++]:255,s=u},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{e=Tt.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return-1}return t=function(t){var r;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r},r.prototype.decodeFrames=function(e){var n,r,i,o,a,s,u,l;if(this.animation){for(l=[],r=a=0,s=(u=this.animation.frames).length;a<s;r=++a)n=u[r],i=e.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,l.push(n.image=t(i));return l}},r.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(e=function(){var a,u;if(a=n++%i,u=r[a],s.renderFrame(t,a),1<i&&n/i<o)return s.animation._timeout=setTimeout(e,u.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}(),Tt.PNG=Nt;var kt=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(t<n)return e;for(var r=512;r<t;)r<<=1;for(var i=new Uint8Array(r),o=0;o<n;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;r<n&&(n=r)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),Ft=function(){if("undefined"!=typeof Uint32Array){var t=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),n=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),r=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],i=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return(a.prototype=Object.create(kt.prototype)).getBits=function(t){for(var e,n=this.codeSize,r=this.codeBuf,i=this.bytes,a=this.bytesPos;n<t;)void 0===(e=i[a++])&&o("Bad encoding in flate stream"),r|=e<<n,n+=8;return e=r&(1<<t)-1,this.codeBuf=r>>t,this.codeSize=n-=t,this.bytesPos=a,e},a.prototype.getCode=function(t){for(var e=t[0],n=t[1],r=this.codeSize,i=this.codeBuf,a=this.bytes,s=this.bytesPos;r<n;){var u;void 0===(u=a[s++])&&o("Bad encoding in flate stream"),i|=u<<r,r+=8}var l=e[i&(1<<n)-1],c=l>>16,f=65535&l;return(0==r||r<c||0==c)&&o("Bad encoding in flate stream"),this.codeBuf=i>>c,this.codeSize=r-c,this.bytesPos=s,f},a.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;r<e;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,u=2;a<=n;++a,s<<=1,u<<=1)for(var l=0;l<e;++l)if(t[l]==a){var c=0,f=s;for(r=0;r<a;++r)c=c<<1|1&f,f>>=1;for(r=c;r<i;r+=u)o[r]=a<<16|l;++s}return[o,n]},a.prototype.readBlock=function(){function a(t,e,n,r,i){for(var o=t.getBits(n)+r;0<o--;)e[d++]=i}var s=this.getBits(3);if(1&s&&(this.eof=!0),0!=(s>>=1)){var u,l;if(1==s)u=r,l=i;else if(2==s){for(var c=this.getBits(5)+257,f=this.getBits(5)+1,h=this.getBits(4)+4,p=Array(t.length),d=0;d<h;)p[t[d++]]=this.getBits(3);for(var g=this.generateHuffmanTable(p),y=0,m=(d=0,c+f),v=new Array(m);d<m;){var _=this.getCode(g);16==_?a(this,v,2,3,y):17==_?a(this,v,3,3,y=0):18==_?a(this,v,7,11,y=0):v[d++]=y=_}u=this.generateHuffmanTable(v.slice(0,c)),l=this.generateHuffmanTable(v.slice(c,m))}else o("Unknown block type in flate stream");for(var b=(A=this.buffer)?A.length:0,w=this.bufferLength;;){var x=this.getCode(u);if(x<256)b<=w+1&&(b=(A=this.ensureBuffer(w+1)).length),A[w++]=x;else{if(256==x)return void(this.bufferLength=w);var S=(x=e[x-=257])>>16;0<S&&(S=this.getBits(S)),y=(65535&x)+S,x=this.getCode(l),0<(S=(x=n[x])>>16)&&(S=this.getBits(S));var E=(65535&x)+S;b<=w+y&&(b=(A=this.ensureBuffer(w+y)).length);for(var O=0;O<y;++O,++w)A[w]=A[w-E]}}}else{var P,C=this.bytes,T=this.bytesPos;void 0===(P=C[T++])&&o("Bad block header in flate stream");var N=P;void 0===(P=C[T++])&&o("Bad block header in flate stream"),N|=P<<8,void 0===(P=C[T++])&&o("Bad block header in flate stream");var I=P;void 0===(P=C[T++])&&o("Bad block header in flate stream"),(I|=P<<8)!=(65535&~N)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var M=this.bufferLength,A=this.ensureBuffer(M+N),L=M+N;this.bufferLength=L;for(var R=M;R<L;++R){if(void 0===(P=C[T++])){this.eof=!0;break}A[R]=P}this.bytesPos=T}},a}function o(t){throw new Error(t)}function a(t){var e=0,n=t[e++],r=t[e++];-1!=n&&-1!=r||o("Invalid header in flate stream"),8!=(15&n)&&o("Unknown compression method in flate stream"),((n<<8)+r)%31!=0&&o("Bad FCHECK in flate stream"),32&r&&o("FDICT bit set in flate stream"),this.bytes=t,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,kt.call(this)}}();window.tmp=Ft},void 0===(o=i.call(e,n,e,t))||(t.exports=o);try{t.exports=jsPDF}catch(t){}}).call(this,n(72))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(2),o=c(i),a=n(9),s=c(n(79)),u=c(n(179)),l=n(373);function c(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={mapId:"print-map-"+s.default.v4()},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"getImage",value:function(){var t=document.getElementById(this.state.mapId);if(t){var e=t.getElementsByTagName("canvas");if(e.length>0)try{for(var n=0,r=e.length;n<r;n++)if(e[n].width>0)return e[n].toDataURL("image/png")}catch(t){return"err"}}return""}},{key:"mapRendered",value:function(){var t=(0,l.printImage)(this.getImage());this.props.store.dispatch(t)}},{key:"render",value:function(){var t=this,e={display:"inline-block",width:(this.props.width?this.props.width:600)+"px",height:(this.props.height?this.props.height:400)+"px"},n=this.props.mapView.center,r=this.props.mapView.resolution;return o.default.createElement("div",{style:e,id:this.state.mapId},o.default.createElement(u.default,{store:this.props.store,center:n,resolution:r,printOnly:!0,mapRenderedCallback:function(){t.mapRendered()}}))}}]),e}();e.default=(0,a.connect)((function(t){return{mapView:t.map}}))(f)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),o=n(9),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={size:{width:600,height:400}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.Component),r(e,[{key:"render",value:function(){var t=this.props.print.printData;return t?"err"===t.substring(0,3)?i.default.createElement("div",{className:"error-message"},"There was an error generating the print image.",i.default.createElement("br",null),"This is likely due to a cross-origin/CORS error with a map-source which is being served from an external server. Check:",i.default.createElement("ol",null,i.default.createElement("li",null,"The server supports cross-origin requests."),i.default.createElement("li",null,"That the cross-origin param is set in the mapbook."),i.default.createElement("li",null,"If the server does not support cross-origin requests, set the map-source's printable attribute to false."))):i.default.createElement("div",{style:{textAlign:"center"}},i.default.createElement("img",{height:150,style:{border:"solid 1px #333",maxWidth:"100%"},alt:"map preview",src:t})):i.default.createElement("div",{style:{textAlign:"center"}},i.default.createElement("div",{style:{border:"solid 1px black",width:"100px",height:"150px"}}))}}]),e}();e.default=(0,o.connect)((function(t){return{print:t.print}}))(a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=[{label:"letter-landscape-legend",orientation:"landscape",page:"letter",units:"in",elements:[{type:"text",size:18,fontStyle:"bold",x:.5,y:.7,text:"{{title}}"},{type:"map",x:.5,y:.75,width:7,height:7},{type:"rect",x:.5,y:.75,width:7,height:7,strokeWidth:.01},{type:"text",x:.5,y:8,text:"Printed on {{month}} / {{day}} / {{year}}"},{type:"text",x:7.6,y:.9,text:"Legend"},{type:"legend",x:7.61,y:1},{type:"rect",x:7.6,y:.75,width:2.4,height:7,strokeWidth:.01}]},{label:"letter-landscape",orientation:"landscape",page:"letter",units:"in",elements:[{type:"text",size:18,fontStyle:"bold",x:.5,y:.7,text:"{{title}}"},{type:"map",x:.5,y:.75,width:10,height:7},{type:"rect",x:.5,y:.75,width:10,height:7,strokeWidth:.01},{type:"text",x:.5,y:8,text:"Printed on {{month}} / {{day}} / {{year}}"}]},{label:"letter-portrait",orientation:"portrait",page:"letter",units:"in",elements:[{type:"text",size:18,fontStyle:"bold",x:.5,y:.7,text:"{{title}}"},{type:"map",x:.5,y:.75,width:7.5,height:9.5},{type:"rect",x:.5,y:.75,width:7.5,height:9.5,strokeWidth:.01},{type:"text",x:.5,y:10.5,text:"Printed on {{month}} / {{day}} / {{year}}"}]},{label:"tabloid-landscape",orientation:"landscape",page:"tabloid",units:"in",elements:[{type:"text",size:18,fontStyle:"bold",x:.5,y:.7,text:"{{title}}"},{type:"map",x:.5,y:.75,width:16,height:9.5},{type:"rect",x:.5,y:.75,width:16,height:9.5,strokeWidth:.01},{type:"text",x:.5,y:10.5,text:"Printed on {{month}} / {{day}} / {{year}}"}]}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.setGeoArea=function(t,e){this.internal.events.subscribe("putPage",(function(){var n=function(t,e){var n=t.join(" "),r=e[0],i=e[2],o=e[1],a=e[3],s=[a,r,o,r,o,i,a,i].join(" "),u=this.internal.newAdditionalObject(),l=this.internal.newAdditionalObject(),c=this.internal.newAdditionalObject();return c.content='<< /EPSG 3857 /Type /PROJCS /WKT (PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.017453292519943295]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",0.0],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]) >>',l.content="<< /Bounds [ 0 1 0 0 1 0 1 1 ] /GCS "+c.objId+" 0 R /GPTS [ "+s+" ] /LPTS [ 0 1 0 0 1 0 1 1 ] /Subtype /GEO /Type /Measure >>",u.content="<< /BBox [ "+n+" ] /Measure "+l.objId+" 0 R /Name (Layer) /Type /Viewport >>",this.internal.newAdditionalObject().content="<< /Name (User Generated Map) /Type /OCG >>",u.objId}.call(this,t,e);this.internal.write("/VP [ "+n+" 0 R ]")}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScalelineInfo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=Object.assign({},s,n),l=t.getCenter(),c=t.getProjection(),f=e===o.DEGREES?i.default.DEGREES:i.default.METERS;if(!c)return{label:"",width:0,error:"no-projection"};var h=t.getResolution(),p=(0,r.getPointResolution)(c,h*u.multiplier,l,f);c.getUnits()!==i.default.DEGREES&&c.getMetersPerUnit()&&f===i.default.METERS&&(p*=c.getMetersPerUnit());var d=u.minWidth*p,g="";if(e===o.DEGREES){var y=r.METERS_PER_UNIT[i.default.DEGREES];c.getUnits()===i.default.DEGREES?d*=y:p/=y,d<y/60?(g="",p*=3600):d<y?(g="",p*=60):g=""}else if(e===o.IMPERIAL)d<.9144?(g="in",p/=.0254):d<1609.344?(g="ft",p/=.3048):(g="mi",p/=1609.344);else if(e===o.NAUTICAL)p/=1852,g="nm";else if(e===o.METRIC)d<.001?(g="m",p*=1e6):d<1?(g="mm",p*=1e3):d<1e3?g="m":(g="km",p/=1e3);else{if(e!==o.US)return{label:"",width:0,error:"bad-units"};d<.9144?(g="in",p*=39.37):d<1609.344?(g="ft",p/=.30480061):(g="mi",p/=1609.3472)}for(var m=3*Math.floor(Math.log(u.minWidth*p)/Math.log(10)),v=void 0,_=void 0;;){if(v=a[(m%3+3)%3]*Math.pow(10,Math.floor(m/3)),_=Math.round(v/p),isNaN(_))return{label:"",width:0,error:"width-is-nan"};if(_>=u.minWidth)break;++m}return{label:v+" "+g,width:_}};var r=n(5),i=function(t){return t&&t.__esModule?t:{default:t}}(n(57)),o={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},a=[1,2,5],s={minWidth:64,multiplier:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JumpToExtent=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),i=n(9),o=n(22),a=n(37),s=e.JumpToExtent=function(t){var e=t.locations,n=t.onZoomTo,i=(0,o.useTranslation)().t,a=e.map((function(t,e){return r.default.createElement("option",{key:e,value:e},t.label)}));return r.default.createElement("select",{value:"default",onChange:function(t){n(e[t.target.value].extent)}},r.default.createElement("option",{disabled:!0,key:"default",value:"default"},i("zoomto-extent")),a)};s.defaultProps={locations:[],onZoomTo:function(t){}},e.default=(0,i.connect)(void 0,(function(t){return{onZoomTo:function(e){t((0,a.zoomToExtent)(e))}}}))(s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=u(n(2)),o=n(9),a=n(146),s=u(n(80));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"renderBody",value:function(){return i.default.createElement("div",null,i.default.createElement("label",null,"This url can be copied and pasted to make a bookmark:"),i.default.createElement("a",{href:""+document.location,target:"_blank",rel:"noopener noreferrer"}," Map Link"),i.default.createElement("textarea",{style:{width:"100%",height:"200px",fontFamily:"mono"},defaultValue:""+document.location}))}}]),e}();l.defaultProps={title:"Bookmark",options:[{value:"close",label:"Close"}]},e.default=(0,o.connect)((function(t){return{open:"bookmark"===t.ui.modal}}),(function(t){return{onClose:function(){t((0,a.showModal)(""))}}}))(l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(27),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(16)),a=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracking=!1,this.store=e,e.subscribe((function(){n.track()}))}return r(t,[{key:"startTracking",value:function(){this.tracking=!0}},{key:"stopTracking",value:function(){this.tracking=!1}},{key:"restoreFavorites",value:function(){var t=localStorage.getItem("favorites");if(t&&(t=t.split(";"))&&t.length){var e=!0,n=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var u=a.value,l=o.getMapSourceName(u),c=o.getLayerName(u);this.store.dispatch((0,i.favoriteLayer)(l,c,!0))}}catch(t){n=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw r}}}}},{key:"restore",value:function(){this.restoreFavorites()}},{key:"trackFavorites",value:function(){var t=this.store.getState(),e="",n="";for(var r in t.mapSources){var i=!0,o=!1,a=void 0;try{for(var s,u=t.mapSources[r].layers[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;l.favorite&&(e+=n+r+"/"+l.name,n=";")}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}}this.lastFavorites!==e&&(localStorage.setItem("favorites",e),this.lastFavorites=e)}},{key:"track",value:function(){return this.tracking&&this.trackFavorites(),!1}}]),t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(27),o=l(n(37)),a=n(28),s=l(n(16)),u=l(n(788));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tracking=!1,this.store=e,this.trackWindowChanges=this.trackWindowChanges.bind(this),e.subscribe((function(){n.track()})),this.lastHash="",this.joinSymbol=";"}return r(t,[{key:"startTracking",value:function(){this.tracking=!0,window.addEventListener("hashchange",this.trackWindowChanges,!1)}},{key:"stopTracking",value:function(){this.tracking=!1}},{key:"isAlwaysOn",value:function(t){if(t&&t.options){var e=t.options["always-on"];return!0===e||s.parseBoolean(e)}return!1}},{key:"restoreLayers",value:function(t){for(var e=t.split(this.joinSymbol),n=(0,i.getVisibleLayers)(this.store.getState().mapSources),r=[],o=[],u=0,l=e.length;u<l;u++)n.indexOf(e[u])<0&&o.push(e[u]);for(var c=0,f=n.length;c<f;c++)e.indexOf(n[c])<0&&r.push(n[c]);var h=!0,p=!1,d=void 0;try{for(var g,y=o[Symbol.iterator]();!(h=(g=y.next()).done);h=!0){var m=g.value;this.store.dispatch({type:a.MAPSOURCE.LAYER_VIS,mapSourceName:s.getMapSourceName(m),layerName:s.getLayerName(m),on:!0})}}catch(t){p=!0,d=t}finally{try{!h&&y.return&&y.return()}finally{if(p)throw d}}var v=this.store.getState().mapSources,_=!0,b=!1,w=void 0;try{for(var x,S=r[Symbol.iterator]();!(_=(x=S.next()).done);_=!0){var E=x.value,O=s.getMapSourceName(E);this.isAlwaysOn(v[O])||this.store.dispatch({type:a.MAPSOURCE.LAYER_VIS,mapSourceName:O,layerName:s.getLayerName(E),on:!1})}}catch(t){b=!0,w=t}finally{try{!_&&S.return&&S.return()}finally{if(b)throw w}}}},{key:"restoreLocation",value:function(t){var e=t.split(this.joinSymbol).map(parseFloat);this.store.dispatch(o.setView({zoom:null,center:[e[1],e[2]],resolution:e[0]}))}},{key:"restore",value:function(){var t=u.parse("?"+window.location.hash.substring(1),!0);t.query&&(t.query.loc&&this.restoreLocation(t.query.loc),t.query.on&&this.restoreLayers(t.query.on))}},{key:"trackLayers",value:function(){var t=this.store.getState().mapSources,e=(0,i.getVisibleLayers)(t),n=[],r=!0,o=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value,f=s.getMapSourceName(c);this.isAlwaysOn(t[f])||n.push(c)}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}},{key:"trackLocation",value:function(t){return{x:t.center[0],y:t.center[1],z:t.resolution}}},{key:"trackWindowChanges",value:function(){window.location.hash!=="#"+this.lastHash&&this.restore()}},{key:"track",value:function(){if(this.tracking){var t="",e=this.store.getState();t+="on="+this.trackLayers().join(this.joinSymbol);var n=this.trackLocation(e.map);t+="&loc="+[n.z,n.x,n.y].join(this.joinSymbol),this.lastHash!==t&&(this.lastHash=t,window.location.hash=t)}return!1}}]),t}();e.default=c},function(t,e,n){"use strict";var r=n(789),i=n(790);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){return i.isString(t)&&(t=_(t)),t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),f=["%","/","?",";","#"].concat(c),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(791);function _(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var _=t=l.join(s);if(_=_.trim(),!n&&1===t.split("#").length){var b=u.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(_);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,_=_.substr(w.length)}if(n||w||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===_.substr(0,2);!S||w&&y[w]||(_=_.substr(2),this.slashes=!0)}if(!y[w]&&(S||w&&!m[w])){for(var E,O,P=-1,C=0;C<h.length;C++)-1!==(T=_.indexOf(h[C]))&&(-1===P||T<P)&&(P=T);for(-1!==(O=-1===P?_.lastIndexOf("@"):_.lastIndexOf("@",P))&&(E=_.slice(0,O),_=_.slice(O+1),this.auth=decodeURIComponent(E)),P=-1,C=0;C<f.length;C++){var T;-1!==(T=_.indexOf(f[C]))&&(-1===P||T<P)&&(P=T)}-1===P&&(P=_.length),this.host=_.slice(0,P),_=_.slice(P),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var I=this.hostname.split(/\./),M=(C=0,I.length);C<M;C++){var A=I[C];if(A&&!A.match(p)){for(var L="",R=0,k=A.length;R<k;R++)A.charCodeAt(R)>127?L+="x":L+=A[R];if(!L.match(p)){var F=I.slice(0,C),j=I.slice(C+1),D=A.match(d);D&&(F.push(D[1]),j.unshift(D[2])),j.length&&(_="/"+j.join(".")+_),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[x])for(C=0,M=c.length;C<M;C++){var z=c[C];if(-1!==_.indexOf(z)){var B=encodeURIComponent(z);B===z&&(B=escape(z)),_=_.split(z).join(B)}}var q=_.indexOf("#");-1!==q&&(this.hash=_.substr(q),_=_.slice(0,q));var V=_.indexOf("?");if(-1!==V?(this.search=_.substr(V),this.query=_.substr(V+1),e&&(this.query=v.parse(this.query)),_=_.slice(0,V)):e&&(this.search="",this.query={}),_&&(this.pathname=_),m[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=v.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=t[c])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var g=n.pathname||"",v=n.search||"";n.path=g+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=b||_||n.host&&t.pathname,x=w,S=n.pathname&&n.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),w=w&&(""===d[0]||""===S[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search))return E&&(n.hostname=n.host=S.shift(),(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=S.slice(-1)[0],P=(n.host||t.host||S.length>1)&&("."===O||".."===O)||""===O,C=0,T=S.length;T>=0;T--)"."===(O=S[T])?S.splice(T,1):".."===O?(S.splice(T,1),C++):C&&(S.splice(T,1),C--);if(!w&&!x)for(;C--;C)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),P&&"/"!==S.join("/").substr(-1)&&S.push("");var N,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);return E&&(n.hostname=n.host=I?"":S.length?S.shift():"",(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.host=n.hostname=N.shift())),(w=w||n.host&&S.length)&&!I&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){(function(t,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=1,f=26,h=38,p=700,d=72,g=128,y="-",m=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,x=Math.floor,S=String.fromCharCode;function E(t){throw new RangeError(b[t])}function O(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function P(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+O((t=t.replace(_,".")).split("."),e).join(".")}function C(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function T(t){return O(t,(function(t){var e="";return t>65535&&(e+=S((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+S(t)})).join("")}function N(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,n){var r=0;for(t=n?x(t/p):t>>1,t+=x(t/e);t>w*f>>1;r+=l)t=x(t/w);return x(r+(w+1)*t/(t+h))}function A(t){var e,n,r,i,o,a,s,h,p,m,v=[],_=t.length,b=0,w=g,S=d;for((n=t.lastIndexOf(y))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(o=b,a=1,s=l;i>=_&&E("invalid-input"),((h=N(t.charCodeAt(i++)))>=l||h>x((u-b)/a))&&E("overflow"),b+=h*a,!(h<(p=s<=S?c:s>=S+f?f:s-S));s+=l)a>x(u/(m=l-p))&&E("overflow"),a*=m;S=M(b-o,e=v.length+1,0==o),x(b/e)>u-w&&E("overflow"),w+=x(b/e),b%=e,v.splice(b++,0,w)}return T(v)}function L(t){var e,n,r,i,o,a,s,h,p,m,v,_,b,w,O,P=[];for(_=(t=C(t)).length,e=g,n=0,o=d,a=0;a<_;++a)(v=t[a])<128&&P.push(S(v));for(r=i=P.length,i&&P.push(y);r<_;){for(s=u,a=0;a<_;++a)(v=t[a])>=e&&v<s&&(s=v);for(s-e>x((u-n)/(b=r+1))&&E("overflow"),n+=(s-e)*b,e=s,a=0;a<_;++a)if((v=t[a])<e&&++n>u&&E("overflow"),v==e){for(h=n,p=l;!(h<(m=p<=o?c:p>=o+f?f:p-o));p+=l)O=h-m,w=l-m,P.push(S(I(m+O%w,0))),h=x(O/w);P.push(S(I(h,0))),o=M(n,b,r==i),n=0,++r}++n,++e}return P.join("")}s={version:"1.4.1",ucs2:{decode:C,encode:T},decode:A,encode:L,toASCII:function(t){return P(t,(function(t){return v.test(t)?"xn--"+L(t):t}))},toUnicode:function(t){return P(t,(function(t){return m.test(t)?A(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(216)(t),n(72))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(792),e.encode=e.stringify=n(793)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,h,p,d,g=t[c].replace(s,"%20"),y=g.indexOf(n);y>=0?(f=g.substr(0,y),h=g.substr(y+1)):(f=g,h=""),p=decodeURIComponent(f),d=decodeURIComponent(h),r(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),(function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[a]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n.n(r),o=n(186),a=n(383),s=n.n(a),u=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=i,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},l=n(7),c=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},f=n(251),h=function(){return f.default.Date.now()},p=n(384),d=n.n(p),g=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,v=/^0o[0-7]+$/i,_=parseInt,b=function(t){if("number"==typeof t)return t;if(d()(t))return NaN;if(c(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=c(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(g,"");var n=m.test(t);return n||v.test(t)?_(t.slice(2),n?2:8):y.test(t)?NaN:+t},w=Math.max,x=Math.min,S=function(t,e,n){var r,i,o,a,s,u,l=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=r,o=i;return r=i=void 0,l=e,a=t.apply(o,n)}function y(t){var n=t-u;return void 0===u||n>=e||n<0||p&&t-l>=o}function m(){var t=h();if(y(t))return v(t);s=setTimeout(m,function(t){var n=e-(t-u);return p?x(n,o-(t-l)):n}(t))}function v(t){return s=void 0,d&&r?g(t):(r=i=void 0,a)}function _(){var t=h(),n=y(t);if(r=arguments,i=this,u=t,n){if(void 0===s)return function(t){return l=t,s=setTimeout(m,e),f?g(t):a}(u);if(p)return clearTimeout(s),s=setTimeout(m,e),g(u)}return void 0===s&&(s=setTimeout(m,e)),a}return e=b(e)||0,c(n)&&(f=!!n.leading,o=(p="maxWait"in n)?w(b(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),_.cancel=function(){void 0!==s&&clearTimeout(s),l=0,r=u=i=s=void 0},_.flush=function(){return void 0===s?a:v(h())},_},E={debounce:S,throttle:function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return c(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),S(t,e,{leading:r,maxWait:e,trailing:i})}},O=function(t){return E[t]},P=function(t){return"function"==typeof t},C=function(){return"undefined"==typeof window},T=function(t){return t instanceof Element||t instanceof HTMLDocument};function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,M(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(e,r.PureComponent),function(t,e,n){e&&I(t.prototype,e)}(e,[{key:"render",value:function(){return this.props.children}}]),e}();function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),U(j(n=function(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?j(t):e}(this,F(e).call(this,t))),"cancelHandler",(function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)})),U(j(n),"rafClean",(function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)})),U(j(n),"toggleObserver",(function(t){var e=n.getElement();e&&n.resizeObserver[t]&&n.resizeObserver[t](e)})),U(j(n),"getElement",(function(){var t=n.props,e=t.querySelector,r=t.targetDomEl;if(!C()){if(e)return document.querySelector(e);if(r&&T(r))return r;var i=n.element&&Object(o.findDOMNode)(n.element);if(i)return i.parentElement}})),U(j(n),"createUpdater",(function(){return n.rafClean(),n.raf=u((function(t){var e=t.width,r=t.height,i=n.props.onResize;P(i)&&i(e,r),n.setState({width:e,height:r})})),n.raf})),U(j(n),"createResizeHandler",(function(t){var e=n.state,r=e.width,i=e.height,o=n.props,a=o.handleWidth,s=o.handleHeight;if(a||s){var u=n.createUpdater();t.forEach((function(t){var e=t&&t.contentRect||{},o=e.width,l=e.height,c=a&&r!==o||s&&i!==l;!n.skipOnMount&&c&&!C()&&u({width:o,height:l}),n.skipOnMount=!1}))}})),U(j(n),"onRef",(function(t){n.element=t})),U(j(n),"getRenderType",(function(){var t=n.props,e=t.render,i=t.children;return P(e)?"renderProp":P(i)?"childFunction":Object(r.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"})),U(j(n),"getTargetComponent",(function(){var t=n.props,e=t.render,i=t.children,o=t.nodeType,a=n.state,s={width:a.width,height:a.height};switch(n.getRenderType()){case"renderProp":return Object(r.cloneElement)(e(s),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(i(s));case"child":return Object(r.cloneElement)(i,s);case"childArray":return i.map((function(t){return!!t&&Object(r.cloneElement)(t,s)}));default:return Object(r.createElement)(o)}}));var i=t.skipOnMount,a=t.refreshMode,l=t.refreshRate,c=t.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=i,n.raf=null,n.element=null,n.unmounted=!1;var f=O(a);return n.resizeHandler=f?f(n.createResizeHandler,l,c):n.createResizeHandler,n.resizeObserver=new s.a(n.resizeHandler),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,r.PureComponent),function(t,e,n){e&&k(t.prototype,e)}(e,[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return i.a.createElement(L,{ref:this.onRef},this.getTargetComponent())}}]),e}();G.propTypes={handleWidth:l.bool,handleHeight:l.bool,skipOnMount:l.bool,refreshRate:l.number,refreshMode:l.string,refreshOptions:Object(l.shape)({leading:l.bool,trailing:l.bool}),querySelector:l.string,targetDomEl:l.any,onResize:l.func,render:l.func,children:l.any,nodeType:l.node},G.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};var z=G;function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return!e||"object"!==B(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){function o(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),V(this,Y(o).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(o,r.Component),function(t,e,n){e&&q(t.prototype,e)}(o,[{key:"render",value:function(){return i.a.createElement(z,e,i.a.createElement(t,this.props))}}]),o}()};n.d(e,"withResizeDetector",(function(){return W})),e.default=z}])}));